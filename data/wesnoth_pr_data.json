[
  {
    "number": 10635,
    "title": "Fix shema cumulative= valide for no numerical abilities/special",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema",
      "Campaign DiD",
      "Campaign WC",
      "Campaign TDG"
    ],
    "body": "not only is cumulative= only used in abilities or specials returning a numeric value, but it only works in the case where value= is used, so it seems relevant to me to remove it from all other cases and to correct the schema as well as the engine.",
    "files": [
      {
        "filename": "data/campaigns/Descent_Into_Darkness/utils/abilities.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/World_Conquest/resources/data/artifacts.cfg"
      },
      {
        "filename": "data/core/macros/abilities.cfg"
      },
      {
        "filename": "data/core/macros/deprecated-utils.cfg"
      },
      {
        "filename": "data/core/macros/weapon_specials.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/schema/units/specials.cfg"
      },
      {
        "filename": "data/test/macros/unit_setup.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/test_add_or_sub_in_leadership.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      }
    ],
    "commits_messages": [
      "remove all cumulative=no\n\nlike cumulative=no by default and what attribute implemented same in weapon special who don't return numerical value, i prefer remove that to abilities who don't return numerical value or who don't use value=, because it is the other numerical attribute(add/sub/multiply/divide) not affected by cumulative, before to fix schema",
      "fix 'cumulative' schema in generic abilities"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10635"
  },
  {
    "number": 10633,
    "title": "Sort terrain entries alphabetically.",
    "labels": [
      "Help",
      "Terrain"
    ],
    "body": "Fixes #10438 \r\n\r\nImplements the suggestion from issue #10438.\r\n\r\nThe terrain help topics were previously sorted by their internal string ID, which is not user-friendly.\r\n\r\nThis commit moves the sections from the map into a std::vector and sorts it using std::sort with translation::icompare on the display title (a.title). This provides a correct, user-facing alphabetical sort that respects localization.",
    "files": [
      {
        "filename": "src/help/help_impl.cpp"
      }
    ],
    "commits_messages": [
      "Sort terrain entries alphabetically.\n\nImplements the suggestion from issue #10438.\n\nThe terrain help topics were previously sorted by their internal string ID, which is not user-friendly.\n\nThis commit moves the sections from the map into a std::vector and sorts it using the existing `section_less` class, which provides a correct, user-facing alphabetical sort that respects localization.\n\nThis also includes whitespace and and include-header fixes found during code review."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10633"
  },
  {
    "number": 10537,
    "title": "Revert 'Balancing Update' to Dwarvish Miner",
    "labels": [
      "Units"
    ],
    "body": "Resets HP and XP back to their values from 10 months ago.\r\n\r\nhitpoints: 25 -> 22\r\nexperience: 20 -> 24\r\n\r\nThe Dwarvish Miner is already a tough unit with great resistances, movement_type, traits, advancements and damage. Giving it almost the same HP as the Wose Sapling is out of proportion, both in relation to the HP of comparable units, and because it makes the Miner impossible to kill by units of the same level.\r\n\r\nAlso, setting the XP to 20 means an intelligent Miner can advance with two L1 kills, which is too fast for a unit that advances into a Dwarvish Guardsman/Fighter. Those two are among the toughest default L1 recruits, so this gives a massive advantage to the side that can acquire them so *quickly*.",
    "files": [
      {
        "filename": "changelog_entries/dwarvish_miner_rebalance.md"
      },
      {
        "filename": "data/core/units/dwarves/Miner.cfg"
      }
    ],
    "commits_messages": [
      "Revert 'Balancing Update' to Dwarvish Miner\n\nResets HP and XP back to their values from 10 months ago.\r\n\r\nhitpoints: 25 -> 22\r\nexperience: 20 -> 24\r\n\r\nThe Dwarvish Miner is already a tough unit with great resistances, movement_type, traits, advancements and damage. Giving it almost the same HP as the Wose Sapling is out of proportion, both in relation to the HP of comparable units, and because it makes the Miner impossible to kill by units of the same level.\r\n\r\nAlso, setting the XP to 20 means an intelligent Miner can advance with two L1 kills, which is too fast for a unit that advances into a Dwarvish Guardsman/Fighter. Those two are among the toughest default L1 recruits, so this gives a massive advantage to the side that can acquire them so *quickly*.",
      "Reduce cost of Dwarvish Miner\n\nChanges the cost from 11g to 10g. This is meant to balance out the previous nerf to hitpoints and experience.",
      "Create dwarvish_miner_rebalance\n\nAdd a changelog entry for this pull request.",
      "Rename dwarvish_miner_rebalance to dwarvish_miner_rebalance.md\n\nFix missing file extension in previous commit."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10537"
  },
  {
    "number": 10621,
    "title": "GUI2/Story Viewer: title text positioning support in [part]",
    "labels": [
      "UI",
      "Schema"
    ],
    "body": "Resolves #10616.\r\nIntroduces a new key `title_position` that allows for more positioning control of story screen title text. Syntax: `title_position = <X>,<Y>` or `title_position = centered`. X and Y must be one of the special values:\r\nX : `left`, `right`, `center`\r\nY : `top`, `bottom`, `middle`\r\n\r\n(Note: this won't afftect the alignment of the text, so `title_alignment` in conjunction with this may be needed.)\r\n\r\nExample:\r\n```ini\r\n[part]\r\n    title= _ \"<i>The Legend of Wesmere</i>\r\nChapter One\"\r\n    title_position=centered\r\n    title_alignment=center\r\n[/part]\r\n ```\r\n \r\n Also, the title text will now *fade in/out* just like the part text.",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/gui/themes/default/dialogs/story_viewer.cfg"
      },
      {
        "filename": "data/gui/themes/default/widgets/label_story_screen_title.cfg"
      },
      {
        "filename": "data/schema/core/addons.cfg"
      },
      {
        "filename": "src/gui/dialogs/story_viewer.cpp"
      },
      {
        "filename": "src/storyscreen/part.cpp"
      },
      {
        "filename": "src/storyscreen/part.hpp"
      }
    ],
    "commits_messages": [
      "GUI2/Story Viewer: title text positioning support in [part]\n\nintroduces a new key `title_position` that allows for more positioning control.\nSyntax: `title_position = <X>,<Y>` or `title_position = centered`.\nX and Y could be a percentage or the special values:\nX : `left`, `right`, `center`\nY : `top`, `bottom`, `middle`",
      "simplifications to story viewer",
      "improve orientation handling, remove manual percent support",
      "avoid part text and title text overlapping",
      "Fade in/out for `title_text`",
      "Miscelleneous reviewed changed",
      "Miscelleneous reviewed changes"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10621"
  },
  {
    "number": 10625,
    "title": "Check for secret",
    "labels": [
      "CI",
      "Android"
    ],
    "body": "This is a way to check if a release build can be done based on secret existence/emptiness. This way no matter the context (push/PR from fork/action running in a fork etc) there should be no build error (because of secret access).\r\n\r\nIf instead we could make `SIGNING_KEY_ALIAS` a normal variable there would be no need for a shell step.",
    "files": [
      {
        "filename": ".github/workflows/android.yml"
      }
    ],
    "commits_messages": [
      "Check if variable is set to decide build type\n\nAssuming if the variable is set the secrets are as well. This way no matter the\ncontext (push/PR from fork/action running in a fork etc) there should be no\nbuild error (because of vars/secret access)."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10625"
  },
  {
    "number": 10622,
    "title": "Ignore invalid old-style attribute names",
    "labels": [
      "Help"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/serialization/markup.cpp"
      }
    ],
    "commits_messages": [
      "Improve variable name",
      "Ignore invalid old-style attribute names"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10622"
  },
  {
    "number": 10538,
    "title": "Fix abilities_special_tooltips() so that 'name_affected' is displayed the same way as [specials]",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "Can resolve https://github.com/wesnoth/wesnoth/issues/10535 issue.\r\n\r\nFor example, if you have a marksman taught to a distant unit and its side isn't the one currently playing its turn, the 'name_affected' that should appear in its distance attack in the ini sidebar disappears. This PR changes this so that it is displayed inactive like a real special marksman.\r\n\r\nThe general idea is to do a two-step check, first check that the ability applies to 'self/student', taking into account only the filters used for 'self' [filter_student], but also [filter_attacker/defenser] depending on the circumstances, while ignoring the other filters and the 'active_on' attribute, and if these conditions are met, display 'name_affected', then comes the second more standard check where we look at everything, and if the check succeeds 'name_affected' is displayed as active, otherwise, it will be displayed as inactive",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      }
    ],
    "commits_messages": [
      "Fix abilities_special_tooltips() so that 'name_affected' is displayed the same way as [specials]\n\nFor example, if you have a marksman taught to a distant unit and its side isn't the one currently playing its turn, the 'name_affected' that should appear in its distance attack in the ini sidebar disappears. This PR changes this so that it is displayed inactive like a real special marksman.",
      "use simplified version of special_active() instead of add boolean variable."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10538"
  },
  {
    "number": 10617,
    "title": "TSG: assorted tutorial improvements",
    "labels": [
      "Graphics",
      "Units",
      "Achievements",
      "Campaign TSG"
    ],
    "body": "I've compiled my notes from several new players' feedbacks into one PR with assorted improvements to TSG. Most notably:\r\n- Restored S01's intro storytext.\r\n- Moved some S03/S04 scenario hints to S01/S02.\r\n- Added some additional hints to S03/S04.\r\n- Replaced most maps' ford terrain with bridge.\r\n- Added a more stylish UI for S02x's companion selection choice.\r\n- Allied sides are now at the end of the turn order.\r\n- Fixed several RNG-related tips not triggering.\r\n",
    "files": [
      {
        "filename": "changelog_entries/tsg_new_player_improvements.md"
      },
      {
        "filename": "data/campaigns/The_South_Guard/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/achievements.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/story/fall.webp"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/story/summer.webp"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/story/winter.webp"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/accelerated_speed.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/allies.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/ambush.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/bluffs.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/brazier-s05b.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/brazier-s06a.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/change_difficulty.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/dodge.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/feeding_experience.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/fog.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/gold.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/lambs.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/luck.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/poison.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/resistances.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/roster.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/saveload.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/tod.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/traits.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/trolls.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/turns.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/underground.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/unit_description.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/zoc.png"
      }
    ],
    "commits_messages": [
      "TSG: assorted revisions",
      "run wmlindent",
      "add image metadata",
      "add changelog entry",
      "add metadata (again)",
      "wedge dialogue fixes",
      "fix lua whitespace",
      "fix translations issue",
      "fix schema",
      "Fix fourth-wall-breaking Mari dialogue.",
      "S01: play old main_menu.ogg during storytext",
      "S06a/b: limit reinforcements to Hard difficulty"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10617"
  },
  {
    "number": 10629,
    "title": "Fix [resistance_defaults] leaking on random maps, causing OOS",
    "labels": [],
    "body": "Credit to gfgtdf for the solution.\r\n\r\nFixes #10010",
    "files": [
      {
        "filename": "src/game_initialization/create_engine.cpp"
      }
    ],
    "commits_messages": [
      "Fix [resistance_defaults] leaking on random maps, causing OOS\n\nCredit to gfgtdf for the solution.\n\nFixes #10010"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10629"
  },
  {
    "number": 10632,
    "title": "Adjust L2/L3 Merfolk hp, damage, xp, and cost",
    "labels": [
      "Units"
    ],
    "body": "This is a collection of several hp, damage, xp, and cost changes to level 2 and level 2 merfolk. The main goals of these changes are:\r\n\r\n1) buff the Spearman/Javelineer line to be useful beyond pierce-vulnerable enemies. In merfolk campaigns, they're currently rather overshadowed by the Entangler/Priestess (for utility) and Enchantress (for damage).\r\n\r\n2) nerf Mermaid XP costs to be more in line with other factions' mages. Magical is disproportionately strong on mermen, since they'll often be fighting against aquatic opponents with 50-70% defense.\r\n\r\n3) fix minor RIPLIB issue with Netcaster's 9-2 range changing to 8-3 on the Entangler.\r\n\r\n```\r\nMerman Hoplite:      cost 45g->44g, hitpoints 52hp->58hp\r\nMerman Triton:       cost 46g->41g\r\n\r\nMerman Netcaster:    cost 26g->25g, ranged 9-2 -> 8-2\r\nMerman Entangler:    cost 42g->37g\r\n\r\nMerman Spearman:     cost 22g->25g, hitpoints 43hp->47hp\r\nMerman Javelineer:   cost 55g->48g, hitpoints 58hp->60hp, melee 8-2 -> 9-2\r\n\r\nMermaid Enchantress: experience 46xp->75xp\r\nMermaid Siren:       cost 42g->58g, ranged 15-3 -> 14-3\r\n\r\nMermaid Priestess:   experience 61xp->73xp\r\nMermaid Diviner:     cost 49g->57g\r\n```\r\n\r\nBalance team vote has passed; will merge once checks complete.",
    "files": [
      {
        "filename": "changelog_entries/merfolk_rebalance.md"
      },
      {
        "filename": "data/core/units/merfolk/Diviner.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Enchantress.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Entangler.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Hoplite.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Javelineer.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Netcaster.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Priestess.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Siren.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Spearman.cfg"
      },
      {
        "filename": "data/core/units/merfolk/Triton.cfg"
      }
    ],
    "commits_messages": [
      "update merfolk stats",
      "create changelog entry",
      "Update merfolk_rebalance.md"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10632"
  },
  {
    "number": 10572,
    "title": "Move starting and trailing new-lines from translation strings",
    "labels": [
      "MP",
      "Translations",
      "Editor",
      "Units",
      "Prose",
      "Help",
      "Campaign TSG",
      "Campaign Tutorial",
      "Campaign UtBS"
    ],
    "body": "This was prompted by https://github.com/wesnoth/wesnoth/commit/1016bd8c4fc36c0be6f2d1eea1d9fa7e866cb128#r166256192 and could be considered an extension of #10570 (eg removing `<header>` from the Help headings).\r\n\r\nSome large chunks of text (particularly from Help pages) have multiple paragraphs and arguably should be broken into smaller chunks. But that sort of thing is probably best left for when the strings are actually changing, so I've limited doing this only for the things I'm changing here.\r\n\r\nI requested @babaissarkar's review because of GUI2 Help mark-up changes mainly in the traits macros but there's also at least one `<header>` that still had `text=` attached to it. I'm not sure if I'm doing the conversion 'right'. (I'm assuming you didn't convert these previously to minimise changes to translation strings - would finishing off those conversions help with #10569?)\r\n\r\nI also added a few po-hints for the Help text relating to in-game commands, specifying that the command text shouldn't be translated.\r\n\r\nEdit: I initially started moving bullet points out of the translation strings but then remembered that wouldn't work for RTL languages, so I left them as they are.",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/utils/_initial.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/units/units.cfg"
      },
      {
        "filename": "data/campaigns/tutorial/utils/utils.cfg"
      },
      {
        "filename": "data/core/editor/help.cfg"
      },
      {
        "filename": "data/core/help.cfg"
      },
      {
        "filename": "data/core/macros/traits.cfg"
      },
      {
        "filename": "data/core/units.cfg"
      },
      {
        "filename": "data/multiplayer/factions/drakes-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/drakes-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/dunefolk-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/dunefolk-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/knalgans-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/knalgans-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/loyalists-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/loyalists-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/northerners-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/northerners-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/rebels-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/rebels-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/undead-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/undead-default.cfg"
      }
    ],
    "commits_messages": [
      "Move starting and trailing new-lines from translation strings.\n\nSome large chunks of text (particularly from Help pages) have multiple paragraphs and arguably should be broken into smaller chunks.\nBut that sort of thing is probably best left for when the strings are actually changing.\n\nAlso includes some conversion of old-to-new (GUI2) Help mark-up in the traits macros.",
      "Convert to GUI2 Help mark-up.",
      "Indentation.",
      "Indentation.",
      "Mis-matched quotes.",
      "Mis-matched quotes."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10572"
  },
  {
    "number": 10627,
    "title": "animation wml: fix range padding syntax",
    "labels": [
      "WML"
    ],
    "body": "Previously a it padded the number to the number of leading zeroes plus one, now it pads to number of digits of the number, so for example to get the range 010, ... , 090, one previously  would have to write `[0010~0090]` now one needs to write `[010~090]`.\r\n\r\nThe error message below also seemed to already expect the new syntax.\r\n\r\nIn the most common cases like [002~100] the result is the same, so i don't expect breakage.",
    "files": [
      {
        "filename": "src/serialization/string_utils.cpp"
      },
      {
        "filename": "src/tests/test_serialization.cpp"
      }
    ],
    "commits_messages": [
      "animation wml: fix range padding syntax\n\nPreviously a it padded the number to the number of leading zeroes plus one, now it pads to number of digits of the number, so for example to get the range 010, ... , 090, one previously  would have to write [0010~0090] now one needs to write [010~090].\r\n\r\nThe error message below also seemed to already expect the new syntax.\r\n\r\nIn the most common cases like [002~100] the result is the same, so i don't expect breakage.",
      "add tests"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10627"
  },
  {
    "number": 10624,
    "title": "attack_type: mark describe_modification as static",
    "labels": [
      "Units"
    ],
    "body": "The generated description relied only on the modification's config and not on any object state. This made its one usecase confusing (and redundant), since the same output was produced regardless of the attack through  which this function was invoked. This was also inefficient, since the same modification description was generated for every attack object, and confusing, since it appeared as if subsequent descriptions were overwriting prior ones.",
    "files": [
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      },
      {
        "filename": "src/units/unit.cpp"
      }
    ],
    "commits_messages": [
      "attack_type: mark describe_modification as static\n\nThe generated description relied only on the modification's config and not on any object state. This made its one usecase confusing (and redundant), since the same output was produced regardless of the attack through  which this function was invoked. This was also inefficient, since the same modification description was generated for every attack object, and confusing, since it appeared as if subsequent descriptions were overwriting prior ones.",
      "attack_type: reduce indent in describe_modification\n\nNo functional changes.",
      "Restore description emptiness check",
      "Rename describe_modification and apply_modification for clarity",
      "Update doc comment\n\nCo-authored-by: Gunter Labes <soliton@wesnoth.org>"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10624"
  },
  {
    "number": 10593,
    "title": "Remove confusing locale dir differences",
    "labels": [
      "Building",
      "SCons"
    ],
    "body": "All variants are either relative to the data dir or not. Relative to the current working directory is just what happens naturally if LOCALEDIR is a relative path.\r\n\r\nTo keep the same behavior on windows make sure HAS_RELATIVE_LOCALEDIR is set. CMake does that on windows but SCons does not.\r\n\r\nAs far as I can tell USE_INTERNAL_DATA is not used and unless HAS_RELATIVE_LOCALEDIR is also set for some reason the behavior stays the same except for a bug when the CWD cannot be determined. If get_cwd has an error it returns the empty string so in that case a \"/\" would be prepended which is just wrong.",
    "files": [
      {
        "filename": "SConstruct"
      },
      {
        "filename": "src/filesystem_common.cpp"
      }
    ],
    "commits_messages": [
      "Remove confusing locale dir differences\n\nAll variants are either relative to the data dir or not. Relative to the\ncurrent working directory is just what happens naturally if LOCALEDIR is a\nrelative path.\n\nTo keep the same behavior on windows make sure HAS_RELATIVE_LOCALEDIR is set.\nCMake does that on windows but SCons does not.\n\nAs far as I can tell USE_INTERNAL_DATA is not used and unless\nHAS_RELATIVE_LOCALEDIR is also set for some reason the behavior stays the same\nexcept for a bug when the CWD cannot be determined. If get_cwd has an error it\nreturns the empty string so in that case a \"/\" would be prepended which is just\nwrong."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10593"
  },
  {
    "number": 10590,
    "title": "max_value and min_value support WML formulas in abilities and specials.",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "Previously, formula support for these attributes only existed for [illuminates].",
    "files": [
      {
        "filename": "changelog_entries/formula_in_min_max_value.md"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/attacks/attacks_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/attacks/attacks_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/chance_to_hit/chance_to_hit_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/chance_to_hit/chance_to_hit_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage/damage_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage/damage_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/drains/drains_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/drains/drains_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heal_on_hit/heal_on_hit_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heal_on_hit/heal_on_hit_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heals/heals_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heals/heals_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/leadership/leadership_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/leadership/leadership_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/regenerate/regenerate_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/regenerate/regenerate_wfl_min_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/resistance/resistance_wfl_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/resistance/resistance_wfl_min_value.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/abilities.hpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "max_value and min_value support WML formulas in abilities and specials.\n\nPreviously, formula support for these attributes only existed for [illuminates].",
      "Restructure the cumulative code for leadership\n\nWhen currently used, this involves checking the list three times: once for value= with or without a cumulative greater than zero, once for value= negative, and once for the other numeric attributes. The restructuring allows everything to be done in a single check."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10590"
  },
  {
    "number": 10610,
    "title": "WoF game play updates",
    "labels": [
      "Graphics",
      "Audio",
      "Units",
      "Campaign WoF"
    ],
    "body": "From community feedback given since 1.18.\r\n\r\nThe biggest change is the reduction of recall costs for level 2 and especially level 3 units, along with some interpolation between them based on how many experience points a unit has.\r\n\r\nPlanning to tackle story, map and art changes in a separate pull request following this one.\r\n\r\nResolves #8757",
    "files": [
      {
        "filename": "copyrights.csv"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/_main.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/about.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/attacks/tail-dolphin.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/icons/advantage.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/dolphin-1.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/dolphin-2.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/leopard-attack1.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/leopard-attack2.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/leopard-attack3.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/leopard-attack4.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/images/units/leopard.png"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/maps/06_Landfall.map"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/maps/10_Fire_Meets_Steel.map"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/maps/HM_Master.map"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/01_The_Hunt.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/02_Reclamation.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/03_The_Contention.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/04_Journey.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/06_Landfall.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/07_Harvest.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/08_Overlook.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/09_Ancestor.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/10_Fire_Meets_Steel.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/11_Crosswind.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/sounds/leopard-attack.ogg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/sounds/leopard-hit.ogg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/sounds/leopard-miss.ogg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/units/Dolphin.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/units/Leopard.cfg"
      }
    ],
    "commits_messages": [
      "WoF S2: slightly more gold for bigger battle",
      "WoF S3: simplify win and lose conditions",
      "WoF S4: give naga side same gold as each mermish",
      "WoF S4: more player gold on easier difficulties",
      "WoF S6: bigger battle",
      "WoF S7: move sapphire of ice beside diary",
      "WoF S8: quicker elf spawning on easy\n\nJust to better depict the story events of this scenario.",
      "WoF S9: balance wildlife spawners\n\nFewer starting Yetis on easier difficulties.\nSwifter respawns for non-Yeti wildlife.\nSpread out spawning biomes.\nAdd the Dark Omen raven, to the spawning pool.",
      "WoF S9: balance tweaks",
      "WoF S9: tweak dragon unit",
      "WoF S10: smaller dwarf castle so less gryphons",
      "WoF: add random walk to spawned wildlife AI\n\nThis replaces all other 'strategic' actions irrelevant to wild creatures, like moving to enemy leaders and unowned villages. All 'tactical' actions are unchanged.",
      "WoF: refactor tweak of spawned wildlife AI",
      "WoF: redesign recall costs",
      "WoF: rewrite weapon special 'blast'",
      "WoF: replace dolphin with core monsters",
      "WoF: replace leopard with forest lion",
      "WoF: cut all level 2 recruiting",
      "WoF: stop respawns from ZoC locking player units"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10610"
  },
  {
    "number": 10602,
    "title": "Revert e135517393a since it shows wrong defense values",
    "labels": [
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/game_display.cpp"
      }
    ],
    "commits_messages": [
      "Revert e135517393a since it shows wrong defense values"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10602"
  },
  {
    "number": 10614,
    "title": "Add [rich_label] <ref> help links to TDG's spellcasting dialog",
    "labels": [
      "Campaign TDG"
    ],
    "body": "<img width=\"271\" height=\"55\" alt=\"1\" src=\"https://github.com/user-attachments/assets/7bbbf72a-caba-42a1-bb26-541a62d4b52a\" />\r\n<img width=\"785\" height=\"103\" alt=\"2\" src=\"https://github.com/user-attachments/assets/19603f44-8310-43a3-a318-841c349ee9b0\" />\r\n",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/skill_set.lua"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/spellcasting.lua"
      }
    ],
    "commits_messages": [
      "Add [rich_label] <ref> help links to TDG's spellcasting dialog"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10614"
  },
  {
    "number": 10613,
    "title": "Replace action with base64 command",
    "labels": [
      "CI"
    ],
    "body": "I've also removed the chmod command since the gradlew file is already executable as far as I can see.",
    "files": [
      {
        "filename": ".github/workflows/android.yml"
      }
    ],
    "commits_messages": [
      "Replace action with base64 command"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10613"
  },
  {
    "number": 10615,
    "title": "Android/CI: debug build for PRs, release build for commits",
    "labels": [
      "CI",
      "Android"
    ],
    "body": null,
    "files": [
      {
        "filename": ".github/workflows/android.yml"
      }
    ],
    "commits_messages": [
      "Android/CI: debug build for PRs, release build for commits"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10615"
  },
  {
    "number": 10612,
    "title": "Add a test for cumulative used with attributes other than value",
    "labels": [
      "Unit Tests"
    ],
    "body": "This is to show that cumulative only works with the value attribute.",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/attacks/attacks_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/chance_to_hit/chance_to_hit_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage/damage_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/drains/drains_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heal_on_hit/heal_on_hit_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heals/heal_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/illuminates/illuminates_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/leadership/leadership_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/regenerate/regenerate_add_cumulative.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/resistance/resistance_add_cumulative.cfg"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "Add a test for cumulative used with attributes other than value\n\nThis is to show that cumulative only works with the value attribute."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10612"
  },
  {
    "number": 10490,
    "title": "Fix some issues with 'Enthrall' in TDG",
    "labels": [
      "Campaign TDG"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/10489 issue. (partially)\r\n\r\nTo fix the other issues, I have to leave the third point unresolved and restore some playability.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      }
    ],
    "commits_messages": [
      "Fix some issues with 'Enthrall' in TDG\n\nFix https://github.com/wesnoth/wesnoth/issues/10489 issue. (partially)\n\nTo fix the other issues, I have to leave the third point unresolved and restore some playability."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10490"
  },
  {
    "number": 10568,
    "title": "Editor: Move scenario components when resizing scenario's map",
    "labels": [
      "Editor"
    ],
    "body": "Resolves #10520\r\n\r\n**TODO**\r\n- [x] Move unit (undoable)\r\n- [x] avoid unit suddenly showing idle animation after move\r\n- [x] Move items\r\n- [x] Move labels (undoable)\r\n- [x] make item moving undoable (needs a new editor action)\r\n- [x] move Time Areas\r\n\r\n**NOTE**\r\nDue to the way map coordinates work in hex grid, visual adjacency after resizing is not guaranteed.\r\n\r\nBefore:\r\n<img width=\"208\" height=\"165\" alt=\"Screenshot from 2025-09-20 21-44-32\" src=\"https://github.com/user-attachments/assets/6b1e40f5-dabf-4acf-a71f-8986f4ba6bc1\" />\r\nAfter resize (add 1 to width):\r\n<img width=\"262\" height=\"249\" alt=\"Screenshot from 2025-09-20 21-44-40\" src=\"https://github.com/user-attachments/assets/5b1d7929-ea10-4093-8966-bec3745af14c\" />\r\n",
    "files": [
      {
        "filename": "src/editor/action/action.cpp"
      },
      {
        "filename": "src/editor/action/action.hpp"
      },
      {
        "filename": "src/editor/action/action_item.cpp"
      },
      {
        "filename": "src/editor/action/action_item.hpp"
      },
      {
        "filename": "src/editor/map/context_manager.cpp"
      },
      {
        "filename": "src/editor/map/map_context.hpp"
      },
      {
        "filename": "src/tod_manager.cpp"
      },
      {
        "filename": "src/tod_manager.hpp"
      }
    ],
    "commits_messages": [
      "Editor: move items/unit/labels when map is resized\n\nAlso adds new editor action `editor_action_item_move_all` to make moving items undoable. Everything is part of one editor action chain so that it counts as only one action in the undo stack.",
      "tod manager: add a method to move time areas\n\nalso adds corresponding editor action"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10568"
  },
  {
    "number": 10599,
    "title": "Clarify help entry for random traits of a unit type",
    "labels": [
      "Help"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/help/help_topic_generators.cpp"
      }
    ],
    "commits_messages": [
      "Clarify help entry for random traits of a unit type"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10599"
  },
  {
    "number": 10605,
    "title": "Add \"oceangoing\" and \"push-poles\" [defense] abilities to ships",
    "labels": [
      "Units"
    ],
    "body": "Following up on #10576, this PR adds two new abilities for different archetypes of ships, altering their defense on certain mixed aquatic terrains.\r\n\r\nCloses #10504.",
    "files": [
      {
        "filename": "data/core/macros/movetypes.cfg"
      },
      {
        "filename": "data/core/macros/traits.cfg"
      },
      {
        "filename": "data/core/units.cfg"
      },
      {
        "filename": "data/core/units/boats/Carrack_Merchant.cfg"
      },
      {
        "filename": "data/core/units/boats/Carrack_Pirate.cfg"
      },
      {
        "filename": "data/core/units/boats/Derelict_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      },
      {
        "filename": "data/core/units/boats/Fireship.cfg"
      },
      {
        "filename": "data/core/units/boats/Ghost_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Battle-Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Rigship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Warship.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Coastal.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Iron.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      }
    ],
    "commits_messages": [
      "Add \"careen\" [defense] ability to ships",
      "Move 'careen' to traits",
      "replace \"careen\" with \"oceangoing\" and \"push-poles\"",
      "Change description and terrain for the new traits"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10605"
  },
  {
    "number": 10611,
    "title": "Enable float conversions with utils::from_chars",
    "labels": [
      "MP",
      "Units",
      "Lua API"
    ],
    "body": "Toward #10427. More importantly, it adds whitespace and leading + sign stripping that was missing from the previous implementation.",
    "files": [
      {
        "filename": "src/color.cpp"
      },
      {
        "filename": "src/image_modifications.cpp"
      },
      {
        "filename": "src/scripting/lua_terrainfilter.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/theme.cpp"
      },
      {
        "filename": "src/units/animation.cpp"
      },
      {
        "filename": "src/utils/charconv.hpp"
      },
      {
        "filename": "src/utils/from_chars.hpp"
      }
    ],
    "commits_messages": [
      "Enable float conversions with utils::from_chars\n\nMore importantly, it adds whitespace and leading + sign stripping that was missing from the previous implementation.",
      "Consistently use from_chars for IPF parsing\n\nThis was previously blocked since we couldn't use the float from_chars overload."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10611"
  },
  {
    "number": 10234,
    "title": "use std::from_chars for the integer variants (issue #10009)",
    "labels": [
      "Engine"
    ],
    "body": "boost::charconv::from_chars with integers is broken on boost 1.85 (fixed in boost 1.86)\r\n\r\nhowever for the floating point variants we still need boost on some compilers since those are sometimes missing/incomplete on std",
    "files": [
      {
        "filename": "src/utils/charconv.hpp"
      }
    ],
    "commits_messages": [
      "use std::from_chars for the integer variants (issue #10009)\n\nboost::charconv::from_chars with integers is broken on boost 1.85 (fixed in boost 1.86)\r\n\r\nhowever for the floating point variants we still need boost on some compilers since those are sometimes missing/incomplete on std",
      "f"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10234"
  },
  {
    "number": 10570,
    "title": "Ease (future) translation overhead",
    "labels": [
      "Translations",
      "Units",
      "Prose",
      "Campaign EI",
      "Campaign TSG",
      "Campaign WoF",
      "Campaign TDG"
    ],
    "body": "...by removing mark-up from translation strings.\r\n\r\nThere is perhaps an argument for allowing translators to have some control over formatting, but I think in many cases it is unnecessary overhead.\r\n\r\nThere were more cases that I could have changed (and perhaps some I shouldn't have), but in general I think I followed the rough guide of if the mark-up applies to the whole string I think it is simpler to just drop it from the translation.\r\n\r\nAs a counter-example, Dalas sometimes has long strings of dialogue, followed by a span of smaller text to indicate the speaker mumbling or otherwise talking softly to themselves. I left these ones alone for now.\r\n\r\nI considered doing something like this previously, but thought it was too much to try to review all translation strings. I was prompted to give it a try after finding some string updates due to things like f34d6155ce3e50b4290c0baf5eb7a482ba94d2df.",
    "files": [
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/08_Xenophobia.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/09_Castle_in_the_Ice.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/10_Dark_Sanctuary.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/11_Captured.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/14_The_Drowned_Plains.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/16_Eleventh_Hour.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/00_Graduation.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/01_Stirrings_of_War.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/07_The_Great_River.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/10_Houses_of_the_Dead.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/10x_Elensefar_Outskirts.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06a_Vengeance.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/units/Deoran1_Cavalryman.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/units/Deoran2_Dragoon.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/units/Deoran3_Cavalier.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/01_The_Hunt.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/09_Ancestor.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/scenarios/10_Fire_Meets_Steel.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/utils/macros.cfg"
      }
    ],
    "commits_messages": [
      "Try to ease (future) translation overhead by removing mark-up from translation strings.\n\nThere is perhaps an argument for allowing translators to have some control over formatting, but I think in many cases it is unnecessary overhead.",
      "Remove po directive.",
      "Align po hint.",
      "Try to accommodate the pre-processor.",
      "Indent",
      "Align po hint.",
      "Align po hints.",
      "Revert these changes - cannot split strings used in a macro."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10570"
  },
  {
    "number": 10509,
    "title": "AToTB S3: Add new event when standing between two runes",
    "labels": [
      "Campaign AToTB"
    ],
    "body": "Forum user JL43 mentioned this in their review of AToTB S3 (https://forums.wesnoth.org/viewtopic.php?p=685198#p685198)\r\n\r\n> It would also be more fun if there were additional \"surprises\" or points of interest in the castle \u2013 currently there's a bunch of decorations strewn all over, but most of them don't do anything.\r\n\r\nForum user SigurdFireDragon suggested the runes in the map should have some purpose, thouh this is not what I did here (https://forums.wesnoth.org/viewtopic.php?p=592642#p592642):\r\n\r\n> I'd like to see the rune glyphs in the upper right hand corner of the castle provide healing. In this play-though, I sent a poisoned knight there thinking they'd provide healing. I've seen the glyphs used to denote healing spaces in other campaigns. (UtBS, I think) I'd be helpful to counter poison for a unit or two.\r\n\r\nForum user ftl suggested to give some of the decorations purpose (https://forums.wesnoth.org/viewtopic.php?p=411819&sid=14629ef689ffa7b0c71f9c41b3e79421#p411819):\r\n\r\n> The castle was very ornate, and had some eye-candy (statues, goblets, etc.) which didn't do anything. Might've been cool to have some more events happen - a secret door, maybe a trap, or something - but then again there were already the passwords for guards and the treasure chest, and having to bring a key to open the cell, so maybe that's enough gimmicks for one scenario.\r\n\r\nBased on this it seems there\u2019s some demand to add some sort of purpose or event related to some of the decorative parts of this map. This PR adds a small event when a unit stands between the two runes on the map, in which they summon a Soulless by accident. It serves no purpose, and the Soulless is easy to defeat, but it does make this area a little more interesting.",
    "files": [
      {
        "filename": "data/campaigns/Two_Brothers/scenarios/03_Guarded_Castle.cfg"
      }
    ],
    "commits_messages": [
      "AToTB S3: Add new event when standing between two runes\n\nAddresses forum feedback from JL43, SigurdFireDragon and ftl to add some purpose to ornaments in AToTB S3"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10509"
  },
  {
    "number": 10577,
    "title": "Ships: don't bob while beached",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "Once/if #10576 is merged, ships will have 0% defense on land.\r\n\r\nWhen ships are on land (usually only possible via a coastal village), this PR replaces their usual bobbing [standing_anim] with a more stationary one.",
    "files": [
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      },
      {
        "filename": "data/core/units/boats/Carrack_Merchant.cfg"
      },
      {
        "filename": "data/core/units/boats/Carrack_Pirate.cfg"
      },
      {
        "filename": "data/core/units/boats/Derelict_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      },
      {
        "filename": "data/core/units/boats/Fireship.cfg"
      },
      {
        "filename": "data/core/units/boats/Ghost_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Battle-Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Rigship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Warship.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Coastal.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Iron.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      }
    ],
    "commits_messages": [
      "Ships: don't bob while beached\n\nWhen ships are on land (usually only possible via a coastal village), replace their usual bobbing [standing_anim] with a more stationary one."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10577"
  },
  {
    "number": 10583,
    "title": "Prevent duplicates in extra recruits.",
    "labels": [
      "Units",
      "Lua API",
      "WFL"
    ],
    "body": "Fixes #10407",
    "files": [
      {
        "filename": "src/formula/callable_objects.cpp"
      },
      {
        "filename": "src/scripting/lua_unit.cpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "Prevent duplicates in extra recruits.\n\nFixes #10407"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10583"
  },
  {
    "number": 10596,
    "title": "Config: misc minor cleanups",
    "labels": [
      "Engine"
    ],
    "body": "Just a bunch of small cleanups to config that I had sitting around.",
    "files": [
      {
        "filename": "src/config.cpp"
      },
      {
        "filename": "src/config.hpp"
      },
      {
        "filename": "src/game_config_view.cpp"
      },
      {
        "filename": "src/game_config_view.hpp"
      }
    ],
    "commits_messages": [
      "Config: use to_size_t instead of lexical_cast",
      "Config: avoid copying attribute during find_child lookup",
      "Config: use std::move_iterator directly",
      "Config: simplify erase_if calls with lambdas",
      "Config: consistently name private members",
      "Drop config_key_type alias\n\nThis is a relic from the days when we couldn't use std::string_view directly (see d405ec1c9d108ba7baf469bdedede03fcd4c0c46). That's long since no longer been the case."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10596"
  },
  {
    "number": 10597,
    "title": "Mark swap functions noexcept",
    "labels": [
      "MP",
      "Units",
      "Add-ons"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/config.cpp"
      },
      {
        "filename": "src/config.hpp"
      },
      {
        "filename": "src/replay_recorder_base.cpp"
      },
      {
        "filename": "src/replay_recorder_base.hpp"
      },
      {
        "filename": "src/saved_game.cpp"
      },
      {
        "filename": "src/saved_game.hpp"
      },
      {
        "filename": "src/server/common/simple_wml.cpp"
      },
      {
        "filename": "src/server/common/simple_wml.hpp"
      },
      {
        "filename": "src/tstring.cpp"
      },
      {
        "filename": "src/tstring.hpp"
      },
      {
        "filename": "src/units/map.cpp"
      },
      {
        "filename": "src/units/map.hpp"
      }
    ],
    "commits_messages": [
      "Mark swap functions noexcept",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10597"
  },
  {
    "number": 10595,
    "title": "Return value from read_locations",
    "labels": [],
    "body": null,
    "files": [
      {
        "filename": "src/actions/shroud_clearing_action.hpp"
      },
      {
        "filename": "src/map/location.cpp"
      },
      {
        "filename": "src/map/location.hpp"
      },
      {
        "filename": "src/replay.cpp"
      },
      {
        "filename": "src/soundsource.cpp"
      },
      {
        "filename": "src/synced_commands.cpp"
      }
    ],
    "commits_messages": [
      "Return value from read_locations"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10595"
  },
  {
    "number": 10525,
    "title": "New IPF: PAD [LLM assisted]",
    "labels": [
      "Graphics",
      "AI/LLM assisted",
      "Squash"
    ],
    "body": "Adds a new image path function \"OFFSET\", that offsets an image by an amount of pixels.\r\n\r\nUsed like:\r\n\r\n```\r\n[item]\r\n\tx,y=98,157\r\n\timage=data/core/images/items/armor.png~SCALE(50, 50)~OFFSET(-8,18)\r\n[/item]\r\n```\r\nThe armour in the image was shifted by this.\r\n<img width=\"1011\" height=\"359\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f01beaf1-fe90-4f5e-88ea-23f806913bcf\" />\r\n\r\nDocumentation will have to be added too, I will look into that if this is accepted.\r\n\r\n",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/image_modifications.cpp"
      },
      {
        "filename": "src/image_modifications.hpp"
      }
    ],
    "commits_messages": [
      "New IPF: PAD\n\nAllows the sides of an image to be padded with transparent pixels. Can be used\nto artificially offset images.\n\nSupports two variants: ~PAD(5) adds 5 pixels to all sides and a variant with\nkeywords like ~PAD(bottom=5) to set individual values for each side.\nValid keywords: top, t, right, r, bottom, b, left, l"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10525"
  },
  {
    "number": 10582,
    "title": "Remove most uses of atoi",
    "labels": [
      "MP",
      "Units",
      "Lua API"
    ],
    "body": "Toward #10427. I decided to go with utils::from_chars as a replacement and keep the same fallback to 0 in case of errors (`atoi` returns 0 on error). I left the instances in attack_prediction.cpp (commented out ancient benchmarking code, should really just be removed) and `simple_wml::string_span::to_int()` (already full of C-isms, makes sense to keep for now).",
    "files": [
      {
        "filename": "src/scripting/lua_terrainfilter.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/theme.cpp"
      },
      {
        "filename": "src/units/animation.cpp"
      }
    ],
    "commits_messages": [
      "Remove most uses of atoi",
      "not stoi"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10582"
  },
  {
    "number": 10588,
    "title": "ai: don't use lexical_cast to write configs",
    "labels": [
      "AI"
    ],
    "body": "pr for ci run",
    "files": [
      {
        "filename": "src/ai/composite/value_translator.hpp"
      }
    ],
    "commits_messages": [
      "ai: don't use lexical_cast to write configs"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10588"
  },
  {
    "number": 10586,
    "title": "Sulla's Ruins: mention that Sulla was Aether Mage",
    "labels": [
      "MP",
      "Prose"
    ],
    "body": "Makes it more consistent with https://github.com/wesnoth/wesnoth/pull/8539.",
    "files": [
      {
        "filename": "data/multiplayer/scenarios/2p_Sullas_Ruins.cfg"
      }
    ],
    "commits_messages": [
      "Sulla's Ruins: mention that Sulla was Aether Mage"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10586"
  },
  {
    "number": 10585,
    "title": "Android: don't set WESNOTH_PATH",
    "labels": [
      "Building",
      "Packaging",
      "SCons",
      "Android"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/SConscript"
      }
    ],
    "commits_messages": [
      "Android: don't set WESNOTH_PATH"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10585"
  },
  {
    "number": 10581,
    "title": "base64: generate constants at compile time",
    "labels": [
      "Engine"
    ],
    "body": "These are constant based on known inputs.",
    "files": [
      {
        "filename": "src/serialization/base64.cpp"
      }
    ],
    "commits_messages": [
      "base64: generate constants at compile time",
      "fixup",
      "fixup",
      "minor tweaks"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10581"
  },
  {
    "number": 9843,
    "title": "Add [clear_chat], [get_zoom], and optional scrolling support",
    "labels": [
      "Lua API",
      "Squash"
    ],
    "body": "Add a couple simple (but potentially useful) wml actions, and add support for scrolling only if a tile is not currently visible.\r\n\r\n`[clear_chat]`: as the name implies, clears recent chat messages. Could be used with cutscenes or transitions between different phases of a multiplayer scenario, or also if a scenario is using chat messages to provide information to the player.\r\n\r\n`[get_zoom]`: implements request in #7423. Useful if a cutscene or other animation requires a fixed (non-relative) zoom level, so it can be set back, and I could also envision need for animations to scale based on current zoom level.\r\n\r\nIn addition, extends `[scroll_to]` and `[scroll_to_unit]` to support `only_if_needed`; if this is true then the map will only scroll if the hex or unit is not already visible. Primarily intended for extended dialog scenes with animations where units are (probably) all visible anyway so they can be less choppy.\r\n\r\nFinally, extends `[kill]` with a `scroll_to` attribute. Defaults to true. If set to false, then map will not scroll to the unit being killed. Similar use cases as `only_if_needed`.",
    "files": [
      {
        "filename": "data/lua/wml-tags.lua"
      },
      {
        "filename": "data/lua/wml/kill.lua"
      }
    ],
    "commits_messages": [
      "Add [clear_chat], [get_zoom], and optional scrolling support",
      "Rename get_zoom to store_zoom, [kill] scroll_to to scroll"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9843"
  },
  {
    "number": 10574,
    "title": "Sergeant Line: reduce crossbow strikes from 3 to 2",
    "labels": [
      "Units"
    ],
    "body": "The Duelist and Dragoon wield a 12-1 crossbow. The Master-at-Arms and Cavalier wield a 20-1 crossbow. I this this design helps their crossbows (1 strike) feel different from regular bows (3-4-5 strikes). This also mirrors a real life differences between crossbows and bows - bows shoot faster, crossbows shoot harder (more or less AFAIK).\r\n\r\nTo help the Sergeant-line crossbows feel distinct from bows, and to reduce similarities with the Elvish Fighter line, I've extended this same few-strikes design to the Sergeant, Lieutenant, General, and Grand Marshal.\r\n\r\nBalance team vote passed. 4 in favor, 2 abstain, 0 veto.\r\n",
    "files": [
      {
        "filename": "changelog_entries/crossbow_strikes.md"
      },
      {
        "filename": "data/core/units/humans/Loyalist_General.cfg"
      },
      {
        "filename": "data/core/units/humans/Loyalist_Grand_Marshal.cfg"
      },
      {
        "filename": "data/core/units/humans/Loyalist_Lieutenant.cfg"
      },
      {
        "filename": "data/core/units/humans/Loyalist_Sergeant.cfg"
      }
    ],
    "commits_messages": [
      "Update Loyalist_Grand_Marshal.cfg",
      "Update Loyalist_General.cfg",
      "Update Loyalist_Lieutenant.cfg",
      "Update crossbow strikes",
      "Reduce attack animation delay"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10574"
  },
  {
    "number": 10556,
    "title": "Note in CONTRIBUTING.md that code doesn't always match clang-format",
    "labels": [
      "Docs"
    ],
    "body": "Format CONTRIBUTING.md's example code with clang-format\r\n\r\nCorrect the setting of PackConstructorInitializers, as it didn't match the example; setting it to CurrentLine was worse because my_class' constructor ended up with everything including the `//` comment on the same line, so the position no longer made it obvious that the comment referred to an argument.\r\n\r\nThis converts spaces to tabs in the example, but it's not just whitespace changes.\r\n\r\nThe #include \"gettext.hpp\" and #include \"help/help.hpp\" lines are now sorted alphabetically.\r\n\r\nThe lambda function is short, thus all on a single line.\r\n\r\nNote that we're incrementally moving towards the standard rather than doing a project-wide reformat that would break the git-blame history.",
    "files": [
      {
        "filename": "CONTRIBUTING.md"
      }
    ],
    "commits_messages": [
      "Format CONTRIBUTING.md's example code with clang-format\n\nThis converts spaces to tabs in the example, but it's not just\nwhitespace changes.\n\nThe #include \"gettext.hpp\" and #include \"help/help.hpp\" lines are now\nsorted alphabetically.\n\nThe lambda function is short, thus all on a single line.\n\nAdd a note that we're incrementally moving towards the standard rather\nthan doing a project-wide reformat that would break the git-blame\nhistory."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10556"
  },
  {
    "number": 10573,
    "title": "Campaignd: remove implicit conversion from control_line",
    "labels": [
      "Add-ons"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/server/campaignd/control.hpp"
      },
      {
        "filename": "src/server/campaignd/server.cpp"
      }
    ],
    "commits_messages": [
      "Campaignd: remove implicit conversion from control_line"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10573"
  },
  {
    "number": 10571,
    "title": "Fixup tests",
    "labels": [
      "Add-ons",
      "Engine"
    ],
    "body": "Apparently, having operator!= defined for prevents operator rewriting, so comparison between a reversed string and t_string fails since it can't use the plain t_string to string function...",
    "files": [
      {
        "filename": "src/server/campaignd/control.hpp"
      },
      {
        "filename": "src/tstring.hpp"
      }
    ],
    "commits_messages": [
      "Fixup f6c301d5e8260afd5a60f384823d973dc6f92901\n\nApparently, having operator!= defined for prevents operator rewriting, so comparison between a reversed string and t_string fails since it can't use the plain t_string to string function...",
      "Campaignd/Control Line: add comparison operator with string_view"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10571"
  },
  {
    "number": 10540,
    "title": "Liberty 1.20 adjustments",
    "labels": [
      "Graphics",
      "Units",
      "Achievements",
      "Campaign L"
    ],
    "body": "This is a collection of small changes to Liberty, to stay consistent with the other campaigns in the intended new player arc: TSG -> [todo] -> TDG I -> TDG II -> Liberty -> HttT.\r\n\r\n* Changed some of Maddock's dialogue to stay consistent with The Deceiver's Gambit.\r\n* Difficulty scaling now follows the same pattern as the other beginner campaigns: 1x enemies, 2x enemies, 3x enemies.\r\n* Use the new Elensefar map from the revised Heir to the Throne.\r\n* Various minor bugfixes and tweaks.\r\n",
    "files": [
      {
        "filename": "changelog_entries/liberty_revisions.md"
      },
      {
        "filename": "copyrights.csv"
      },
      {
        "filename": "data/campaigns/Liberty/_main.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/achievements.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/images/halo/fire-aura-small.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/dwarven-keep-tile.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-01.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-02.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-03.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-04.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-05.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-06.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-07.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-08.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-09.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-10.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-11.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-12.png"
      },
      {
        "filename": "data/campaigns/Liberty/images/items/fountain-13.png"
      },
      {
        "filename": "data/campaigns/Liberty/maps/03_Strategy_of_Hope.map"
      },
      {
        "filename": "data/campaigns/Liberty/maps/04_Unlawful_Orders.map"
      },
      {
        "filename": "data/campaigns/Liberty/maps/06_The_Hunters.map"
      },
      {
        "filename": "data/campaigns/Liberty/maps/07_Glory.map"
      },
      {
        "filename": "data/campaigns/Liberty/masks/04_Unlawful_Orders_1.mask"
      },
      {
        "filename": "data/campaigns/Liberty/masks/04_Unlawful_Orders_2.mask"
      },
      {
        "filename": "data/campaigns/Liberty/music/three-sheets.ogg"
      },
      {
        "filename": "data/campaigns/Liberty/scenarios/01_The_Raid.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/scenarios/02_Civil_Disobedience.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/scenarios/03_A_Strategy_Of_Hope.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/scenarios/04_Unlawful_Orders.cfg"
      }
    ],
    "commits_messages": [
      "Start work on Liberty",
      "S02 Civil Disobedience",
      "S03",
      "S04 use new Elensefar map",
      "S04 finish placing starting units",
      "Finish S04",
      "S05 minor tweaks",
      "S06",
      "Finished(?) campaign",
      "Second playthrough, more tweaks",
      "wmlindent",
      "baldras.webp~SCALE(300,300)",
      "add image metadata",
      "Add three-sheets.ogg to copyrights.csv",
      "Add changelog",
      "Fix line endings",
      "Wedge fixes"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10540"
  },
  {
    "number": 10567,
    "title": "Test scenario: Give the Shyde a new slows that only works in forest",
    "labels": [
      "Unit Tests"
    ],
    "body": "Weapon specials can have location filters, even if they're applied directly to the weapon rather than being used like abilities. This gives the Shyde a special which should be shown as inactive except when moving to or attacking from a forest hex.\r\n\r\nCurrently (commit ee7f4c047a4) the sidebar always shows it as active, because the sidebar uses a weapon context that doesn't know which hex it should be used in.",
    "files": [
      {
        "filename": "data/test/scenarios/manual_tests/scenario-test.cfg"
      }
    ],
    "commits_messages": [
      "Test scenario: Give the Shyde a new slows that only works in forest\n\nWeapon specials can have location filters, even if they're applied\ndirectly to the weapon rather than being used like abilities. This\ngives the Shyde a special which is inactive except on forest hexes.\n\nCurrently (commit ee7f4c047a4) the sidebar always shows it as active,\nbecause the sidebar uses a weapon context that doesn't know which\nhex it should be used in.\n\nMerging as a test tool, without defining what the correct behavior is.\nI think the sidebar should show it as inactive except when moving to\nor attacking from a forest hex, however that needs discussion about\nwhether other abilities are consistent, and the cases involving hexes\nunder shroud or fog need checking to ensure that the sidebar doesn't\nleak information."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10567"
  },
  {
    "number": 10370,
    "title": "SotBE: Add AMLAs for Orcish, Wolf, Troll and Saurian units.",
    "labels": [
      "Enhancement",
      "Campaign SotBE"
    ],
    "body": "- SotBE: Add AMLAs for Orcish, Wolf, Troll and Saurian units.\r\n- AMLAs tailored and fine-tuned in line with those in TSG, TDG, and EI.\r\n- Each AMLA costs 120-150 XP for a level 3 unit, and 80-100 XP for a level 2 unit. 120 and 80 if unit has intelligent.\r\n- On testing, it has been seen that most player units can earn at most one AMLA or 2 AMLA if heavily recalled and used in scenarios. \r\n- Hero units like Kapou'e and Gruu have a chance of earning a 3rd AMLA as they always available in every scenario.",
    "files": [
      {
        "filename": "changelog_entries/sotbe_amla.md"
      },
      {
        "filename": "data/campaigns/Son_Of_The_Black_Eye/_main.cfg"
      },
      {
        "filename": "data/campaigns/Son_Of_The_Black_Eye/utils/1-amla.cfg"
      }
    ],
    "commits_messages": [
      "SotBE: add AMLA system code",
      "SotBE: load AMLA system resource",
      "Sotbe: Add AMLA feature PR changelog entry",
      "SotBE: improve changelog entry wording.",
      "amla: add first time message"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10370"
  },
  {
    "number": 10549,
    "title": "Fix off-by-one error in padding calculation for progressive strings",
    "labels": [
      "Engine"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/serialization/string_utils.cpp"
      },
      {
        "filename": "src/tests/test_serialization.cpp"
      }
    ],
    "commits_messages": [
      "Fix off-by-one error in padding calculation for progressive strings\n\nFor uses that need to work before and after this fix you can rewrite the\nprogressive string `[0~N]` to `[0,1~N]` and `[N~0]` to `[N~1,0]`. Similarly\nusing -1 for a negative N and accordingly for cases with 00 or 000 etc."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10549"
  },
  {
    "number": 10552,
    "title": "TSG: use Asmodeus's new portrait for Mari",
    "labels": [
      "Graphics",
      "Campaign TSG"
    ],
    "body": "Add portrait for Mari in TSG. Credit to Asmodeus / Joseph Gignoux.\r\n",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/images/portraits/mari.webp"
      },
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_characters.cfg"
      }
    ],
    "commits_messages": [
      "TSG: use portrait for Mari",
      "Fix Mari metadata",
      "Revise mari.webp"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10552"
  },
  {
    "number": 10507,
    "title": "TDG - small fixes",
    "labels": [
      "Graphics",
      "Campaign TDG"
    ],
    "body": "A couple of small issues\r\n- [x] fix enthrall drake overlay auto_hflip\r\n- [x] alternative to white castles in _Long Live the Queen_",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/scenery/keep-overlay-high.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/scenery/keep-overlay-low.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/14_Long_Live_the_Queen.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      }
    ],
    "commits_messages": [
      "allow drake overlay to auto_hflip",
      "replace white castle symbols with stone circles in Sc14",
      "attack animations for enthrall update",
      "[remove_item] idiosyncrasy",
      "fix filters",
      "slow down enthrall standing anim fading",
      "avoid parsing 9~0 animation frames due to engine bug converting that to 09~00",
      "slow down enthrall standing animation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10507"
  },
  {
    "number": 10544,
    "title": "set expectations around LLM generated code",
    "labels": [
      "Docs"
    ],
    "body": null,
    "files": [
      {
        "filename": "CONTRIBUTING.md"
      }
    ],
    "commits_messages": [
      "set expectations around LLM generated code",
      "."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10544"
  },
  {
    "number": 10566,
    "title": "Add tests for reversed-order config heterogenous comparison",
    "labels": [],
    "body": "Expecting these to initially fail on C++17.",
    "files": [
      {
        "filename": "src/config_attribute_value.hpp"
      },
      {
        "filename": "src/tests/test_config.cpp"
      }
    ],
    "commits_messages": [
      "Add tests for reversed-order config heterogenous comparison",
      "Config Attribute Value: fix reversed heterogenous comparison on C++17"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10566"
  },
  {
    "number": 10564,
    "title": "Test scenario: the Silver Mage teaches marksmanship",
    "labels": [
      "Unit Tests"
    ],
    "body": "Any unit within 2 hexes gets 80% chance to hit on their ranged attacks, but only when on offense. This is for testing the sidebar's showing of active and inactive taught weapon specials.\r\n\r\nIf you move the Dark Adept with the darkness aura north-east, it will get taught a weapon special. While it's on the currently playing team, the weapon special shows on the sidebar.\r\n\r\nChanging the Dark Adept to side 2 will make it inactive. PR #10538 will make that special show on the sidebar even when its inactive.",
    "files": [
      {
        "filename": "data/test/scenarios/manual_tests/scenario-test.cfg"
      }
    ],
    "commits_messages": [
      "Test scenario: the Silver Mage teaches marksmanship\n\nAny unit within 2 hexes gets 80% chance to hit on their ranged\nattacks, but only when on offense. This is for testing the\nsidebar's showing of active and inactive taught weapon specials."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10564"
  },
  {
    "number": 10565,
    "title": "Minor include cleanup",
    "labels": [
      "AI",
      "UI",
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/ai/contexts.cpp"
      },
      {
        "filename": "src/config_attribute_value.cpp"
      },
      {
        "filename": "src/config_attribute_value.hpp"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      },
      {
        "filename": "src/game_launcher.cpp"
      },
      {
        "filename": "src/gui/core/notifiee.hpp"
      },
      {
        "filename": "src/lexical_cast.hpp"
      },
      {
        "filename": "src/sdl/utils.hpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/utils/math.hpp"
      }
    ],
    "commits_messages": [
      "Minor include cleanup",
      "forgot these"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10565"
  },
  {
    "number": 10563,
    "title": "Test scenario: put a sensible filter on the shroud change",
    "labels": [
      "Unit Tests"
    ],
    "body": "It's not been annoying enough to fix until now, but it always triggered on the first moveto event.",
    "files": [
      {
        "filename": "data/test/scenarios/manual_tests/scenario-test.cfg"
      }
    ],
    "commits_messages": [
      "Test scenario: put a sensible filter on the shroud change"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10563"
  },
  {
    "number": 10555,
    "title": "Remove implicit attribute value conversion to t_string",
    "labels": [
      "AI",
      "MP",
      "UI",
      "Units",
      "Help",
      "Terrain"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/ai/configuration.cpp"
      },
      {
        "filename": "src/carryover.cpp"
      },
      {
        "filename": "src/config_attribute_value.hpp"
      },
      {
        "filename": "src/game_data.cpp"
      },
      {
        "filename": "src/game_data.hpp"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      },
      {
        "filename": "src/game_initialization/depcheck.cpp"
      },
      {
        "filename": "src/game_initialization/flg_manager.cpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.cpp"
      },
      {
        "filename": "src/gui/dialogs/campaign_difficulty.cpp"
      },
      {
        "filename": "src/gui/dialogs/core_selection.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/edit_pbl.cpp"
      },
      {
        "filename": "src/gui/dialogs/game_load.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_join_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_options_helper.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_staging.cpp"
      },
      {
        "filename": "src/gui/widgets/listbox.cpp"
      },
      {
        "filename": "src/gui/widgets/menu_button.cpp"
      },
      {
        "filename": "src/gui/widgets/multi_page.cpp"
      },
      {
        "filename": "src/gui/widgets/multimenu_button.cpp"
      },
      {
        "filename": "src/gui/widgets/slider.cpp"
      },
      {
        "filename": "src/gui/widgets/tab_container.cpp"
      },
      {
        "filename": "src/gui/widgets/unit_preview_pane.cpp"
      },
      {
        "filename": "src/help/help_impl.cpp"
      },
      {
        "filename": "src/language.cpp"
      },
      {
        "filename": "src/map/label.cpp"
      },
      {
        "filename": "src/movetype.cpp"
      },
      {
        "filename": "src/persist_context.cpp"
      },
      {
        "filename": "src/persist_var.cpp"
      },
      {
        "filename": "src/save_index.cpp"
      }
    ],
    "commits_messages": [
      "Remove implicit attribute value conversion to t_string",
      "fixup",
      "fixup",
      "fixup",
      "fixup",
      "f",
      "ff",
      "fff",
      "ffff",
      "adjust set_variable signature"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10555"
  },
  {
    "number": 10543,
    "title": "let queues randomly select a scenario from a list",
    "labels": [
      "MP",
      "MP Lobby",
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/game_initialization/multiplayer.cpp"
      },
      {
        "filename": "src/game_initialization/multiplayer.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.hpp"
      }
    ],
    "commits_messages": [
      "let queues randomly select a scenario from a list"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10543"
  },
  {
    "number": 10559,
    "title": "correct documentation in [defense] test",
    "labels": [
      "Unit Tests"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_everybody.cfg"
      }
    ],
    "commits_messages": [
      "correct documentation in [defense] test"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10559"
  },
  {
    "number": 10560,
    "title": "side_ai.cfg: fix textdomain to correct one",
    "labels": [
      "Campaign L"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/Liberty/utils/side_ai.cfg"
      }
    ],
    "commits_messages": [
      "side_ai.cfg: fix textdomain to correct one"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10560"
  },
  {
    "number": 10524,
    "title": "Changing the weapon special [defense] into an ability",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema",
      "Campaign UtBS",
      "Campaign TDG"
    ],
    "body": "Resolve https://github.com/wesnoth/wesnoth/issues/10478 issue\r\n\r\nmake [defense] a generic abilitie .",
    "files": [
      {
        "filename": "changelog_entries/defense_generic_ability.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/schema/units/specials.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_allies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_enemies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_everybody.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_mixed.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_two_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_two_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_two_cumulative_mixed_same_id.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_wfl_other.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_wfl_self.cfg"
      },
      {
        "filename": "src/game_display.cpp"
      },
      {
        "filename": "src/mouse_events.cpp"
      },
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/ability_tags.hpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "Changing the weapon special [defense] into an ability\n\nResolve https://github.com/wesnoth/wesnoth/issues/10478 issue\n\nChanging the weapon special [defense] into an ability for what modificationof defense was displayed on the map and sidebar"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10524"
  },
  {
    "number": 10558,
    "title": "GUI2/Campaign Selection: use initializer lists for nodes",
    "labels": [
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/gui/dialogs/campaign_selection.cpp"
      }
    ],
    "commits_messages": [
      "GUI2/Campaign Selection: use initializer lists for nodes",
      "Keep type"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10558"
  },
  {
    "number": 10554,
    "title": "Fix \"no previous prototype for function\" warnings on Xcode 26",
    "labels": [
      "macOS",
      "Building"
    ],
    "body": "Since this is seemingly meant to be a private function, move its two implementations to the closest anonymous namespace and drop the prototypes to avoid the issue altogether.",
    "files": [
      {
        "filename": "src/savegame.cpp"
      }
    ],
    "commits_messages": [
      "Fix \"no previous prototype for function\" warnings on Xcode 26\n\nSince this is seemingly meant to be a private function, move its two\nimplementations to the closest anonymous namespace and drop the\nprototypes to avoid the issue altogether."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10554"
  },
  {
    "number": 10550,
    "title": "Update .clang-format",
    "labels": [],
    "body": "Went through the clang-format docs and added new options that best match our existing coding style.",
    "files": [
      {
        "filename": "src/.clang-format"
      }
    ],
    "commits_messages": [
      "Update .clang-format\n\nWent through the clang-format docs and added new options that best match our existing coding style.",
      "Update .clang-format"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10550"
  },
  {
    "number": 10553,
    "title": "Mark t_string_base ctors explicit",
    "labels": [],
    "body": null,
    "files": [
      {
        "filename": "src/tstring.hpp"
      }
    ],
    "commits_messages": [
      "Mark t_string_base ctors explicit"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10553"
  },
  {
    "number": 10551,
    "title": "TSG: fix missing bun on 2 frames of Mari's defense animation",
    "labels": [
      "Graphics",
      "Campaign TSG"
    ],
    "body": "How didn't I notice this before?",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/images/units/mari2/mari-defend1-sling.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/units/mari2/mari-defend1.png"
      }
    ],
    "commits_messages": [
      "Fix missing hair bun",
      "fix metadata"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10551"
  },
  {
    "number": 10502,
    "title": "Config Attribute Value: compare string-like types directly, remove heterogenous comparison for integers",
    "labels": [
      "Unit Tests",
      "Lua API",
      "Engine"
    ],
    "body": "Also fixes comparison with std::string_view on the legacy codepath",
    "files": [
      {
        "filename": "src/config_attribute_value.hpp"
      },
      {
        "filename": "src/preferences/preferences.cpp"
      },
      {
        "filename": "src/scripting/application_lua_kernel.cpp"
      },
      {
        "filename": "src/tests/test_config.cpp"
      }
    ],
    "commits_messages": [
      "Config Attribute Value: implement operator== without a temporary object\n\nAlso fixes comparison with std::string_view on the legacy codepath",
      "Try cmp_equal",
      "Add missing include",
      "Try restricting to string-like types",
      "re-add conversion",
      "fixup",
      "update tests",
      "update tests",
      "update tests",
      "fixup",
      "shouldn't need this overload",
      "refinements",
      "additional tests"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10502"
  },
  {
    "number": 10541,
    "title": "Use the default music playlist for Dark Forecast and Isle of Mists",
    "labels": [
      "MP"
    ],
    "body": "So I played Dark Forecast last time and suddenly noticed that the soundtrack seems never changing. It turns out it's just three tracks. I find the resulting mood pretty dull, especially considering how the gameplay goes. I think it's better to just use DEFAULT_MUSIC_PLAYLIST as all other MP scenarios do.",
    "files": [
      {
        "filename": "data/multiplayer/scenarios/2p_Dark_Forecast.cfg"
      },
      {
        "filename": "data/multiplayer/scenarios/2p_Isle_of_Mists.cfg"
      }
    ],
    "commits_messages": [
      "Use full default music playlist for Dark Forecast and Isle of Mists"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10541"
  },
  {
    "number": 10545,
    "title": "MP: Fix lag during AI turns on 5P The Wilderlands",
    "labels": [
      "MP",
      "Stable 1.18"
    ],
    "body": "Opening a PR just for the CI run, this is a simple backport.\r\n\r\nThe filter on the unit_placed event didn't check if the unit was already loyal, and after 4 turns, the first unit belonging to side 5 had over 600 of these [object]s.\r\n\r\nThanks to gfgtdf for pointing out that the macro's upkeep=loyal will only last until the unit is rebuilt, so even the units created at the start should use an [object].\r\n\r\nAny Walking Corpses created via plague won't get the object, but it will be added if they advance to Soulless.\r\n\r\nFixes #10419\r\nBackports #10482",
    "files": [
      {
        "filename": "changelog_entries/wilderlands_lag.md"
      },
      {
        "filename": "data/multiplayer/scenarios/5p_The_Wilderlands.cfg"
      }
    ],
    "commits_messages": [
      "MP: Fix lag during AI turns on 5P The Wilderlands\n\nThe filter on the unit_placed event didn't check if the unit was\nalready loyal, and after 4 turns, the first unit belonging to side 5\nhad over 600 of these [object]s.\n\nThanks to gfgtdf for pointing out that the macro's upkeep=loyal will\nonly last until the unit is rebuilt, so even the units created at the\nstart should use an [object].\n\nAny Walking Corpses created via plague won't get the object, but it\nwill be added if they advance to Soulless.\n\n(cherry picked from commit 441bd761b9b0fe8504f753e14ccb9c64efb78d0f)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10545"
  },
  {
    "number": 10482,
    "title": "MP: Fix lag during AI turns on 5P The Wilderlands",
    "labels": [
      "MP"
    ],
    "body": "The filter on the unit_placed event didn't check if the unit was already loyal, and after 4 turns, the first unit belonging to side 5 had over 600 of these [object]s.\r\n\r\nThe objects aren't needed at all, side 5's units are loyal anyway.\r\n\r\nFixes #10419",
    "files": [
      {
        "filename": "changelog_entries/wilderlands_lag.md"
      },
      {
        "filename": "data/multiplayer/scenarios/5p_The_Wilderlands.cfg"
      }
    ],
    "commits_messages": [
      "MP: Fix lag during AI turns on 5P The Wilderlands\n\nThe filter on the unit_placed event didn't check if the unit was\nalready loyal, and after 4 turns, the first unit belonging to side 5\nhad over 600 of these [object]s.\n\nThanks to gfgtdf for pointing out that the macro's upkeep=loyal will\nonly last until the unit is rebuilt, so even the units created at the\nstart should use an [object].\n\nAny Walking Corpses created via plague won't get the object, but it\nwill be added if they advance to Soulless."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10482"
  },
  {
    "number": 10542,
    "title": "Replace S10x Elensefar map",
    "labels": [
      "Campaign TDG"
    ],
    "body": "The upcoming HttT revision features a new Elensefar map. This PR changes TDG's Elensefar map to stay consistent.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/10x_Elensefar_Outskirts.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/10x_Elensefar_Outskirts.cfg"
      }
    ],
    "commits_messages": [
      "Replace S10x Elensefar map",
      "fix whitespace"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10542"
  },
  {
    "number": 10531,
    "title": "Editor controller: Allow selecting another addon even if one is selected",
    "labels": [
      "UI",
      "Editor"
    ],
    "body": "Resolves #10511",
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.hpp"
      }
    ],
    "commits_messages": [
      "Editor controller: Allow selecting another addon even if one is selected",
      "remove force arg and split into two functions",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10531"
  },
  {
    "number": 10527,
    "title": "TDG: Asheviere's Dogs reversions",
    "labels": [
      "Campaign TDG"
    ],
    "body": "Before TDG was added to mainline, I made some adjustments to the campaign to stay compatible with the upcoming \"Asheviere's Dogs\" campaign. However, the \"Asheviere's Dogs\" author is now planning to make some major revisions to his campaign, which has delayed its entry to mainline until 1.21.\r\n\r\nTherefore, I'm making some further changes to the final few scenarios so as to lead more smoothly into Liberty and Heir to the Throne. This PR also includes some improvements to those scenarios' dialogue based on @doofus-01's feedback.\r\n",
    "files": [
      {
        "filename": "changelog_entries/tdg_adjustments.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/11x_Revelry.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/13_Revelry_Revisited.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/13x_The_King_is_Dead.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/14_Long_Live_the_Queen.cfg"
      }
    ],
    "commits_messages": [
      "Asheviere's Dogs adjustments",
      "Add changelog",
      "Fix CI checks",
      "Remove markup from translated strings",
      "S14: fix indent",
      "Update 13_Revelry_Revisited.cfg",
      "Update 14_Long_Live_the_Queen.cfg",
      "Update tdg_adjustments.md"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10527"
  },
  {
    "number": 10513,
    "title": "Help: Add positioning info to parse errors",
    "labels": [
      "UI",
      "Help"
    ],
    "body": "Resolves #4590 (Help browser can already deal with `&amp;`, and shows error messages in the page if invalid.)\r\n\r\nAdds Line/Character position info in Help Markup Parser errors.\r\n\r\n<img width=\"592\" height=\"112\" alt=\"Screenshot from 2025-09-04 18-41-38\" src=\"https://github.com/user-attachments/assets/669fd248-13d9-4252-a9f1-627d3c1cb989\" />\r\n\r\nSource:\r\n```ini\r\n    [topic]\r\n        id=..introduction\r\n        title= _ \"Introduction\"\r\n        text=\"<img src='misc/logo-bg.png~BLIT(misc/logo.png)' float='yes' align='center'/><clear/>\" + _ \"\r\n<i>Battle for Wesnoth</i> is a turn-based fantasy strategy game somewhat unusual among modern strategy games. While other games strive for complexity, <i>Battle for Wesnoth</i> strives for simplicity of both rules and gameplay. This does not make the game simple, however \u2014 from these simple rules arises a wealth of strategy, making the game easy to learn but a challenge to master.\r\n\r\nThe following pages outline &all you need to know to play Wesnoth. As you play, new information is added to the various categories as you come across new aspects of the game. For more detailed information on special situations and exceptions, follow the included links.\"\r\n    [/topic]```",
    "files": [
      {
        "filename": "src/gui/dialogs/help_browser.cpp"
      },
      {
        "filename": "src/serialization/markup.cpp"
      },
      {
        "filename": "src/serialization/markup.hpp"
      },
      {
        "filename": "src/serialization/unicode.cpp"
      },
      {
        "filename": "src/serialization/unicode.hpp"
      }
    ],
    "commits_messages": [
      "Help: Add positioning info to parse errors",
      "Improve comments/messages",
      "use utf8::size to count number of characters\n\nadds a new utf8::size overload that takes two string const itors.",
      "avoid static variable, rethrow modified exception instead",
      "unicode.cpp: don't catch utf8 exception",
      "remove try-catch from utf8::index and improve docs"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10513"
  },
  {
    "number": 10517,
    "title": "Bugfix for get_hexed in picture.ccp",
    "labels": [
      "Graphics"
    ],
    "body": "rgb values for SDL_MapRGBA() goes from 0 to 255. 128 is neutral. The numbers were set to 0 which caused the image to darken.\r\n\r\nHere is an image of before/after of a hex with an image of rain in it. \r\n\r\n<img width=\"658\" height=\"325\" alt=\"image\" src=\"https://github.com/user-attachments/assets/00cd1564-e99b-4fb7-a0f1-64eccf905f38\" />\r\n",
    "files": [
      {
        "filename": "src/picture.cpp"
      }
    ],
    "commits_messages": [
      "Bugfix for get_hexed in picture.ccp\n\nrgb values for SDL_MapRGBA() goes from 0 to 255. 128 is neutral. The numbers were set to 0 which caused the image to darken.",
      "Disable alpha blending"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10517"
  },
  {
    "number": 10521,
    "title": "DW units: add generic mace attack animationWML",
    "labels": [
      "Units",
      "Campaign DW"
    ],
    "body": "closes #10519 ",
    "files": [
      {
        "filename": "data/campaigns/Dead_Water/units/Child_King.cfg"
      },
      {
        "filename": "data/campaigns/Dead_Water/units/Soldier_King.cfg"
      },
      {
        "filename": "data/campaigns/Dead_Water/units/Warrior_King.cfg"
      },
      {
        "filename": "data/campaigns/Dead_Water/units/Young_King.cfg"
      }
    ],
    "commits_messages": [
      "DW units: add mace atk anim",
      "DW Units: fix incorrect attack name in animation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10521"
  },
  {
    "number": 10358,
    "title": "1.19 various monster sprite updates",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "Some animations and sprite cleanup for monster sprites, no particular goal except to eat the elephant one bite at a time.",
    "files": [
      {
        "filename": "data/core/images/units/monsters/fireghost-attack1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-attack2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-death1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-death2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-death3.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-death4.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-death5.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-death6.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-defend.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost-ranged2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/FireColorMap.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-attack1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-attack2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-death1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-death2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-death3.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-death4.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-death5.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-death6.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-defend.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-ranged2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s10.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s11.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s12.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s13.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s14.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s15.png"
      },
      {
        "filename": "data/core/images/units/monsters/fireghost/fireghost-s16.png"
      }
    ],
    "commits_messages": [
      "small updates to Roc animations",
      "update fire guardian standing anim",
      "moving fire guardian sprites to subfolder because there are too many images now",
      "palette cleanup so fireghost sprites are closer to pixel art",
      "fire guardian config sprite update",
      "update other references to fireghost",
      "update fireghost ColorMap",
      "WIP skeletal dragon animations",
      "revised standing animations",
      "fix author attribution",
      "improve Roc animations"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10358"
  },
  {
    "number": 10515,
    "title": "Fix some capitalization issues in new boat unit descriptions",
    "labels": [
      "Units"
    ],
    "body": "Some of these new boat descriptions aren't following the typography style guide's convention of capitalizing unit names.",
    "files": [
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      }
    ],
    "commits_messages": [
      "Fix some capitalization issues in new boat unit descriptions"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10515"
  },
  {
    "number": 9774,
    "title": "For translation stats, TSG is now the tutorial",
    "labels": [
      "Translations",
      "Campaign TSG",
      "Campaign Tutorial"
    ],
    "body": "For working out which languages have 80% of core translated, TSG is now relevant and the old tutorial isn't. This means that the 80% threshold has increased by around 500 strings.\r\n\r\nAdd missing changelog entries for 1.19.8 directly to the changelog. (Although I'm using the changelog_entries mechanism for the 1.19.9 change, there shouldn't be any danger of merge conflicts for the 1.19.8 part.)",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "changelog_entries/south_guard_is_tutorial.md"
      },
      {
        "filename": "po/CMakeLists.txt"
      },
      {
        "filename": "po/SConscript"
      },
      {
        "filename": "utils/po_stat.py"
      }
    ],
    "commits_messages": [
      "For translation stats, TSG is now the tutorial\n\nFor working out which languages have 80% of core translated, TSG is\nnow relevant and the old tutorial isn't. This means that the 80%\nthreshold has increased by around 500 strings.\n\nAdd missing changelog entries for 1.19.8 directly to the changelog."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9774"
  },
  {
    "number": 10506,
    "title": "Remove unnecessary differences between Bone Knight and Skeleton Rider unit descriptions",
    "labels": [
      "Units"
    ],
    "body": "Ideally both descriptions should be different, but two slightly different words between these are unnecessary and it feels like one may have been updated without updating the other at some point.",
    "files": [
      {
        "filename": "data/core/units/undead/Skele_Bone_Knight.cfg"
      }
    ],
    "commits_messages": [
      "Remove unnecessary differences between Bone Knight and Skeleton Rider unit descriptions\n\nIdeally both descriptions should be different, but two slightly different words between these are unnecessary and it feels like one may have been updated without updating the other at some point."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10506"
  },
  {
    "number": 10495,
    "title": "AToTB S4 Map: Aesthetic Revision",
    "labels": [
      "Campaign AToTB"
    ],
    "body": "@Dalas121 Very minor aesthetic changes to this map. I have made sure this map's new embellishments don't overlap with ruined houses seen in the scenario.\r\n\r\nCurrent Map:\r\n\r\n![AToTB_S3](https://github.com/user-attachments/assets/952bcdba-a3ba-48ac-8c48-540a74276ee4)\r\n\r\nProposed Map:\r\n\r\n![AToTB_S3_FINAL](https://github.com/user-attachments/assets/144ce9bb-494c-41f1-829c-bee684a5f11e)",
    "files": [
      {
        "filename": "data/campaigns/Two_Brothers/maps/04_Return_to_the_Village.map"
      }
    ],
    "commits_messages": [
      "AToTB S4 Map: Aesthetic Revision"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10495"
  },
  {
    "number": 10432,
    "title": "Revert behavior change from 3cc3c75",
    "labels": [
      "UI"
    ],
    "body": "Also revert the original change in 81f916d and only remove trailing newlines from tooltips as intended.",
    "files": [
      {
        "filename": "src/floating_label.cpp"
      }
    ],
    "commits_messages": [
      "Revert nonsensical behavior change from 3cc3c75c69b\n\nA trailing newline is counted as one more line by pango layout calculations\n(pango_layout_get_extents). Have not found a configuration option for this or\nan explanation on why that makes sense. To not show empty trailing lines for\ntooltips keep removing a trailing newline.\n\nThis could perhaps be handled for all text rendering instead..."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10432"
  },
  {
    "number": 10401,
    "title": "Revise 1.19's new ships' stats alternative",
    "labels": [
      "Graphics",
      "Audio",
      "Unit Tests",
      "Units"
    ],
    "body": "It si the same what https://github.com/wesnoth/wesnoth/pull/10343 PR authored by @Dalas121 but wit less commits and a try to fix wml test failing.",
    "files": [
      {
        "filename": "copyrights.csv"
      },
      {
        "filename": "data/core/images/attacks/grapple.png"
      },
      {
        "filename": "data/core/macros/animation-utils2.cfg"
      },
      {
        "filename": "data/core/macros/movetypes.cfg"
      },
      {
        "filename": "data/core/macros/weapon_specials.cfg"
      },
      {
        "filename": "data/core/sounds/ship-ram-windup.ogg"
      },
      {
        "filename": "data/core/units.cfg"
      },
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      },
      {
        "filename": "data/core/units/boats/Carrack_Merchant.cfg"
      },
      {
        "filename": "data/core/units/boats/Carrack_Pirate.cfg"
      },
      {
        "filename": "data/core/units/boats/Derelict_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      },
      {
        "filename": "data/core/units/boats/Fireship.cfg"
      },
      {
        "filename": "data/core/units/boats/Ghost_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Battle-Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Rigship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Warship.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Coastal.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Iron.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      },
      {
        "filename": "data/test/macros/pathfind_answers.cfg"
      }
    ],
    "commits_messages": [
      "Modify stats and add of Ships",
      "Add village defense limiting trait",
      "Rename COASTAL[...] macro to COASTAL_SHIP[...] and change movetype",
      "Update copyrights.csv",
      "attempt to update pathfind_answers",
      "Update Carrack_Merchant.cfg\n\noriginally commited by @Dalas121"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10401"
  },
  {
    "number": 10501,
    "title": "Help hidden topic improvement",
    "labels": [
      "UI",
      "Help"
    ],
    "body": "Resolves #8853\r\n\r\nFor hidden topics, there may not be a corresponding `tree_view_node`, so makes corresponding checks optional.",
    "files": [
      {
        "filename": "src/gui/dialogs/help_browser.cpp"
      }
    ],
    "commits_messages": [
      "GUI2/Help Browser: improve hidden topic support (#8853)\n\nfor hidden topics, there may not be a corresponding tree_view_node, so makes corresponding checks optional."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10501"
  },
  {
    "number": 10497,
    "title": " fix #10496 OOS when using DSU",
    "labels": [],
    "body": "the old code tried to prevent the creation of a dummy undo stack entry for toggling shroud updated if there are no elements in te undo stack before. However the old way of doing this resulted in the action being removed from the replay recorder aswell , leading to OOS.\r\n\r\n\r\nNow we just always block undo in this case.\r\n\r\nThe optional paramter in get_auto_shroud does in theory allow us to make it undoable again later in a save way.",
    "files": [
      {
        "filename": "src/replay_helper.cpp"
      },
      {
        "filename": "src/replay_helper.hpp"
      },
      {
        "filename": "src/synced_commands.cpp"
      }
    ],
    "commits_messages": [
      " fix #10496 OOS when using DSU\n\nthe old code tried to prevent the creation of a dummy undo stack entry\nfor toggling shroud updated if there are no elements in te undo stack before\n, however the old way of doing this resulted in the action being removed from\nthe replayrecorder aswell leading to OOS.",
      "also block undo if toggling DSU uncovered something"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10497"
  },
  {
    "number": 10493,
    "title": "Units Dialog (Recall): sort by experience to next level",
    "labels": [
      "UI"
    ],
    "body": "Resolves #10480\r\n\r\nIn Units Dialog (Recall), changes primary sort order to experience required to reach next level, secondary sort is by max experience.",
    "files": [
      {
        "filename": "src/gui/dialogs/units_dialog.cpp"
      }
    ],
    "commits_messages": [
      "Units Dialog (Recall): sort by experience to next level (#10480)\n\nSecondary sort is by max experience."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10493"
  },
  {
    "number": 10486,
    "title": "Android: Handle errors when determining gamedata path and respect WESNOTH_PATH",
    "labels": [
      "Android"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/wesnoth.cpp"
      }
    ],
    "commits_messages": [
      "Android: Handle errors when determining gamedata path and respect WESNOTH_PATH"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10486"
  },
  {
    "number": 10476,
    "title": "Android: onscreen keyboard and back button support",
    "labels": [
      "UI",
      "Input",
      "Android"
    ],
    "body": "Related to #10326\r\n\r\n* Support for showing the onscreen keyboard for floating textbox.\r\n* Specifically for Android, moves the command prompt inside game (`Actions > Enter command`, hotkey `:`) to the top of the gamemap instead of bottom, so that it does not get hidden by the onscreen keyboard.\r\n* Also add Back button support for Android. Behavior mirrors `Esc` key on desktop.\r\n\r\n- [x] Back support in title screen\r\n\r\n(I understand that iOS would benefit from this too, but that will have wait till #10458, which is further blocked by SDL3 migration, at which point mass-replacing Android defines to touchscreen defines could work.)",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/core/hotkeys.cfg"
      },
      {
        "filename": "src/controller_base.cpp"
      },
      {
        "filename": "src/floating_textbox.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.hpp"
      },
      {
        "filename": "src/gui/widgets/text_box_base.cpp"
      },
      {
        "filename": "src/gui/widgets/window.cpp"
      },
      {
        "filename": "src/key.cpp"
      },
      {
        "filename": "src/menu_events.cpp"
      },
      {
        "filename": "src/play_controller.cpp"
      },
      {
        "filename": "src/wesnoth.cpp"
      },
      {
        "filename": "src/widgets/textbox.cpp"
      }
    ],
    "commits_messages": [
      "Android: onscreen keyboard support for floating textbox",
      "Android: Back button support\n\nbehaves similarly to Esc on desktop versions",
      "menu events: move menu_handler_.board().get_team(side) to local var",
      "Changelog: note Android support improvements"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10476"
  },
  {
    "number": 10455,
    "title": "fix attack enemies command don't work anymore",
    "labels": [
      "UI"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/10454 issue",
    "files": [
      {
        "filename": "src/mouse_events.cpp"
      }
    ],
    "commits_messages": [
      "fix attack enemies command don't work anymore\n\nFix https://github.com/wesnoth/wesnoth/issues/10454 issue"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10455"
  },
  {
    "number": 10481,
    "title": "rename [defense] special/abilities to [defense_special]",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema",
      "Campaign UtBS",
      "Campaign TDG"
    ],
    "body": "Because of the term [defense] which is identical to the tag used in movetype, some expect that the modified defense values \u200b\u200bare displayed on the map which, because of its character as a special weapon implementable in [abilities] as well as in [specials], was never the goal for me, to remove this confusion, I must therefore rename [defense_special] this ability/weapon",
    "files": [
      {
        "filename": "changelog_entries/change_defense_to_defense_special.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/schema/units/specials.cfg"
      },
      {
        "filename": "data/test/_main.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_two_cumulative_yes_same_id.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_two_cumulative_yes_unique_id.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_add.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_add_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_add_multiply.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_affect_allies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_affect_enemies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_affect_everybody.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_affect_self_no.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_multiply.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_multiply_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_negative_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_no_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_overwrite_specials_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_overwrite_specials_mixed.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_overwrite_specials_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_overwrite_specials_two_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_overwrite_specials_two_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_overwrited_by_chance_to_hit.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense_special/defense_special_sub.cfg"
      }
    ],
    "commits_messages": [
      "rename [defense] special/abilities to [defense_special]\n\nBecause of the term [defense] which is identical to the tag used in movetype, some expect that the modified defense values \u200b\u200bare displayed on the map which, because of its character as a special weapon implementable in [abilities] as well as in [specials], was never the goal for me, to remove this confusion, I must therefore rename [defense_special] this ability/weapon",
      "rename files and folder in test"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10481"
  },
  {
    "number": 10488,
    "title": "Revert \"rename [defense] special/abilities to [defense_special] (#10481)\"",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema",
      "Campaign UtBS",
      "Campaign TDG"
    ],
    "body": "\r\nThis reverts commit f5f78ce3b139a70df3f589982c83a63c050d5c16.\r\n\r\nDue to objections to the use of _special as a suffix, I prefer to revert the changes until a better name is approved, and avoid changing the wikia multiple times for nothing.",
    "files": [
      {
        "filename": "changelog_entries/change_defense_to_defense_special.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/schema/units/specials.cfg"
      },
      {
        "filename": "data/test/_main.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_multiply.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_allies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_enemies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_everybody.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_self_no.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_multiply.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_multiply_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_negative_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_no_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_mixed.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_two_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_two_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrited_by_chance_to_hit.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_sub_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_sub_multiply.cfg"
      }
    ],
    "commits_messages": [
      "Revert \"rename [defense] special/abilities to [defense_special] (#10481)\"\n\nThis reverts commit f5f78ce3b139a70df3f589982c83a63c050d5c16.\n\nDue to objections to the use of _special as a suffix, I prefer to revert the changes until a better name is approved, and avoid changing the wikia multiple times for nothing."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10488"
  },
  {
    "number": 10477,
    "title": "Remove [defense] ability from ships",
    "labels": [
      "Units"
    ],
    "body": "I'd previously used `[defense]` to cap ships' village defense at 0. Now that 1.19.15 is out and I can test `[defense]`, I've now learned that `[defense]` doesn't affect the terrain percentage that we show to the player. So a ship might say 30% on the map, but have 0% defense when it actually goes to fight - that's confusing.\r\n\r\nInstead, accept that we'll have non-0 defense on land villages, and just set village defense to whatever our flat defense is.\r\n\r\nI haven't changed any unit costs; at some point Hejnewar will revisit costs for all ships.",
    "files": [
      {
        "filename": "data/core/macros/movetypes.cfg"
      },
      {
        "filename": "data/core/units.cfg"
      },
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      }
    ],
    "commits_messages": [
      "Remove [defense] ability from ships\n\nI'd previously used [defense] to cap village defense at 0, but [defense] doesn't affect the terrain percentage that we show to the player - that's confusing.\n\nInstead, accept that we'll have non-0 defense on land villages, and just set village defense to whatever our flat defense is.",
      "Merge branch 'master' into ships-remove-ability-defense"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10477"
  },
  {
    "number": 10443,
    "title": "TSG: make Afalas nicer",
    "labels": [
      "Campaign TSG"
    ],
    "body": "Urza Afalas was significantly more \"noble\" in the original TSG than in my revision. Revert some of that here.\r\n\r\nAlso fixes a `[companion_message]` bug, and reduces difficulty on one branch of S04.",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/02x_Westin.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/03_Vale_of_Tears.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/04_Choice_in_the_Fog.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/05a_The_Long_March.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06a_Vengeance.cfg"
      }
    ],
    "commits_messages": [
      "Make Urza Afalas nicer",
      "TSG S04 balance adjustment",
      "Update 03_Vale_of_Tears.cfg",
      "Merge branch 'wesnoth:master' into tsg-make-afalas-nicer",
      "TSG S03: fix whitespace",
      "Update 05a_The_Long_March.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10443"
  },
  {
    "number": 10429,
    "title": "Standardize L, EI, and TDG's Rogue Mage units",
    "labels": [
      "Graphics",
      "Units",
      "Campaign EI",
      "Campaign L",
      "Campaign TDG"
    ],
    "body": "Liberty, EI, and TDG all use Rogue Mages with different stats. These units aren't high-quality enough for core, but we shouldn't duplicate them across different campaigns either.\r\n\r\nThis PR moves the unit definitions out of those campaigns and into `data/internal`, and standardizes their stats. I've done some very basic playtesting and don't believe any of these campaigns will be imbalanced by these changes.\r\n\r\n@cooljeanius, I remember that you use Liberty's Shadow Lord in an addon. Pinging you so you're aware of this change and can copy the units' former stats into your addon if necessary.",
    "files": [
      {
        "filename": "data/campaigns/Eastern_Invasion/_main.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/attacks/sword-astral.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-1.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-2.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-3.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-4.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-5.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-6.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-7.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-defend1.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-defend2.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-spell.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-sword2.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-sword3.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord-sword4.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-lord.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-1.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-2.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-3.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-4.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-5.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-defend1.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-defend2.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-spell.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-sword1.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-sword2.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-sword3.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage-sword4.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/images/units/shadow-mage/shadow-mage.png"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/units/Human_Shadow_Lord.cfg"
      }
    ],
    "commits_messages": [
      "Initial commit",
      "Fix a few bugs and polish descriptions/animations",
      "Fix indentation, metadata",
      "Attempt #2 at adding metadata",
      "Indent and un-indent file",
      "Attempt #3 at adding metadata",
      "Metadata v4",
      "Dialogue changes, move files"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10429"
  },
  {
    "number": 10474,
    "title": "[1.18] Make the Load Game dialog see other-version save files from 1.19",
    "labels": [
      "UI",
      "Stable 1.18"
    ],
    "body": "If there are save directories for other versions of Wesnoth, there's a drop-down list in the Load Game dialog to see those other directories.\r\n\r\nThis adapts 1.18 for commit 80fe9ba84ddb507f0212c445e4af9bb163e94bb3, so that 1.18 will see the save directory of 1.19.2 onwards.\r\n\r\nPreviously, 1.18 would show the directory that 1.19.0 and 1.19.1 used.\r\n\r\nI'm planning to forward-port this as-is to 1.19, I think the technical debt of hardcoding the directory name \"sync\" in this place is balanced by this being a place where some cross-version debt is to be expected.",
    "files": [
      {
        "filename": "changelog_entries/other_version_savefiles.md"
      },
      {
        "filename": "src/filesystem.cpp"
      }
    ],
    "commits_messages": [
      "Make the Load Game dialog see other-version save files from 1.19\n\nIf there are save directories for other versions of Wesnoth, there's a\ndrop-down list in the Load Game dialog to see those other directories.\n\nThis adapts 1.18 for commit 80fe9ba84ddb507f0212c445e4af9bb163e94bb3,\nso that 1.18 will see the save directory of 1.19.2 onwards.\n\nPreviously, 1.18 would show the directory that 1.19.0 and 1.19.1 used."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10474"
  },
  {
    "number": 10475,
    "title": "Make the Load Game dialog for 1.19 and 1.20 see each other's save files",
    "labels": [
      "UI"
    ],
    "body": "If there are save directories for other versions of Wesnoth, there's a drop-down list in the Load Game dialog to see those other directories.\r\n\r\nThat directory moved in 80fe9ba84ddb507f0212c445e4af9bb163e94bb3, this adapts so that the feature will continue working when 1.19 is an old version. The code is the same as 1.18's implementation, I think the technical debt of hardcoding the directory name \"sync\" in this place is balanced by this being a place where some cross-version debt is to be expected.\r\n\r\nThis is a simple forward-port of #10474.",
    "files": [
      {
        "filename": "changelog_entries/other_version_savefiles.md"
      },
      {
        "filename": "src/filesystem.cpp"
      }
    ],
    "commits_messages": [
      "Make the Load Game dialog for 1.19 and 1.20 see each other's save files\n\nIf there are save directories for other versions of Wesnoth, there's a\ndrop-down list in the Load Game dialog to see those other directories.\n\nThat directory moved in 80fe9ba84ddb507f0212c445e4af9bb163e94bb3, this\nadapts so that the feature will continue working when 1.19 is an old\nversion. The code is the same as 1.18's implementation, I think the\ntechnical debt of hardcoding the directory name \"sync\" in this place\nis balanced by this being a place where some cross-version debt is\nto be expected."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10475"
  },
  {
    "number": 10479,
    "title": "Save Index: fix dangling reference when index file does not exist",
    "labels": [],
    "body": "If the save_index file did not exist when opening the Load Game dialog, the game could crash with a read access exception. When I first added the do-not-load-if-file-does-not-exist logic (691f9256ce134c731682d4635242b66be1824c44), I neglected to also set `loaded_` to true if the file was not found. Since `data()` had side effects - reading from the index file and setting the data_ member - the next time it was called, if the file *did* exist, this would result in a redundant read.\r\n\r\nPrior to 02818082186faf78adc06c9378a08b57eda05511, this redundant read was no issue. `io::read_gz` took an input parameter, and if the file it was attempting to read was empty, it simply returned and did not touch the input. Once `read_gz` returned a config, however, the flaw in the original logic revealed itself. The dialog would try to get the first save's summary config, which would query the save index. The had not yet performed lazy initialization, so data() would try to load the index file and fail, since it did not exist. A new [save] child was added to the data_ config, the save file loaded, and a summary generated. The index would attempt to write the updated config back to disk and return the newly added [save] child.\r\n\r\nYet write_save_config *also* called data() rather than using the data_ member directly. Here, since loaded_ was still false and the index file now *did* exist (it was created in by opening a file ostream immediately prior to calling data()), the empty file was loaded from disk and data_ assigned an empty config. The child config reference was now dangling, since it was a reference into the now-empty class member.\r\n\r\nAgain, this step, though erroneous and extraneous, was a no-op before I changed the signature of read_gz to return a config. The proper fix is to set loaded_ to true even if the index file does not exist. I decided to go further and simply get rid of the lazy loading mechanism entirely, populating data_ directly in the ctor. We don't create save_index_class objects often enough for this to matter (the one managing the default save dir is kept as a static instance, for one). It also resolves the frankly bad design wherein a getter called from a write-to-disk function could first clobber its payload by reading from the target file.",
    "files": [
      {
        "filename": "src/save_index.cpp"
      },
      {
        "filename": "src/save_index.hpp"
      }
    ],
    "commits_messages": [
      "Save Index: fix dangling reference when index file does not exist"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10479"
  },
  {
    "number": 10468,
    "title": "Fix animation glitches when terrain scrolls onto screen",
    "labels": [
      "Graphics"
    ],
    "body": "When an animated hex scrolled back on screen, instead of jumping to the current frame of the animation, the engine played any intermediate frames at a fast forwarded speed, because it incremented current_frame_key_ at most once per redraw. The fix for that is the second of the two loops changed in this commit.\r\n\r\nWhen an animated hex first appears on screen, a while loop ran with one iteration per cycle, as if the animation had been running since the clock's epoch. Prior to b9bcdd3, the clock epoch seemed to be when the engine loaded, after that commit it's whatever steady_clock uses, which is implementation defined but made the lag more noticeable. The fix is to just calculate the number of cycles to skip.\r\n\r\nThanks to Durzi (@mentos987) for reporting the issue and working on a fix, but the discussion in #10464 is including a growing number of people, so it seems worth resolving these parts quickly.\r\n\r\nFixes #9220\r\nFixes #10302",
    "files": [
      {
        "filename": "changelog_entries/animated_terrain_lag.md"
      },
      {
        "filename": "src/animated.hpp"
      },
      {
        "filename": "src/animated.tpp"
      }
    ],
    "commits_messages": [
      "Fix animation glitches when terrain scrolls onto screen\n\nWhen an animated hex scrolled back on screen, instead of jumping to\nthe current frame of the animation, the engine played any intermediate\nframes at a fast forwarded speed, because it incremented\ncurrent_frame_key_ at most once per redraw. The fix for that is the\nsecond of the two loops changed in this commit.\n\nWhen an animated hex first appears on screen, a while loop ran with\none iteration per cycle, as if the animation had been running since\nthe clock's epoch. Prior to b9bcdd3, the clock epoch seemed to be when\nthe engine loaded, after that commit it's whatever steady_clock uses,\nwhich is implementation defined but made the lag more noticeable. The\nfix is to just calculate the number of cycles to skip.\n\nThis code assumes that get_animation_duration returns a non-zero\nvalue. That's already handled for units in frame_builder and for\nterrain in terrain_builder::tile::rebuild_cache().\n\nFor a really short animation, floor(time_to_skip / acceleration_)\nmight be zero, but that implies that the full animation cycle is less\nthan 16ms, which sounds like a problem with the animation itself.\nThis code will cope with it, and for such a short animation it seems\nreasonable to show any frame at random.\n\nThanks to Durzi (mentos987) for reporting the issue and working on a\nfix."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10468"
  },
  {
    "number": 10467,
    "title": "Addon Info: remove extra escaping",
    "labels": [
      "UI",
      "Add-ons"
    ],
    "body": "Resolves #10466\r\nThe issue is caused by duplicate escaping in `addon_info::display_title`, which gets escaped again in the addon client (`client.cpp`).",
    "files": [
      {
        "filename": "src/addon/client.cpp"
      },
      {
        "filename": "src/addon/info.cpp"
      },
      {
        "filename": "src/gui/dialogs/addon/manager.cpp"
      },
      {
        "filename": "src/gui/widgets/addon_list.cpp"
      },
      {
        "filename": "src/gui/widgets/addon_list.hpp"
      }
    ],
    "commits_messages": [
      "Addon Info: Remove escaping from addon title\n\nIt would be escaped anyway in the addon client (client.cpp).\nAlso update UI visible strings that required escaping.",
      "Addons UI: minor code formatting changes"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10467"
  },
  {
    "number": 10469,
    "title": "Slightly improve team/side number encapsulation (team::knows_upkeep)",
    "labels": [
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/gui/dialogs/game_stats.cpp"
      },
      {
        "filename": "src/team.cpp"
      },
      {
        "filename": "src/team.hpp"
      }
    ],
    "commits_messages": [
      "Slightly improve team/side number encapsulation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10469"
  },
  {
    "number": 10453,
    "title": "Simplify and consolidate save loading paths",
    "labels": [
      "UI"
    ],
    "body": "While working on #10451, I noticed that errors for saves weren't being displayed in-game. That was because b007b5a8d09980e10c5e7192f5620319e0d88edf made it so we checked the save index for save validity in order to avoid loading the actual save file twice - once to validate it before load_game_exception was thrown and once in the titlescreen loop to actually load the damn thing.\r\n\r\nAll in-game loading (autosaves and interactive) now reads the save file to check its validity and surface any errors *before* throwing load_game_exception. The load_game_metadata  payload is likewise now expected to contain the parsed save config. The autosave loader path has been adjusted to pass the loaded payload along with its exception. (Thankfully, gfgtdf's work already made this trivial.) Conversely, the interactive load path in game_launcher will assert if load data has already been provided.\r\n\r\nThe titlescreen loop has been simplified. Previously, we had two \"load\" paths: The first through the interactive Load Game menu on the titlescreen, which would load the save, reload the game config, and update the gamestate config before dismissing the titlescreen and entering a game. The second was through a load game exception, which would skip the titlescreen by updating the gamestate config and immediately launching the game. Both paths have now been unified. In the former case, the save is selected and its config loaded (to allow for any errors), before passing off to the game launcher to apply said config and launch the game. This means we aren't invoking the loading screen twice.\r\n\r\ngame_launcher::goto_editor was using the load_data payload when it had no reason to do so. The only piece of info actually needed was the filename, then passed on to the editor. Replaced the jump-to-editor flag with an optional string. The string may be empty, but that's a valid value for the editor.\r\n\r\nThe `savegame::loadgame` class has been removed and its constituent functionality made free-standing. There was really no reason to be a class, and its nature as such only made tracking the provenance of data and who was modifying what and when extremely difficulty. We now have `load_interactive`, `load_interactive_for_multiplayer`, and `load_interactive_by_exception`. (The last simply wraps the first). Each creates and return (or throws) its own load_game_metadata object.\r\n\r\nThe other two members of the loadgame class were similarly unnecessary. The game_config_view reference mostly existed to be passed to the Load Game dialog (it had one use in show_difficulty_dialog). The former has been removed; the game_config_manager is now queried when creating the dialog rather than passing the object in. The latter was turned into a local variable.\r\n\r\nFinally, the gamestate (saved_game) reference. This is now handled by savegame::set_gamestate in order to make it extremely clear when the gamestate is being modified. Likewise, we no longer manually set the gamestate's game_classification object as part of the validation checks. We can just as easily query the version directly rather than relying on a temp object which will be later overwritten by set_state. `load_interactive_for_multiplayer` does still create its own game_classification object, but in that case, we need it for two checks. Would be good to dispense with that at some point...\r\n\r\nSeveral early return checks has been removed, notable \"is manager null\" and \"is filename empty\". Neither of these should arise in the regular course of events. show_difficulty_dialog now writes the new difficulty value directly to the load config rather than leaving that to be handled separately.\r\n\r\nOne change I'm unsure about is calling `unify_controllers` in `set_gamestate` unconditionally. Years ago, @gfgtdf added code (see #1762) to strip `is_local` from the side tags in the load config. `unify_controllers` has since evolved to perform the same cleanup on the `starting_point_` config side tags. I am unsure whether simply calling `unify_controllers` unconditionally will strip the key from the right set of side_tags to not reintroduce the crash from #1762, considering `starting_point_` is read either from `[snapshot]` or `[scenario]`...",
    "files": [
      {
        "filename": "src/game_launcher.cpp"
      },
      {
        "filename": "src/game_launcher.hpp"
      },
      {
        "filename": "src/gui/dialogs/game_load.cpp"
      },
      {
        "filename": "src/gui/dialogs/game_load.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.hpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler_sp.cpp"
      },
      {
        "filename": "src/play_controller.cpp"
      },
      {
        "filename": "src/saved_game.cpp"
      },
      {
        "filename": "src/saved_game.hpp"
      },
      {
        "filename": "src/savegame.cpp"
      },
      {
        "filename": "src/savegame.hpp"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      },
      {
        "filename": "src/wesnoth.cpp"
      }
    ],
    "commits_messages": [
      "Simplify and consolidate save loading paths",
      "tidying",
      "Update tests",
      "Further refinements",
      "Fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10453"
  },
  {
    "number": 10463,
    "title": "Tips: add hotkey customization tip and fix spacing",
    "labels": [
      "Help"
    ],
    "body": " Adds a new gameplay tip highlighting that hotkeys are customizable (improves player QoL discovery) and fixes an extra space in an existing tip line. Changes:\r\n\r\ndata/tips.cfg: +1 new tip, minor spacing correction.\r\nRationale:\r\n\r\nEncourages players to tailor controls, speeding turn execution.\r\nLow-risk text-only change; no gameplay logic impacted.",
    "files": [
      {
        "filename": "data/tips.cfg"
      }
    ],
    "commits_messages": [
      "feat(tips): add hotkey customization tip and fix spacing",
      "chore: adjust new tip per review (remove dated comment, use >, spell out quality of life)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10463"
  },
  {
    "number": 10433,
    "title": "1.19 Basic fire-dragon animations",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "Some minimal animation frames for the fire dragon, so it's not forever a \"one frame wonder\".\r\n\r\n- [x] resting frame (put those wings down)\r\n- [x] defense\r\n- [x] standing animation (maybe)\r\n\r\nAttack anims would be nice, but I'm not committing to that.\r\n",
    "files": [
      {
        "filename": "data/core/images/units/monsters/FireDragon_ColorMap.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-defend1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-defend2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-resting1.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-resting2.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-resting3.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-resting4.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-resting5.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon-resting6.png"
      },
      {
        "filename": "data/core/images/units/monsters/fire-dragon.png"
      },
      {
        "filename": "data/core/units/monsters/Fire_Dragon.cfg"
      }
    ],
    "commits_messages": [
      "resting frame and palette cleanup for fire-dragon",
      "fire-dragon melee defense",
      "defense adjustment and standing animation frames",
      "provide FireDragon_ColorMap.png",
      "last little touchups to FD resting anim frames and defense anim timing"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10433"
  },
  {
    "number": 10456,
    "title": "Update comments about image loading for canvases",
    "labels": [
      "UI"
    ],
    "body": "The i18n support was added in 887bd5f7d60da0e4373de877127d663ba565b3cc.\r\n\r\nA trivial change, collecting knowledge from working on #10449.",
    "files": [
      {
        "filename": "src/gui/core/canvas.cpp"
      },
      {
        "filename": "src/gui/core/canvas_private.hpp"
      }
    ],
    "commits_messages": [
      "Update comments about image loading for canvases\n\nThe i18n support was added in 887bd5f7d60da0e4373de877127d663ba565b3cc."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10456"
  },
  {
    "number": 10459,
    "title": "Rename second unit_mover class",
    "labels": [
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/actions/move.cpp"
      },
      {
        "filename": "src/units/udisplay.cpp"
      },
      {
        "filename": "src/units/udisplay.hpp"
      }
    ],
    "commits_messages": [
      "Rename second unit_mover class"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10459"
  },
  {
    "number": 10460,
    "title": "Addon Manager: select correct layer for controls (#10457)",
    "labels": [
      "UI",
      "Add-ons"
    ],
    "body": "Resolves #10457.\r\nFixes incorrect layer/parent being selected for some UI widgets, otherwise it can show the \"widget not found\" and return to title screen.\r\n\r\n> The reason was incorrect stacked widget layer selection. The low-res version uses a stacked widget which put the add-on on layer zero and the details panel on layer one, while the high-res version puts them all on the parent container. During find_widget call, the correct layer/parent needs to be selected, otherwise it won't be able to find the version selection menu button.",
    "files": [
      {
        "filename": "src/gui/dialogs/addon/manager.cpp"
      }
    ],
    "commits_messages": [
      "Addon Manager: select correct layer for controls (#10457)\n\nOtherwise it can show the \"widget not found\" and return to title screen."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10460"
  },
  {
    "number": 10449,
    "title": "Remove unnecessary use of blank-hex.png in the add-ons list",
    "labels": [
      "UI",
      "Add-ons"
    ],
    "body": "This was originally just \"Tidy up an if() ... if() that could be an if() ... else if()\". Thanks to Nanamuru for pointing this out, it's one of the bugs found by static analysis and reported in #10386.\r\n\r\nIt's now \"remove unnecessary use of blank-hex.png for add-ons\" and \"for local add-ons without icons, don't add an IPF\".\r\n\r\nCanvas' image_shape class will handle empty strings and simply not draw an image. It will log a gui/draw message at log-level debug, but there are many messages at that log level, and there's a separate discussion about removing it.\r\n\r\nLocally authored add-ons normally get an overlay via an Image Path Function. The second commit prevents that overlay being added to add-ons which don't have an icon, because the IPF doesn't work without an image - the result is a blank space, the same as for any other add-on without an icon.",
    "files": [
      {
        "filename": "src/addon/info.cpp"
      },
      {
        "filename": "src/gui/widgets/addon_list.cpp"
      }
    ],
    "commits_messages": [
      "Remove unnecessary use of blank-hex.png for add-ons\n\nAlmost reverts d9ef464b1e9446b3a53e2d3bd86635529c897df4's changes to\nthis file, although not the other parts of that commit. The empty\nstring will be used instead of a filename that doesn't exist, because\nnon-existent filenames cause the canvas class to generate error logs\nwhich lack the useful information identifying which add-on caused them.\n\nCanvas' image_shape class will handle empty strings and simply not\ndraw an image. It will log a gui/draw message at log-level debug, but\nthere are many messages at that log level, and there's a separate\ndiscussion about removing that log.\n\nThere's one edge case for locally authored add-ons without icons. This\ncommit means they will have a blank space for the icon, which is the\nsame as for any other add-on without an icon, although it will give an\nerror-level log message. Locally authored add-ons normally get an\noverlay via an Image Path Function, which works with blank-hex.png but\nnot with an empty string. The UI probably shouldn't allow uploading\nwithout an icon anyway.\n\nThis tidies up an if() ... if() that should be an if() ... else if().\nThanks to Nanamuru for pointing that out, it's one of the bugs found\nby static analysis and reported in #10386, but it lead to this larger\nchange.",
      "For locally authored add-ons without icons, don't add an IPF\n\nIf it's a local add-on then it gets an overlay via an Image Path\nFunction, which works with blank-hex.png but not with an empty string.\nThe UI should probably not allow uploading without an icon anyway...\n\nThis commit means these are shown with a blank space where the icon\nwould be, the same as for any other add-on that lacks an icon."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10449"
  },
  {
    "number": 10436,
    "title": "Have presets support saving the same values as the last used scenario preferences",
    "labels": [
      "UI"
    ],
    "body": "Resolves #10377",
    "files": [
      {
        "filename": "src/game_initialization/create_engine.cpp"
      },
      {
        "filename": "src/game_initialization/create_engine.hpp"
      },
      {
        "filename": "src/game_initialization/lobby_info.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_options_helper.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_options_helper.hpp"
      }
    ],
    "commits_messages": [
      "Have presets support saving the same values as the last used scenario preferences\n\nResolves #10377",
      ".",
      ".",
      ".",
      "."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10436"
  },
  {
    "number": 10450,
    "title": "Log at most one \"image won't be drawn\" error per canvas",
    "labels": [
      "UI"
    ],
    "body": "This was triggering for a broken Data URI in the list of add-ons, which declares itself as image/png but the data is image/webp. The whole Data URI was getting logged on every draw() call.\r\n\r\nFor formulas, this means that only the first failing filename or data URI will be reported, even if the formula changes to a different image. It seems unnecessary to add more logic; if the person who sees the log is the person who can fix the problem, then they're likely to either see a common pattern in a set of broken filenames, or to keep testing until everything is fixed.\r\n\r\nNote: when testing this on the 1.19 add-ons server, you'll currently see two logs, which look like the same error. It's because Town of Arnsreach has a separate Resources add-on, and there's one log for each.",
    "files": [
      {
        "filename": "src/gui/core/canvas.cpp"
      },
      {
        "filename": "src/gui/core/canvas_private.hpp"
      }
    ],
    "commits_messages": [
      "Log at most one \"image won't be drawn\" error per canvas\n\nThis was triggering for a broken Data URI in the list of add-ons,\nwhich declares itself as image/png but the data is image/webp.\nThe whole Data URI was getting logged on every draw() call.\n\nFor formulas, this means that only the first failing filename or\ndata URI will be reported, even if the formula changes to a\ndifferent image. It seems unnecessary to add more logic; if the\nperson who sees the log is the person who can fix the problem,\nthen they're likely to either see a common pattern in a set of\nbroken filenames, or to keep testing until everything is fixed."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10450"
  },
  {
    "number": 10452,
    "title": "NR: stop some loyals and heroes from being renamed",
    "labels": [
      "Campaign NR"
    ],
    "body": "No comment.",
    "files": [
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/01_Breaking_the_Chains.cfg"
      },
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/03_To_the_Mines.cfg"
      },
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/05a_01_The_Pursuit.cfg"
      }
    ],
    "commits_messages": [
      "NR S01: Zlex should not be renamable",
      "NR S03: Hamel should not be renamable",
      "NR S05: stop Abhai being renamed"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10452"
  },
  {
    "number": 10330,
    "title": "Fonts: Replace Oldania with customized version",
    "labels": [
      "UI"
    ],
    "body": "Replaces Oldania ADF Std with a customized variant that has a different 'A' which looks more distinct and less prone to be confused for a 'fi' ligature. Name changed to \"WesScript\" to conform with OFL license of Oldania.\r\n\r\nScreenshots\r\n**Oldania**\r\n![Screenshot from 2025-07-06 08-13-05](https://github.com/user-attachments/assets/2a7332b2-167a-4e5b-987d-b01e1e66dd6c)\r\n\r\n**WesScript**\r\n![Screenshot from 2025-07-06 08-04-00](https://github.com/user-attachments/assets/bddebda4-1b8f-4a52-acf8-8526114df943)\r\n\r\n**Old and new A comparison**\r\n![Screenshot from 2025-07-06 07-56-37](https://github.com/user-attachments/assets/eb25891f-c256-4628-9472-f7c735ae173c)\r\n",
    "files": [
      {
        "filename": "data/hardwired/fonts.cfg"
      },
      {
        "filename": "fonts/COPYING"
      },
      {
        "filename": "fonts/WesScript-Regular.ttf"
      }
    ],
    "commits_messages": [
      "Fonts: Add WesScript\n\nAdds customized Oldania variant called WesScript that has a different 'A' which looks more distinct and less prone to be confused for a 'fi' ligature."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10330"
  },
  {
    "number": 10451,
    "title": "Display any errors encountered when reading save files",
    "labels": [],
    "body": "`read_save_file` would throw if it encountered an error, but also log its errors to `error_log` if such an argument were provided. However, since an exception is thrown, the code that is meant to display the error messages was never called. Resolved by dispatching the error message as part of the exception object and catching it at the call site.\r\n\r\nThe error displayed when loading an invalid save is now more descriptive:\r\n<img width=\"432\" height=\"254\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9fd6999c-6540-43a5-93f0-54036c24ad80\" />\r\n\r\n(Not sure why the path is shown as \"unknown\" here, but that's a separate issue.)\r\n\r\nI've also made a corrupt save a fatal error. Two codepaths treated any errors from read_save_file as non-fatal, but it doesn't make sense to try and continue loading an invalid (or empty) config, or in the case of a stream error.\r\n\r\nOne inconsistency I noticed was with loading saves in-game. b007b5a8d09980e10c5e7192f5620319e0d88edf made it so we check the save_index cache for save validity, but that also means that any errors aren't shown when loading the save in-game (unlike loading from the main menu, for instance). Will look into addressing that.",
    "files": [
      {
        "filename": "src/hotkey/hotkey_handler_sp.cpp"
      },
      {
        "filename": "src/save_index.cpp"
      },
      {
        "filename": "src/save_index.hpp"
      },
      {
        "filename": "src/savegame.cpp"
      }
    ],
    "commits_messages": [
      "Display any errors encountered when reading save files",
      "Use a const reference",
      "Make all autosave errors fatal"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10451"
  },
  {
    "number": 10445,
    "title": "Regroup the checks for abilities used as weapons into two separate functions.",
    "labels": [
      "Units"
    ],
    "body": "\r\nNow that support for Boolean specials is separated from filtering, it would be better if the checks for self_ and other_ were handled by a single function instead of copying the code for each of them to simplify the writing. Hence, the use of two functions: one for handling Boolean specials, which will be called twice, and one for the filter functions, which will be called four times in total.\r\n\r\nthe two first commit are the same what https://github.com/wesnoth/wesnoth/pull/10426 ",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      }
    ],
    "commits_messages": [
      "Consolidate the checks for abilities used as weapons into two separate functions.\n\nNow that support for Boolean specials is separated from filtering, it would be better if the checks for self_ and other_ were handled by a single function instead of copying the code for each of them to simplify the writing. Hence, the use of two functions: one for handling Boolean specials, which will be called twice, and one for the filter functions, which will be called four times in total."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10445"
  },
  {
    "number": 10384,
    "title": "fix name_affected no showed in sidebar for unit affected by 'initiative'",
    "labels": [
      "Campaign HttT"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/Heir_To_The_Throne/utils/abilities.cfg"
      }
    ],
    "commits_messages": [
      "fix name_affected no showed in unit affected by 'initiative'"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10384"
  },
  {
    "number": 10399,
    "title": "Move checking_tags()set to ability_tags.hpp file",
    "labels": [
      "Units",
      "Building"
    ],
    "body": "So they are all gathered in the same file",
    "files": [
      {
        "filename": "projectfiles/CodeBlocks/wesnoth.cbp"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/ability_tags.hpp"
      },
      {
        "filename": "src/units/udisplay.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "Move checking_tags()set to ability_tags.hpp file\n\nSo they are all gathered in the same file"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10399"
  },
  {
    "number": 10442,
    "title": "Preprocessor: clean up preproc_map input handling",
    "labels": [
      "UI",
      "Editor",
      "Lua API"
    ],
    "body": "- Add preprocess_file and preprocess_string overloads taking a preproc_map reference instead of a defaulted pointer argument. No longer need to take the address of every defines map we pass in.\r\n- Make preprocess_string return the stream to match preprocess_file\r\n- Remove unused `default_defines_` member from from preprocessor_streambuf. Was added all the way back in 1e32e22ca9ba4f4be8726b908a76bdda4ba5f688 to serve as a local fallback for the defines pointer, but that functionality has long since been relegated to preprocessor_scope_helper (now called preprocessor_istream)\r\n- Store defines as a reference in preprocessor_streambuf, since we know it's always valid.\r\n- Use rdbuf over `std::ios::init` and remove a comment I added years ago which now proved to be incorrect.\r\n- Expand preprocessor_istream functionality to make it usable in preprocess_string without duplicating code.",
    "files": [
      {
        "filename": "src/config_cache.cpp"
      },
      {
        "filename": "src/editor/map/map_context.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/edit_unit.cpp"
      },
      {
        "filename": "src/gui/gui.cpp"
      },
      {
        "filename": "src/scripting/lua_wml.cpp"
      },
      {
        "filename": "src/serialization/preprocessor.cpp"
      },
      {
        "filename": "src/serialization/preprocessor.hpp"
      },
      {
        "filename": "src/serialization/schema_validator.cpp"
      },
      {
        "filename": "src/tests/utils/wml_equivalence.cpp"
      },
      {
        "filename": "src/tests/utils/wml_equivalence.hpp"
      },
      {
        "filename": "src/tests/wml/schema/test_schema_validator.cpp"
      },
      {
        "filename": "src/wesnoth.cpp"
      }
    ],
    "commits_messages": [
      "Preprocessor: clean up preproc_map input handling",
      "refinements",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10442"
  },
  {
    "number": 10428,
    "title": "Fix move behavior of enable_lua_ptr<T>",
    "labels": [
      "Lua API"
    ],
    "body": "The move assignment didn't return a value, however it was also unused, GCC started giving warnings when the test was changed to use it.\r\n\r\nThanks to Nanamuru for finding this, it's one of the bugs found by static analysis and reported in #10386.\r\n\r\n@gfgtdf I'm opening this as a draft, because I've added comments about what I think this code does, but I'd like your confirmation that I've understood it correctly.",
    "files": [
      {
        "filename": "boost_test_schedule"
      },
      {
        "filename": "src/scripting/lua_ptr.hpp"
      },
      {
        "filename": "src/tests/test_lua_ptr.cpp"
      }
    ],
    "commits_messages": [
      "Fix move behavior of enable_lua_ptr<T>\n\nThe move assignment didn't return a value, however it was also unused,\nGCC started giving warnings when the test was changed to use it.\n\nThanks to Nanamuru for finding this, it's one of the bugs found by\nstatic analysis and reported in #10386."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10428"
  },
  {
    "number": 10426,
    "title": "checking unit with underlying_id() and remove same_unit() function",
    "labels": [
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/animation_component.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "Checking unit with underlying_id() and remove same_unit() function\n\nWhen the movement code cloned units for animation purposes, units with\n[affect_adjacent] were affecting their clone. Checking for underlying_id()\ninstead of location avoids this.",
      "Redeclare C++ member functions for abilities with [affect_adjacent] subtags\n\nRenamed to max_ability_radius (and similar) to make the names more meaningful.\n\nThe return type is now simply size_t, since a zero value is equivalent to false\nin Boolean terms, and logically zero means \"this unit has no [affect_adjacent]\nabilities that affect units more than zero hexes away from itself\"."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10426"
  },
  {
    "number": 10441,
    "title": "EI: fix 2 baneblade bugs (#8914)",
    "labels": [
      "Campaign EI"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/Eastern_Invasion/utils/items.cfg"
      }
    ],
    "commits_messages": [
      "EI: fix 2 baneblade bugs (#8914)",
      "Fix whitespace",
      "Update items.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10441"
  },
  {
    "number": 10440,
    "title": "Reduce copying of preproc_define and tidy up config cache",
    "labels": [
      "UI",
      "Editor",
      "Lua API",
      "Add-ons"
    ],
    "body": "- Prefer return values over input parameters in the config cache. The test_non_clean_config_loading test has likewise been removed since `config_cache::get_config` no longer takes an input parameter.\r\n- Remove unnecessary default ctors or use defaulted ones\r\n- Use in-place construction for preproc_defines. Especially no need to create default objects only to assign them to default objects.) Subscript lookup for define maps has been replaced either with try_emplace or insert_or_assign`.\r\n- Slightly optimize `preproc_define` size (saves 8 bytes)\r\n- Replace `preproc_define::read_pair` with a new in-place construction helper (`preproc_define::insert`).\r\n- ~Optimize `config_cache::transaction::add_defines_map_diff`. Remove an unnecessary copy by erasing duplicates from the input map before copying to the active map rather than going through an intermediate temp object.~\r\n- Remove `config_cache_transaction::insert_to_active`. One use was superseded by the above change, the other by the new `preproc_define::insert` helper. The old implementation was also making an unnecessary value copy instead of simply inserting the value_type parameter. (Note that using `get_active_map` instead of straight map insertion results in defines being copied from the input map to the active map if the latter is empty, but I don\u2019t see harm in doing so, given we expect that wherever else the accessor is used).",
    "files": [
      {
        "filename": "boost_test_schedule"
      },
      {
        "filename": "src/addon/manager_ui.cpp"
      },
      {
        "filename": "src/config_cache.cpp"
      },
      {
        "filename": "src/config_cache.hpp"
      },
      {
        "filename": "src/editor/map/map_context.cpp"
      },
      {
        "filename": "src/game_config_manager.cpp"
      },
      {
        "filename": "src/gui/gui.cpp"
      },
      {
        "filename": "src/scripting/lua_wml.cpp"
      },
      {
        "filename": "src/serialization/preprocessor.cpp"
      },
      {
        "filename": "src/serialization/preprocessor.hpp"
      },
      {
        "filename": "src/serialization/tokenizer.hpp"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      },
      {
        "filename": "src/tests/test_config_cache.cpp"
      },
      {
        "filename": "src/tests/test_filesystem.cpp"
      },
      {
        "filename": "src/tests/utils/game_config_manager_tests.cpp"
      },
      {
        "filename": "src/tests/wml/schema/test_schema_validator.cpp"
      },
      {
        "filename": "src/wesnoth.cpp"
      }
    ],
    "commits_messages": [
      "Reduce copying of preproc_define",
      "re-add token_desc ctor",
      "update tests",
      "refinements",
      "refinements 2",
      "remote test entry",
      "Revert to set_difference method, testing shows it's slightly faster",
      "use static inline"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10440"
  },
  {
    "number": 10435,
    "title": "Dunefolk balance changes for 1.20",
    "labels": [
      "Units"
    ],
    "body": "As discussed by the balance team. ",
    "files": [
      {
        "filename": "changelog_entries/dunefolk_balance.md"
      },
      {
        "filename": "data/core/units/dunefolk/Burner.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Explorer.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Firetrooper.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Rover.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Scorcher.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Soldier.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Wayfarer.cfg"
      }
    ],
    "commits_messages": [
      "Dunefolk balance for 1.20"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10435"
  },
  {
    "number": 9942,
    "title": "lua api: add double click event handler",
    "labels": [
      "UI",
      "Lua API"
    ],
    "body": "Adds a new `on_double_click` function to toggle panels that get called when the user left double clicks on it. For other widgets, they can be wrapped inside a `[toggle_panel]` to add double click handlers, because the C++ dbl click handler supports only `[toggle_panel]`-s.",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/scripting/lua_widget_attributes.cpp"
      },
      {
        "filename": "utils/emmylua/gui.lua"
      }
    ],
    "commits_messages": [
      "lua api: add double click event handler\n\nadds a new `on_double_click` function to gui2 widgets that get called when the user left double clicks.",
      "Update changelog.md: mention it works for toggle panel"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9942"
  },
  {
    "number": 10422,
    "title": "Improve UI test",
    "labels": [
      "Unit Tests",
      "UI"
    ],
    "body": "Compare an error code instead of a tstring, the latter of which may change at any point, and is not very obvious. Also bad design pattern.\r\n\r\n(Opened for CI run)",
    "files": [
      {
        "filename": "src/gui/widgets/window.cpp"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      },
      {
        "filename": "src/wml_exception.hpp"
      }
    ],
    "commits_messages": [
      "wml_exception: use error type enum to indicate category",
      "Update wml_exception.hpp\n\nChange error code: -4 to -1"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10422"
  },
  {
    "number": 10317,
    "title": "Floating label cleanup and optimization",
    "labels": [
      "UI"
    ],
    "body": "Covers a bunch of misc changes to floating labels. Notably:\r\n- Fixes damage floating labels not fading out over their whole duration\r\n- Avoid calculating movement delta if no delta was specified (it had ended up as a multiplication by 0)\r\n- Partially readds an early-exit optimization that was lost in the process of fixing #7700",
    "files": [
      {
        "filename": "src/floating_label.cpp"
      },
      {
        "filename": "src/floating_label.hpp"
      },
      {
        "filename": "src/game_display.cpp"
      }
    ],
    "commits_messages": [
      "Floating Label: trim text on construction\n\nNote this is a more extensive trim to both trailing and leading spaces.",
      "Floating Label: misc tidying",
      "Floating Label: simplify get_alpha implementation",
      "Game Display: clarify use of floating label movement and lifetime",
      "Game Display: fix damage numbers not fading out over the whole duration\n\nLifetime was split from fadeout in 1141e976209e8905f3e8f9a446e5cafd17a69cb5, but this call wasn't updated, so it was using the default fadeout of 100ms.",
      "Floating Label: only calculate pos with movement rate if provided",
      "Floating Label: use native clock duration in most cases\n\nWe don't need to do the duration cast except in get_pos since the movement rate is defined as pixels per millisecond.",
      "Floating Label: readd early exit optimization to update function\n\nThis was removed in 58a29bcad8648da9c1c2b6d225cee1d3efa9b4b3 to address #7700. However, we can address that bug without losing the optimization for the common floating label usecase of map labels."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10317"
  },
  {
    "number": 10363,
    "title": "Fix halo and hides display bug in abilities",
    "labels": [
      "Units"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/10364 issue\r\n\r\nWhen a unit with the halo_image attribute [affect_adjacent] but with affect_self=no moves, it is likely to be illuminated by this halo, as it finds itself next to a temporary unit that is almost identical except for its location. This requires slightly complicating the verification with id if a simple comparison of unit is not sufficient.\r\n\r\nsame for [filter_adjacent] and [filter], if a unit with hides ability is invisible only when another unit of same race is adjacent, when unitmoves, it is 'hidden' because' adjacent to itself.",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      }
    ],
    "commits_messages": [
      "Fix halo and hides display bug in abilities\n\nWhen a unit with the halo_image attribute [affect_adjacent] but with affect_self=no moves, it is likely to be illuminated by this halo, as it finds itself next to a temporary unit that is almost identical except for its location. This requires slightly complicating the verification with id if a simple comparison of unit is not sufficient.\n\nsame for [filter_adjacent] and [filter], if a unit with hides ability is invisible only when another unit of same race is adjacent, when unitmoves, it is 'hidden' because' adjacent to itself.",
      "using location instead of whole unit"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10363"
  },
  {
    "number": 10434,
    "title": "Consistently format achievements",
    "labels": [
      "Achievements",
      "Campaign EI",
      "Campaign L",
      "Campaign THoT",
      "Campaign TDG"
    ],
    "body": "- Remove single quotes around scenario names. Some campaigns use them, some don't. IMO it looks cleaner without, since they names are already italicized. (TDG S2 wasn't using the proper typographic closing quote either)\r\n- End all descriptions with periods. Again, I don't mind either way, but it should be consistent.\r\n- Italicize all scenario names",
    "files": [
      {
        "filename": "data/campaigns/Eastern_Invasion/achievements.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/achievements.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/achievements.cfg"
      },
      {
        "filename": "data/campaigns/The_Hammer_of_Thursagan/achievements.cfg"
      }
    ],
    "commits_messages": [
      "Consistently format achievements"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10434"
  },
  {
    "number": 10431,
    "title": "TRoW: improve {ABILITY_DISTRACT} description",
    "labels": [
      "Campaign TRoW"
    ],
    "body": "The description for TRoW's {ABILITY_DISTRACT} is a little confusing, and could be read to imply that adjacent enemies have their ZoC disabled.\r\n\r\nThis change to the description should hopefully be more clear.",
    "files": [
      {
        "filename": "data/campaigns/The_Rise_Of_Wesnoth/utils/trow-abilities.cfg"
      }
    ],
    "commits_messages": [
      "TRoW: improve ABILITY_DISTRACT description",
      "Update trow-abilities.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10431"
  },
  {
    "number": 10394,
    "title": "Use resting for burrow instead of moves, closes #8693",
    "labels": [
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/core/macros/abilities.cfg"
      }
    ],
    "commits_messages": [
      "Use resting for burrow instead of moves, closes #8693"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10394"
  },
  {
    "number": 10389,
    "title": "Android/InitActivity: add userdata import/export functionality (#10326)",
    "labels": [
      "UI",
      "Packaging",
      "Android"
    ],
    "body": "Adds a new menu item to the setting menu in the Android splash screen/launcher activity that allows import/export of Wesnoth userdata folders.\r\n\r\nTODO\r\n- [x] Export\r\n- [x] Import\r\n~~- [ ] Custom userdata folder~~ (Will attempt in a future PR if possible)\r\n\r\n<img width=\"1600\" height=\"720\" alt=\"Screenshot_20250722-172322\" src=\"https://github.com/user-attachments/assets/8e615626-dcb1-43a2-ae9a-bc2182ea92ac\" />\r\n<img width=\"1600\" height=\"720\" alt=\"Screenshot_20250722-172327\" src=\"https://github.com/user-attachments/assets/3cc6443a-251d-4f36-846a-27bf4e8ca5a4\" />\r\n",
    "files": [
      {
        "filename": "packaging/android/app/build.gradle"
      },
      {
        "filename": "packaging/android/app/src/main/java/org/wesnoth/Wesnoth/IOUtils.java"
      },
      {
        "filename": "packaging/android/app/src/main/java/org/wesnoth/Wesnoth/InitActivity.java"
      },
      {
        "filename": "packaging/android/app/src/main/res/menu/main_menu.xml"
      }
    ],
    "commits_messages": [
      "Android/InitActivity: add userdata import/export functionality (#10326)",
      "IOUtils: new IO helper class\n\nutility IO methods with no context requirements (this) moved here.",
      "IOUtils: improve recursive copy methods\n\nBackend copyRecursive now uses DocumentFile for more versatility",
      "Android/InitActivity: add Import mechanism",
      "use updateProgress",
      "add sanity checks",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10389"
  },
  {
    "number": 10425,
    "title": "Fix a potential out-of-bounds error in mouse button handling",
    "labels": [],
    "body": "Thanks to Nanamuru for finding this and pointing out the easy fix; it's one of the bugs found by static analysis and reported in #10386.",
    "files": [
      {
        "filename": "src/mouse_events.cpp"
      }
    ],
    "commits_messages": [
      "Fix a potential out-of-bounds error in mouse button handling\n\nThanks to Nanamuru for finding this and pointing out the easy fix;\nit's one of the bugs found by static analysis and reported in #10386."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10425"
  },
  {
    "number": 10385,
    "title": "Change Sylph, Shyde, and Enchantress to be closer to 1.16",
    "labels": [
      "Units"
    ],
    "body": "The Elvish Sylph, Shyde, and Enchantress received massive buffs in 1.18. Those have been partially walked back in #8749, but these units still remain outliers in power at their respective levels - especially now that most undead have -40% arcane resist.\r\n\r\nA dexterous Sylph, for example, is better than a Great Mage in almost every possible aspect - damage, movement, hitpoints, melee, support (slows), and defense.\r\n\r\nThis PR brings most of their stats back down to their 1.16 levels (or slightly stronger), but deliberately leaves the Sylph and Enchantress's slowing attacks unnerfed; I think those attacks are somewhat weak in comparison to their much more deadly arcane attacks.\r\n\r\nBalance vote is in progress; will conclude in a few days.",
    "files": [
      {
        "filename": "changelog_entries/sylph-shyde-enchantress.md"
      },
      {
        "filename": "data/core/units/elves/Enchantress.cfg"
      },
      {
        "filename": "data/core/units/elves/Shyde.cfg"
      },
      {
        "filename": "data/core/units/elves/Sylph.cfg"
      }
    ],
    "commits_messages": [
      "Update Shyde.cfg",
      "Update Sylph.cfg",
      "Update Enchantress.cfg",
      "Update Shyde.cfg",
      "Update Sylph.cfg",
      "Create sylph-shyde-enchantress.md",
      "Update sylph-shyde-enchantress.md",
      "Update sylph-shyde-enchantress.md",
      "Update Enchantress.cfg",
      "Update sylph-shyde-enchantress.md",
      "Update sylph-shyde-enchantress.md"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10385"
  },
  {
    "number": 10390,
    "title": "TSG S06b: explain S05b bonus in objectives",
    "labels": [
      "Campaign TSG"
    ],
    "body": "Resolves #10373",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06b_The_Tides_of_War.cfg"
      }
    ],
    "commits_messages": [
      "TSG S06b: explain S05b bonus in objectives",
      "Update 06b_The_Tides_of_War.cfg",
      "Update 06b_The_Tides_of_War.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10390"
  },
  {
    "number": 10421,
    "title": "Use utils::contains in more places",
    "labels": [
      "AI",
      "MP",
      "UI",
      "Units",
      "Add-ons",
      "WFL",
      "Help",
      "Schema",
      "Terrain"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/ai/default/ca.cpp"
      },
      {
        "filename": "src/ai/default/recruitment.cpp"
      },
      {
        "filename": "src/events.cpp"
      },
      {
        "filename": "src/fake_unit_manager.cpp"
      },
      {
        "filename": "src/formula/variant_value.cpp"
      },
      {
        "filename": "src/game_events/conditional_wml.cpp"
      },
      {
        "filename": "src/game_events/manager.cpp"
      },
      {
        "filename": "src/game_initialization/depcheck.cpp"
      },
      {
        "filename": "src/game_initialization/flg_manager.cpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.cpp"
      },
      {
        "filename": "src/generators/default_map_generator_job.cpp"
      },
      {
        "filename": "src/gui/core/event/distributor.cpp"
      },
      {
        "filename": "src/gui/core/event/handler.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/edit_pbl.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/faction_select.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/widgets/rich_label.cpp"
      },
      {
        "filename": "src/gui/widgets/window.cpp"
      },
      {
        "filename": "src/help/help_impl.cpp"
      },
      {
        "filename": "src/map/label.cpp"
      },
      {
        "filename": "src/preferences/preferences.cpp"
      },
      {
        "filename": "src/replay.cpp"
      },
      {
        "filename": "src/save_index.cpp"
      },
      {
        "filename": "src/serialization/schema/tag.cpp"
      },
      {
        "filename": "src/serialization/schema_validator.cpp"
      },
      {
        "filename": "src/server/campaignd/server.cpp"
      },
      {
        "filename": "src/server/wesnothd/game.cpp"
      },
      {
        "filename": "src/side_filter.cpp"
      },
      {
        "filename": "src/sound.cpp"
      },
      {
        "filename": "src/team.cpp"
      }
    ],
    "commits_messages": [
      "Use utils::contains in more places",
      "fixup",
      "fixup",
      "fixup",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10421"
  },
  {
    "number": 10356,
    "title": "give 'radius' to 'illuminates' abilities",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema"
    ],
    "body": "work like [affect_adjacent]radius but for radius of illumination/darkening",
    "files": [
      {
        "filename": "changelog_entries/add-radius-to_illuminates-abilities.md"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/illuminates/illuminates_value_chaotic_distant.cfg"
      },
      {
        "filename": "src/tod_manager.cpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "give 'radius' to 'illuminates' abilities\n\nwork like [affect_adjacent]radius but for radius of illumination/darkening"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10356"
  },
  {
    "number": 10417,
    "title": "Android/build-dependencies: check existence before copying",
    "labels": [
      "Packaging",
      "Android"
    ],
    "body": "Creating for the CI run.",
    "files": [
      {
        "filename": "packaging/android/build-android-dependencies/build-android-deps.sh"
      }
    ],
    "commits_messages": [
      "Android/build-dependencies: check existence before copying *.so files"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10417"
  },
  {
    "number": 10340,
    "title": "Fix bug when receiving [notify_next_scenario] too early",
    "labels": [
      "UI"
    ],
    "body": "Previously it could happen that on reciving [notify_next_scenario] the game fisrt sets end_turn_requested_ to \"true\" but when starintg linger mode it's set to false again.",
    "files": [
      {
        "filename": "src/gui/dialogs/preferences_dialog.cpp"
      },
      {
        "filename": "src/play_controller.cpp"
      },
      {
        "filename": "src/playmp_controller.cpp"
      },
      {
        "filename": "src/playmp_controller.hpp"
      },
      {
        "filename": "src/playsingle_controller.cpp"
      },
      {
        "filename": "src/playsingle_controller.hpp"
      },
      {
        "filename": "src/synced_user_choice.cpp"
      }
    ],
    "commits_messages": [
      "Fix bug when receiving [notify_next_scenario] too early\n\nPreviously it could happen that on receiving [notify_next_scenario] the game first sets end_turn_requested_ to \"true\" but then back to \"false\" when starting linger mode.",
      "add todo comment",
      "small block_undo refactor\n\nit turned out (issue #9708) that these block_undo lines are definitely needed."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10340"
  },
  {
    "number": 9500,
    "title": "Fix assertion error on [allow_undo] misuse",
    "labels": [
      "WML"
    ],
    "body": "Previously it could happen that the replay recorder was not at end after redoing if redo() pushed additional user choices to the recorderwhihc were not used by the actual code (this can happen if the game is out of sync)\r\n\r\nThis was brought to my attention in https://forums.wesnoth.org/viewtopic.php?p=694081#p694081\r\n\r\n",
    "files": [
      {
        "filename": "src/actions/undo.cpp"
      }
    ],
    "commits_messages": [
      "Fix assertion error on [allow_undo] misuse\n\nPreviously it could happen that the replay recorder was not at end after redoing if redo() pushed additional user choices to the recorderwhihc were not used by the actual code (this can happen if the game is out of sync)",
      "f",
      "Merge branch 'master' into gfgtdf-fix_redo_oos_assert",
      "Update undo.cpp"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9500"
  },
  {
    "number": 10415,
    "title": "Add fastlane metadata for f-droid",
    "labels": [
      "CI",
      "Android"
    ],
    "body": "Adds fastlane metadata for Wesnoth in `/fastlane` following `https://gitlab.com/-/snippets/1895688`. This is needed for F-Droid.\r\nAlso adds a CI check for verifying fastlane metadata.",
    "files": [
      {
        "filename": ".github/workflows/android.yml"
      },
      {
        "filename": "fastlane/metadata/android/en-US/full_description.txt"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/icon.png"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/phoneScreenshots/wesnoth-1.jpg"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/phoneScreenshots/wesnoth-2.jpg"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/phoneScreenshots/wesnoth-3.jpg"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/phoneScreenshots/wesnoth-4.jpg"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/phoneScreenshots/wesnoth-5.jpg"
      },
      {
        "filename": "fastlane/metadata/android/en-US/images/phoneScreenshots/wesnoth-6.jpg"
      },
      {
        "filename": "fastlane/metadata/android/en-US/short_description.txt"
      },
      {
        "filename": "fastlane/metadata/android/en-US/title.txt"
      },
      {
        "filename": "fastlane/metadata/android/en-US/video.txt"
      }
    ],
    "commits_messages": [
      "Add fastlane metadata for f-droid\n\nAlso adds a CI check for fastlane metadata",
      "update screenshots and add metadata",
      "converts pngs to jpg following convention"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10415"
  },
  {
    "number": 10339,
    "title": "Fix #10029 leader for disabled side",
    "labels": [
      "MP Lobby"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      }
    ],
    "commits_messages": [
      "Fix #10029 leader for disabled side"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10339"
  },
  {
    "number": 10412,
    "title": "Sprite shadow corrections",
    "labels": [
      "Graphics",
      "Units",
      "Stable 1.18"
    ],
    "body": "Back-port of #10008 and #10404. PR because of cherry-pick conflicts.\r\n\r\nCloses #10409.",
    "files": [
      {
        "filename": "copyrights.csv"
      },
      {
        "filename": "data/core/images/units/elves-wood/shaman.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-1.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-2.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-3.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-4.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-5.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-1.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-2.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-3.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-4.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-5.png"
      },
      {
        "filename": "data/core/images/units/human-peasants/peasant-attack2-s.png"
      },
      {
        "filename": "data/core/images/units/human-peasants/peasant-attack3-s.png"
      }
    ],
    "commits_messages": [
      "Fix shadow inconsistencies in Lancer/Horseman breeze and peasant attack frames\n\n(cherry picked from commit df718c2ef5439a4542ec8ae79c596c41edef318a)",
      "fix #10393 shaman.png shadow (#10404)\n\n(cherry picked from commit e1b7753b4b9207c4dc76c9a96bbd999226f7fd3f)",
      "Update copyright hashes."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10412"
  },
  {
    "number": 10404,
    "title": "fix #10393 shaman.png shadow",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/core/images/units/elves-wood/shaman.png"
      }
    ],
    "commits_messages": [
      "fix #10393 shaman.png shadow"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10404"
  },
  {
    "number": 10397,
    "title": "Skeletal Dragon image_icon",
    "labels": [
      "Units"
    ],
    "body": "> Not centered but it should use image_icon or similar. (#10391)\r\n\r\nWe could use a different cropping for the image_icon. Cropped in a way that one doesn't see the wings, with 72x72. Merging?\r\n\r\n<img width=\"836\" height=\"757\" alt=\"list\" src=\"https://github.com/user-attachments/assets/afb82589-eb7d-48f8-bb8c-e35a260a4b02\" />\r\n<img width=\"823\" height=\"259\" alt=\"dialogue\" src=\"https://github.com/user-attachments/assets/6a90c384-1515-4d3f-bb57-b94fdb89afe8\" />\r\n\r\nIt's cropped to 72x72, but the attack dialogue will use 144x144.",
    "files": [
      {
        "filename": "data/core/units/monsters/Skeletal_Dragon.cfg"
      }
    ],
    "commits_messages": [
      "units: cropped image_icon for skel dragon"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10397"
  },
  {
    "number": 10282,
    "title": "Lower Drake Arcane Resistance",
    "labels": [
      "Units"
    ],
    "body": "Adjusting the arcane resistance of Drakes to -20%.\r\n- It will apply to all Drakes\r\n- Drakes are magically beings as well as skeletons\r\n- for consistency with https://github.com/wesnoth/wesnoth/pull/10275",
    "files": [
      {
        "filename": "changelog_entries/arcane_res_drake.md"
      },
      {
        "filename": "data/core/macros/movetypes.cfg"
      },
      {
        "filename": "data/core/units.cfg"
      }
    ],
    "commits_messages": [
      "Update units.cfg\n\nDecrease Drakefoot arcane resistances to -30%",
      "Update movetypes.cfg\n\nDecrease Drakefly_Resistance arcane resistance to -30%",
      "Update movetypes.cfg\n\n-20% arcane resistance for drakes",
      "Update units.cfg\n\n-20% arcane resistance for drakes",
      "Add changelog entry\n\nfor completeness.",
      "Update changelog_entries/arcane_res_drake.md\n\nCo-authored-by: Gunter Labes <soliton.de@gmail.com>",
      "Update arcane_res_drake.md\n\nDeleting the list of all drakes that are affected of this change"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10282"
  },
  {
    "number": 10279,
    "title": "Add [defense] ability to be able to modify base cth while be overwritable by [chance_to_hit]",
    "labels": [
      "Unit Tests",
      "UI",
      "Units",
      "Schema",
      "Campaign DiD",
      "Campaign HttT",
      "Campaign UtBS",
      "Campaign TDG"
    ],
    "body": "In cases like 'dazed' (UTBs and TdG), you must specify the CTHs that should not be altered for the unit's precision part. For its defense, you must repeat the first operation, but also add a [chance_to_hit]add=10 apply_to=opponent active for marsksman when the base CTH is greater than 60. This is annoying in situations where eras or other resources are involved, hence the idea of a 'defense' ability.",
    "files": [
      {
        "filename": "changelog_entries/add_real_defense_abilitie.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/schema/units/specials.cfg"
      },
      {
        "filename": "data/test/_main.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_multiply.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_allies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_enemies.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_everybody.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_affect_self_no.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_max_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_multiply.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_multiply_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_negative_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_no_value.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_mixed.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_two_both_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrite_specials_two_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_overwrited_by_chance_to_hit.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_sub_divide.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/defense/defense_sub_multiply.cfg"
      }
    ],
    "commits_messages": [
      "Add [defense] ability to be able to modify base cth while be overwritable by [chance_to_hit].\n\nIn cases like 'dazed' (UTBs and TdG), you must specify the CTHs that should not be altered for the unit's precision part. For its defense, you must repeat the first operation, but also add a [chance_to_hit]add=10 apply_to=opponent active for marsksman when the base CTH is greater than 60. This is annoying in situations where eras or other resources are involved, hence the idea of a 'defense' ability.",
      "add wml test",
      "examples in mainline"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10279"
  },
  {
    "number": 10387,
    "title": "Ensure all music_tracks objects are valid",
    "labels": [
      "Audio",
      "Editor",
      "Lua API"
    ],
    "body": "- `music_track` objects can no longer be created directly. Instead, use the factory method `music_track::create` which attempts to resolve the full binary path before returning a shared_ptr of the new object. This removes the need for the is-valid check that could fail if you created a track object whose path could not resolve.\r\n- Check the track ptr is non-null when getting the current, previous, or indexed track with the Lua API. Returns nil otherwise.\r\n- Move the localized path resolution from the music_thinker to the path resolution in music_track.\r\n- Remove `sound::play_music_repeatedly` (was unused)\r\n- Store the editor and editor map context tracks as shared_ptrs. This accords with the result of the factory method and also means the contexts' tracks are shared with the master list in editor_controller.\r\n- Split the editor music init out of the class. There was no need for it to be a class member or to do initialization of the track list in two steps. I'll split the other init functions (init_tods, init_gui, etc) out separately.",
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.hpp"
      },
      {
        "filename": "src/editor/map/map_context.cpp"
      },
      {
        "filename": "src/editor/map/map_context.hpp"
      },
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/filesystem.hpp"
      },
      {
        "filename": "src/scripting/lua_audio.cpp"
      },
      {
        "filename": "src/sound.cpp"
      },
      {
        "filename": "src/sound.hpp"
      },
      {
        "filename": "src/sound_music_track.cpp"
      },
      {
        "filename": "src/sound_music_track.hpp"
      }
    ],
    "commits_messages": [
      "Add factory methods for music_track",
      "Lua Audio: ensure lua_music_track always holds a valid ptr"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10387"
  },
  {
    "number": 10392,
    "title": "Change mistaken call to active_view::origin back to active_view::size",
    "labels": [],
    "body": "This also prevents a divide-by-zero crash in `sdl::get_mouse_state()` if the `active_view`'s origin is at (0, 0).",
    "files": [
      {
        "filename": "src/video.cpp"
      }
    ],
    "commits_messages": [
      "Change mistaken call to active_view::origin() back to active_view::size()."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10392"
  },
  {
    "number": 10072,
    "title": "Great Mage: use Asmodeus's fireball animation",
    "labels": [
      "Units"
    ],
    "body": "![meteors](https://github.com/user-attachments/assets/6ff865b0-3503-4de9-a0bf-474ca9f940dc)\r\n\r\nFancy animation, differentiating the Great Mage a little more from his predecessors. He deals over twice the damage of the Red Mage - surely his attack animation should look more powerful?\r\n\r\nI'm sure there's a more elegant way to implement this animation than adding an extra 500 lines of WML, but I wasn't able to figure out anything that looked clean.\r\n\r\nCredit goes to Asmodeus. I shrank the size of the fireballs and explosions a little compared to your Endsinger harpy, but everything else should be identical.\r\n\r\n@doofus-01, what do you think?",
    "files": [
      {
        "filename": "data/core/macros/animation-utils.cfg"
      },
      {
        "filename": "data/core/units/humans/Mage_Great.cfg"
      }
    ],
    "commits_messages": [
      "Update Mage_Great.cfg",
      "Update Mage_Great.cfg",
      "Update animation-utils.cfg",
      "Update Mage_Great.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10072"
  },
  {
    "number": 10382,
    "title": "TSG/TDG: A couple of corrections",
    "labels": [
      "Prose",
      "Campaign TSG",
      "Campaign TDG"
    ],
    "body": "It's that time again, post-po-update review. Not too bad this time around.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/07_The_Great_River.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/01_Born_to_the_Banner.cfg"
      }
    ],
    "commits_messages": [
      "TDG S7: singular spelling correction\n\n[ci skip]",
      "TSG S1: capitalisation\n\n[ci skip]"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10382"
  },
  {
    "number": 10381,
    "title": "Android CI: tar first before uploading",
    "labels": [
      "CI",
      "Android"
    ],
    "body": "* Preserves symlinks inside the archive.\r\n* Also fixes the Android CI not running on PRs or manual dispatch.\r\n\r\n(PR for CI run)\r\n\r\n",
    "files": [
      {
        "filename": ".github/workflows/android.yml"
      }
    ],
    "commits_messages": [
      "Android CI: tar dependencies to preserve symlink\n\nalso trigger CI on PR/manual"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10381"
  },
  {
    "number": 10378,
    "title": "Improve play_music_config implementation",
    "labels": [
      "Audio"
    ],
    "body": "- Fix index argument never being used\r\n- Don't try and play an invalid track even once\r\n- Manage new track with shared_ptr (avoids unnecessary copies)\r\n- Clarify list-insert logic",
    "files": [
      {
        "filename": "src/sound.cpp"
      }
    ],
    "commits_messages": [
      "Improve play_music_config implementation\n\n- Fix index argument never being used\n- Don't try and play an invalid track even once\n- Manage new track with shared_ptr (avoids unnecessary copies)\n- Clarify list-insert logic"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10378"
  },
  {
    "number": 10379,
    "title": "Some presets fixes",
    "labels": [
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/game_initialization/lobby_info.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      }
    ],
    "commits_messages": [
      "Fix bad preset scenario name preventing access to the MP lobby",
      "Fix presets not having certain options for side controller"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10379"
  },
  {
    "number": 10380,
    "title": "Merfolk Diviner: slightly adjust description.",
    "labels": [
      "Units",
      "Help"
    ],
    "body": "* Avoids slightly awkward phrasing. (`that` followed by `the`.)\r\n* Improve sentence flow.\r\n* Add `almost slain` instead of slain and delete `in full number`. If they were dead, they can't fight back next day in full number without necromancy. This makes it sound more realistic without changing the story too much.",
    "files": [
      {
        "filename": "data/core/units/merfolk/Diviner.cfg"
      }
    ],
    "commits_messages": [
      "Merfolk Diviner: `the that` -> `that` typofix"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10380"
  },
  {
    "number": 10374,
    "title": "Add util for container lookup with projections",
    "labels": [
      "UI",
      "Lua API",
      "Add-ons",
      "WFL"
    ],
    "body": "This adds a new `utils::ranges::find` helper function modeled after C++20's `ranges::find`. Unlike the latter, it only accepts lvalue references (you can't have a \"borrowed range\"), but for most cases the syntax is equivalent to `ranges::find`. The most useful part is the projection argument, which significantly simplifies existing uses of `std::find_if`. The C++20 version proper should be a drop-in replacement once we bump our minimums.",
    "files": [
      {
        "filename": "src/about.cpp"
      },
      {
        "filename": "src/carryover.cpp"
      },
      {
        "filename": "src/config.cpp"
      },
      {
        "filename": "src/formula/function_gamestate.cpp"
      },
      {
        "filename": "src/game_initialization/flg_manager.cpp"
      },
      {
        "filename": "src/game_initialization/singleplayer.cpp"
      },
      {
        "filename": "src/gui/dialogs/addon/manager.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.cpp"
      },
      {
        "filename": "src/gui/gui.cpp"
      },
      {
        "filename": "src/gui/widgets/addon_list.cpp"
      },
      {
        "filename": "src/gui/widgets/chatbox.cpp"
      },
      {
        "filename": "src/gui/widgets/chatbox.hpp"
      },
      {
        "filename": "src/gui/widgets/tree_view.cpp"
      },
      {
        "filename": "src/gui/widgets/tree_view.hpp"
      },
      {
        "filename": "src/menu_events.cpp"
      },
      {
        "filename": "src/recall_list_manager.cpp"
      },
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      },
      {
        "filename": "src/serialization/schema_validator.cpp"
      },
      {
        "filename": "src/sound.cpp"
      },
      {
        "filename": "src/tests/utils/game_config_manager_tests.cpp"
      },
      {
        "filename": "src/utils/general.hpp"
      },
      {
        "filename": "src/variable.cpp"
      }
    ],
    "commits_messages": [
      "Add util for container lookup with projections",
      "Include",
      "fixup",
      "fixup",
      "more fixup",
      "no capture"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10374"
  },
  {
    "number": 10090,
    "title": "Add New 6p Map - Double Siege",
    "labels": [
      "MP"
    ],
    "body": "Add New 6p Map - Double Siege\r\n\r\nTested - As much as you can find 5 other people willing to play 3v3. \r\nFun - Yes. \r\nFast - Faster than usual (or at least more is happening). \r\nDifferent - Yes. \r\nBalanced - No idea. (But it is fun and mirrored.)\r\nLooks - Good enough.\r\n\r\nNeeds better team names and description. \r\n\r\nTeams 1-4-5 & 2-3-6\r\n\r\n![Map-Screenshot_025](https://github.com/user-attachments/assets/998d6d01-7747-4f4d-b118-a7c605c39d3e)\r\n",
    "files": [
      {
        "filename": "data/multiplayer/maps/6p_Double_Siege.map"
      },
      {
        "filename": "data/multiplayer/scenarios/6p_Double_Siege.cfg"
      }
    ],
    "commits_messages": [
      "Add New 6p Map - Double Siedge",
      "Fix typo",
      "Update description"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10090"
  },
  {
    "number": 8093,
    "title": "Fix [resistance] without max_value bug",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/8092 issue.\r\n\r\nIf none [resistance] ability of the list contain max_avlue, on default value of 100 is used instead.",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/resistance_value.cfg"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "Fix [resistance] without max_value bug\n\nFix https://github.com/wesnoth/wesnoth/issues/8092 issue.\n\nIf none [resistance] ability of the list contain max_value, then [resistance] must work without max_value defined by default."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/8093"
  },
  {
    "number": 9079,
    "title": "Fix \u201cfilter_adjacent_location\u201d not working in ability",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema"
    ],
    "body": "check is the same what for units/filter.cpp, if an unit or an adjacent locaton don't matche, the loop continue without increase value of 'coount' variable instead of return false and stop checking, that who doing fail the function.\r\n\r\n",
    "files": [
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_direction_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_direction_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_location_count_three_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_location_count_zero_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_location_count_zero_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_student_adjacent_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_student_adjacent_inactive.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "fix abilities and specials [filter_adjacent] and [filter_adjacent_location]\n\ncheck is the same what for units/filter.cpp, if an unit or an adjacent locaton don't matche, the loop continue without increase value of 'count' variable instead of return false and stop checking, that who doing fail the function.\n\nThanks to @stevecotton for the originals tests.",
      "add test for [filter_student_adjacent]",
      "[filter_student_adjacent] and [filter_student_adjacent_location] renamed to [filter_adjacent_student] and [filter_adjacent_student_location]"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9079"
  },
  {
    "number": 10248,
    "title": "Fix weapon tooltip to display modifications by [damage_type]",
    "labels": [
      "Units"
    ],
    "body": "\r\nelse [damage_type] not used in tooltips",
    "files": [
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "extent Sidebar tooltip for what modification by [damage_type] used in resistance showing\n\nelse [damage_type] not used in tooltips",
      "remove 'weapon'"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10248"
  },
  {
    "number": 8143,
    "title": "Modify shema validation for more consistency",
    "labels": [
      "Schema"
    ],
    "body": "In the validation schema abilities-value in abilities.cfg contains not only the numerical attributes but also active_on and apply_to, while these two deniers are only used by [resistance], and the abilities used as weapons are validated by the schema validation of special weapons, and the abilities [leadership], [heals], [regenerate] and [illuminates] also use all numerical attributes.",
    "files": [
      {
        "filename": "data/schema/units/abilities.cfg"
      }
    ],
    "commits_messages": [
      "Modify shema validation for more consistency\n\nIn the validation schema abilities-value in abilities.cfg contains not only the numerical attributes but also active_on and apply_to, while these two deniers are only used by [resistance], and the abilities used as weapons are validated by the schema validation of special weapons, and the abilities [leadership], [heals], [regenerate] and [illuminates] also use all numerical attributes."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/8143"
  },
  {
    "number": 8152,
    "title": "fix leveling for Kaleh and Nym in Utbs",
    "labels": [
      "Units",
      "Campaign UtBS"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/8149 issue",
    "files": [
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/units/quenoth/Youth.cfg"
      }
    ],
    "commits_messages": [
      "fix leveling for Kaleh and Nym in Utbs\n\nFix https://github.com/wesnoth/wesnoth/issues/8149 issue",
      "add comment"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/8152"
  },
  {
    "number": 8471,
    "title": "update list of boost headers used in compilation",
    "labels": [
      "Building"
    ],
    "body": null,
    "files": [
      {
        "filename": "projectfiles/CodeBlocks/libraries.md"
      }
    ],
    "commits_messages": [
      "update list of boost headers used in compilation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/8471"
  },
  {
    "number": 8472,
    "title": "backport it to 1.18",
    "labels": [
      "Building"
    ],
    "body": null,
    "files": [
      {
        "filename": "projectfiles/CodeBlocks/libraries.md"
      }
    ],
    "commits_messages": [
      "backport it to 1.18"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/8472"
  },
  {
    "number": 8904,
    "title": "Use type_adv_tree in some filters to support addons adding advancements to existing unit types[1.18]",
    "labels": [
      "Campaign DiD",
      "Campaign EI",
      "Campaign HttT",
      "Campaign LoW",
      "Campaign SotA",
      "Campaign UtBS"
    ],
    "body": "i will fix [filter] too specific to type for include unit_type advancement in addons mods",
    "files": [
      {
        "filename": "data/campaigns/Descent_Into_Darkness/scenarios/03_A_Haunting_in_Winter.cfg"
      },
      {
        "filename": "data/campaigns/Descent_Into_Darkness/scenarios/07a_A_Small_Favor.cfg"
      },
      {
        "filename": "data/campaigns/Descent_Into_Darkness/scenarios/08_Alone_at_Last.cfg"
      },
      {
        "filename": "data/campaigns/Descent_Into_Darkness/utils/abilities.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/utils/items.cfg"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/utils/httt_utils.cfg"
      },
      {
        "filename": "data/campaigns/Legend_of_Wesmere/scenarios/chapter3/09_Bounty_Hunters.cfg"
      },
      {
        "filename": "data/campaigns/Legend_of_Wesmere/scenarios/chapter4/13_News_from_the_Front.cfg"
      },
      {
        "filename": "data/campaigns/Legend_of_Wesmere/scenarios/chapter5/22_Northern_Battle.cfg"
      },
      {
        "filename": "data/campaigns/Legend_of_Wesmere/utils/characters.cfg"
      },
      {
        "filename": "data/campaigns/Legend_of_Wesmere/utils/low-macros.cfg"
      },
      {
        "filename": "data/campaigns/Secrets_of_the_Ancients/utils/sota-utils.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/scenarios/06a_In_the_Tunnels_of_Trolls.cfg"
      }
    ],
    "commits_messages": [
      " Replace type by type_adv_tree in some filter[1.18]\n\nUse type_adv_tree in some filters to support addons adding advancements to existing unit types",
      "forget some filter in Low"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/8904"
  },
  {
    "number": 9893,
    "title": "fix rect.cpp compilation",
    "labels": [
      "Building"
    ],
    "body": "when i try to compile std::round not know",
    "files": [
      {
        "filename": "src/sdl/rect.cpp"
      }
    ],
    "commits_messages": [
      "fix rect.cpp compilation\n\nwhen i try to compile std::round not know"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9893"
  },
  {
    "number": 7271,
    "title": "change calculation rules so that add and sub are always used independently",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "\r\nwhen two special weapons use multiply and divide with the same id, both operations are used, isn't that so why should it be different with 'add' and 'sub' where it's the larger value that is used (if asub=value_sub and add=value_add are used and value_sub>value_add then value_sub is used). This logic is counter-intuitive. that multiplication/division is applied to (base_value +- add/sub) is understandable but not this discrimination. For me add and sub should still be usable; even if it means changing the rules, but I think we will gain clarity in the end.",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/attacks/attacks_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/chance_to_hit/chance_to_hit_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage/damage_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/drains/drains_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heal_on_hit/heal_on_hit_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heals/heal_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/illuminates/illuminates_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/leadership/leadership_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/regenerate/regenerate_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/resistance/resistance_add_sub.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/special_calculations.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      }
    ],
    "commits_messages": [
      "change calculation rules so that add and sub are always used independently\n\nwhen two special weapons use multiply and divide with the same id, both operations are used, isn't that so why should it be different with 'add' and 'sub' where it's the larger value that is used (if asub=value_sub and add=value_add are used and value_sub>value_add then value_sub is used). This logic is counter-intuitive. that multiplication/division is applied to (base_value +- add/sub) is understandable but not this discrimination. For me add and sub should still be usable; even if it means changing the rules, but I think we will gain clarity in the end."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/7271"
  },
  {
    "number": 9304,
    "title": "fix tag_name check deficiencies(1.18 backport)",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "The tag_name check is deficient for two reasons:\r\n1.when apply_to=both is used, in the case of [damage_type] [filter_opponent][filter_weapon]type= will check the modified type for application to the owner and the original type for application to the opponent, hence a risk of infinite recursion, especially if [filter_self][filter_weapon]type= is used in the same weapon.\r\n\r\n2. in the case of apply_to=attacker/defender, the check for [filter_attacker/defender] must take into account both the value of the variable is_attacker but also the application AFFECT_SELF/OTHER, otherwise in the case apply_to=defender with [filter_defender][filter_weapon]type=, and[filter_attacker][filter_weapon]type= otherwise we end up in the same configuration as for apply_to=both\r\n\r\nFinally tag_name is renamed check_if_recursion to mean that this variable is used to ensure that a recursion cannot be set up even if https://github.com/wesnoth/wesnoth/commit/743b146efc1e9c643a601317de491dcadffc760b prevents it from causing a crash but with an error log",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage_type/damage_type_apply_to_attacker_filter_attacker_defender.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage_type/damage_type_apply_to_both_filter_self_opponent.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "fix tag_name check deficiencies(1.18 backport)\n\nThe tag_name check is deficient for two reasons:\n1.when apply_to=both is used, in the case of [damage_type] [filter_opponent][filter_weapon]type= will check the modified type for application to the owner and the original type for application to the opponent, hence a risk of infinite recursion, especially if [filter_self][filter_weapon]type= is used in the same weapon.\n\n2. in the case of apply_to=attacker/defender, the check for [filter_attacker/defender] must take into account both the value of the variable is_attacker but also the application AFFECT_SELF/OTHER, otherwise in the case apply_to=defender with [filter_defender][filter_weapon]type=, and[filter_attacker][filter_weapon]type= otherwise we end up in the same configuration as for apply_to=both\n\nFinally tag_name is renamed check_if_recursion to mean that this variable is used to ensure that a recursion cannot be set up even if https://github.com/wesnoth/wesnoth/commit/743b146efc1e9c643a601317de491dcadffc760b prevents it from causing a crash but with an error log"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9304"
  },
  {
    "number": 10277,
    "title": "Place the codes for [filter_adjacent] and [filter_adjacent_location] in the same function to avoid duplicating the code",
    "labels": [
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      }
    ],
    "commits_messages": [
      "Place the codes for [filter_adjacent] and [filter_adjacent_location] in the same function to avoid duplicating the code"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10277"
  },
  {
    "number": 10371,
    "title": "Ghoul-line: Resistance changes",
    "labels": [
      "Units"
    ],
    "body": "As discussed by Balance Team.",
    "files": [
      {
        "filename": "changelog_entries/ghoul_line.md"
      },
      {
        "filename": "data/core/units/undead/Corpse_Ghast.cfg"
      },
      {
        "filename": "data/core/units/undead/Corpse_Ghoul.cfg"
      },
      {
        "filename": "data/core/units/undead/Corpse_Necrophage.cfg"
      }
    ],
    "commits_messages": [
      "Ghoul-line: Resistance changes"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10371"
  },
  {
    "number": 10368,
    "title": "SOTBE: add campaign menu bg",
    "labels": [
      "Enhancement",
      "Campaign SotBE"
    ],
    "body": "- Added a campaign menu background image. TRoW has a really good collection",
    "files": [
      {
        "filename": "data/campaigns/Son_Of_The_Black_Eye/_main.cfg"
      }
    ],
    "commits_messages": [
      "sotbe: add campaign menu bg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10368"
  },
  {
    "number": 10366,
    "title": "Menu Events: rework recruit validation",
    "labels": [
      "Units"
    ],
    "body": "This splits `unit_helper::recruit_message` into several smaller functions. Previously, both `recruit` and `do_recruit` ran all validation checks, which was unnecessary (we know we have a valid unit type in `do_recruit`, for instance, or that it's a valid recruit).\r\n\r\nError handling is now done in two stages:\r\n- `recruit` and `repeat_recruit` handle the pre-action checks. Can we afford the unit, is it a valid type, etc.\r\n- `do_recruit` assumes we have a valid type and now checks the requested recruit location.\r\n\r\nThe interface is much simpler now. We avoid calculating whiteboard gold for every unit checked in `recruit`, and get rid of the mutable references being passed around everywhere which necessitated unnecessary copies and made it very unclear what was modifying what (it also meant the error message function had side effects!)\r\n\r\nWe now have:\r\n- `planned_gold_spent`: gives our \"whiteboard gold\". Splitting this off avoids recalculating it for every recruit checked\r\n- `check_recruit_purse`: performs the actual \"have enough gold\" check. I'll add a version for recall separately.\r\n- `validate_recruit_target`: This is now handled in `do_recruit`. We know we have a valid type that we can afford, now let's check locations. The mutable location references have been removed. This function returns a tuple with any error message regarding the target hex, the valid target, and the valid source.\r\n\r\nAlso moves the `command_disabler` to `do_recruit`. I *think* this is the right place for it, given the context of the recall function.",
    "files": [
      {
        "filename": "src/actions/create.cpp"
      },
      {
        "filename": "src/actions/create.hpp"
      },
      {
        "filename": "src/menu_events.cpp"
      },
      {
        "filename": "src/menu_events.hpp"
      },
      {
        "filename": "src/units/helper.cpp"
      },
      {
        "filename": "src/units/helper.hpp"
      }
    ],
    "commits_messages": [
      "Menu Events: rework recruit validation",
      "Shuffle some logic",
      "Refinements",
      "refinements",
      "fix message"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10366"
  },
  {
    "number": 10365,
    "title": "GUI2/Unit Preview Pane: show accuracy/parry info",
    "labels": [
      "UI",
      "Units"
    ],
    "body": "Shows Accuracy/Parry in the Unit Preview Pane (left panel of Unit dialogs). (Makes it consistent with the sidebar)\r\n\r\n<img width=\"248\" height=\"496\" alt=\"Screenshot from 2025-07-15 18-02-44\" src=\"https://github.com/user-attachments/assets/222cc4ad-f8ee-414a-8e37-3f10432f4f32\" />\r\n\r\nAlso moved the accuracy/parry info generation to `attack_type`",
    "files": [
      {
        "filename": "src/gui/widgets/unit_preview_pane.cpp"
      },
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      }
    ],
    "commits_messages": [
      "GUI2/Unit Preview Pane: show accuracy/parry info\n\nalso moved the accuracy/parry info generation to attack_type",
      "reports.cpp: mass move trailing spaces outside translatable strings"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10365"
  },
  {
    "number": 10355,
    "title": "Backport 1.18: Change Japanese font to Noto Sans JP",
    "labels": [
      "Translations",
      "Stable 1.18"
    ],
    "body": "Backport #10353 to 1.18.",
    "files": [
      {
        "filename": "fonts/COPYING"
      },
      {
        "filename": "fonts/DroidSansJapanese.ttf"
      },
      {
        "filename": "fonts/NotoSansJP-VariableFont_wght.ttf"
      },
      {
        "filename": "fonts/fonts.conf"
      },
      {
        "filename": "po/wesnoth/ja.po"
      }
    ],
    "commits_messages": [
      "Fonts: Change Japanese font to Noto Sans JP (#10063) Old one doesn't have bold but new one is variable weight. Also change the font order for Japanese to Lato first to display in-game UI and italic text correctly."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10355"
  },
  {
    "number": 10362,
    "title": "Fix command line and some keyboard shortcuts no longer work",
    "labels": [
      "UI",
      "iOS",
      "Input",
      "Android"
    ],
    "body": "~~This reverts commit e503658256fa4ab07d9a7fbbc5bb2cb353638585.~~\r\n\r\nFixes https://github.com/wesnoth/wesnoth/issues/10361 issue by adding `ifdef` guard around `SDL_Start/StopTextInput()` introduced in e503658256fa4ab07d9a7fbbc5bb2cb353638585.",
    "files": [
      {
        "filename": "src/gui/widgets/text_box_base.cpp"
      }
    ],
    "commits_messages": [
      "command line and some keyboard shortcuts no longer work\n\nFix https://github.com/wesnoth/wesnoth/issues/10361 issue"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10362"
  },
  {
    "number": 10323,
    "title": "Remove FormulaAI",
    "labels": [
      "macOS",
      "AI",
      "Units",
      "Building",
      "WFL",
      "Schema"
    ],
    "body": "This has been superseded by the Lua AI API. Its uses in mainline were removed in #5630.\r\n\r\nOpening this PR for review to evaluate whether it's time to give FAI the axe completely. I know @CelticMinstrel mentioned at one point there were a few things the Lua AI could not yet do, but I can't recall if those have been resolved yet. Either way, it's been four years, and the deprecation notices indicate this was originally slated for 1.17.\r\n\r\nThis removes the entirety of the FAI engine and any related formula support in the AI code. It also removes the unused and unimplemented ability to execute arbitrary commands using the in-game console, since this relied on the FAI engine and was unimplemented for the Lua one.",
    "files": [
      {
        "filename": "changelog_entries/fai_begone.md"
      },
      {
        "filename": "data/ai/formula/level_up_attack_eval.fai"
      },
      {
        "filename": "data/ai/formula/level_up_attack_move.fai"
      },
      {
        "filename": "data/ai/formula/lib/map_evaluation.fai"
      },
      {
        "filename": "data/ai/formula/lib/recruitment.fai"
      },
      {
        "filename": "data/ai/formula/lib/util.fai"
      },
      {
        "filename": "data/ai/formula/new_recruitment.fai"
      },
      {
        "filename": "data/ai/formula/opening.fai"
      },
      {
        "filename": "data/ai/formula/patrol.fai"
      },
      {
        "filename": "data/ai/formula/poisoner_attack.fai"
      },
      {
        "filename": "data/ai/formula/poisoner_eval.fai"
      },
      {
        "filename": "data/ai/formula/recruitment.fai"
      },
      {
        "filename": "data/ai/formula/scouting_eval.fai"
      },
      {
        "filename": "data/ai/formula/scouting_move.fai"
      },
      {
        "filename": "data/ai/scenarios/scenario-formula-recruitment.cfg"
      },
      {
        "filename": "data/ai/scenarios/scenario-formula.cfg"
      },
      {
        "filename": "data/schema/ai/engine.cfg"
      },
      {
        "filename": "data/schema/ai/stage.cfg"
      },
      {
        "filename": "data/schema/game_config.cfg"
      },
      {
        "filename": "projectfiles/CodeBlocks/tests.cbp"
      },
      {
        "filename": "projectfiles/CodeBlocks/wesnoth.cbp"
      },
      {
        "filename": "projectfiles/Xcode/The Battle for Wesnoth.xcodeproj/project.pbxproj"
      },
      {
        "filename": "source_lists/wesnoth"
      },
      {
        "filename": "src/ai/composite/ai.cpp"
      },
      {
        "filename": "src/ai/composite/ai.hpp"
      },
      {
        "filename": "src/ai/composite/aspect.cpp"
      },
      {
        "filename": "src/ai/composite/aspect.hpp"
      },
      {
        "filename": "src/ai/composite/engine.cpp"
      },
      {
        "filename": "src/ai/composite/engine.hpp"
      },
      {
        "filename": "src/ai/composite/value_translator.hpp"
      }
    ],
    "commits_messages": [
      "Remove FormulaAI\n\nThis has been superseded by the Lua AI API. Its uses in mainline were removed in #5630.\n\nThis removes the entirety of the FAI engine and any related formula support in the AI code.\nIt also removes the unused and unimplemented ability to execute arbitrary commands using the\nin-game console, since this relied on the FAI engine and was unimplemented for the Lua one.",
      "Remove data/ai/formula",
      "Use gamestate_callable for formula console context",
      "AI/Manager: remove evaluation API"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10323"
  },
  {
    "number": 10354,
    "title": "WFL: add new core functions to supplement FAI functionality",
    "labels": [
      "WFL"
    ],
    "body": "Adds debug_print, run_file, nearest_loc, unit_tod_modifier, is_shrouded, and is_fogged as non-FAI WFL functions.",
    "files": [
      {
        "filename": "changelog_entries/new-wfl-functions.md"
      },
      {
        "filename": "src/formula/function.cpp"
      },
      {
        "filename": "src/formula/function_gamestate.cpp"
      }
    ],
    "commits_messages": [
      "WFL: add new core functions to supplement FAI functionality\n\nAdds debug_print, run_file, nearest_loc, unit_tod_modifier, is_shrouded, and is_fogged as non-FAI WFL functions.",
      "Refinements",
      "Changelog",
      "Fix unit_tod_modifier"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10354"
  },
  {
    "number": 10350,
    "title": "GUI2/Textboxes: fix virtual keyboard not appearing",
    "labels": [
      "UI",
      "Input",
      "Android"
    ],
    "body": "`window::keyboard_capture()` behavior is changed so that it is no-op for Android, but taping the textbox still works.\r\nAccidentally disabled on: cadc6ec412db8fdc6b40a8b968bffa5a79c9fbde.\r\n\r\n[Note: there are too many calls to `window::keyboard_capture()` so I have changed that function itself instead of modifying dozens of calls.]",
    "files": [
      {
        "filename": "src/gui/widgets/multiline_text.cpp"
      },
      {
        "filename": "src/gui/widgets/text_box.cpp"
      },
      {
        "filename": "src/gui/widgets/text_box_base.cpp"
      },
      {
        "filename": "src/gui/widgets/window.cpp"
      },
      {
        "filename": "src/gui/widgets/window.hpp"
      }
    ],
    "commits_messages": [
      "GUI2/Textboxes: fix virtual keyboard not appearing\n\nwindow::keyboard_capture() behavior is changed so that it is no-op for Android, but taping the textbox still works.",
      "Update src/gui/widgets/text_box_base.cpp"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10350"
  },
  {
    "number": 10353,
    "title": "Fonts: Change Japanese font to Noto Sans JP (#10063)",
    "labels": [
      "Translations"
    ],
    "body": "Current Japanese font, Droid Sans Japanese, doesn't have bold style so replace it by a new font with variable weight. \r\nAlso change the font order for Japanese to Lato first to display in-game UI and italic text correctly.\r\nJapanese translators have already agreed with this change on Discord's japanese channel.\r\n\r\nThe font file and copyright are downloaded from [Google fonts](https://fonts.google.com/noto/specimen/Noto+Sans+JP) and unmodified.\r\nBut I scaled down the font by fonts.conf. See [here](https://github.com/wesnoth/wesnoth/issues/10063#issuecomment-2849107048).\r\n\r\n<img width=\"696\" height=\"430\" alt=\"title\" src=\"https://github.com/user-attachments/assets/d05b7ffc-7e90-407d-846a-58d14d0d2f14\" />\r\n\r\n<img width=\"696\" height=\"430\" alt=\"drake_help\" src=\"https://github.com/user-attachments/assets/c64d914b-3f32-428a-9477-4ad98e7ec812\" />\r\n",
    "files": [
      {
        "filename": "fonts/COPYING"
      },
      {
        "filename": "fonts/DroidSansJapanese.ttf"
      },
      {
        "filename": "fonts/NotoSansJP-VariableFont_wght.ttf"
      },
      {
        "filename": "fonts/fonts.conf"
      },
      {
        "filename": "po/wesnoth/ja.po"
      }
    ],
    "commits_messages": [
      "Fonts: Change Japanese font to Noto Sans JP (#10063)\nOld one doesn't have bold but new one is variable weight.\nAlso change the font order for Japanese to Lato first to display in-game UI and italic text correctly."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10353"
  },
  {
    "number": 10349,
    "title": "TSG/TDG: remove \"miss\" text from missed attacks",
    "labels": [
      "Campaign TSG",
      "Campaign TDG"
    ],
    "body": "Made redundant after https://github.com/wesnoth/wesnoth/commit/ece4c2e432982515f98a9e1065d2b6f0eed36fb7",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_help.cfg"
      }
    ],
    "commits_messages": [
      "TSG: remove \"miss\" text for attacks\n\nMade redundant after ece4c2e432982515f98a9e1065d2b6f0eed36fb7",
      "TDG: remove \"miss\" text for attacks\n\nMade redundant after ece4c2e432982515f98a9e1065d2b6f0eed36fb7"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10349"
  },
  {
    "number": 10332,
    "title": "Fix non-permanent bans not actually working",
    "labels": [
      "MP",
      "Add-ons"
    ],
    "body": "time_t ends up being a long while we only have if-blocks for int and unsigned long long. so the parameter doesn't get set at all, and somehow mariadbpp runs the query without all the required parameters being set.",
    "files": [
      {
        "filename": "src/server/common/dbconn.cpp"
      },
      {
        "filename": "src/server/common/dbconn.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      }
    ],
    "commits_messages": [
      "Fix non-permanent bans not actually working\n\ntime_t ends up being a long while we only have if-blocks for int and unsigned long long. so the parameter doesn't get set at all, and somehow mariadbpp runs the query without all the required parameters being set.",
      ".",
      ".",
      ".",
      ".",
      ".",
      ".",
      ".",
      "Update src/server/common/dbconn.cpp\n\nCo-authored-by: Gunter Labes <soliton.de@gmail.com>"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10332"
  },
  {
    "number": 10342,
    "title": "Lua jailbreak catch backport1.18",
    "labels": [
      "Unit Tests",
      "Lua API",
      "Stable 1.18"
    ],
    "body": "Backport of #10294",
    "files": [
      {
        "filename": "data/test/scenarios/lua_tests/gui/show_dialog.cfg"
      },
      {
        "filename": "src/lua_jailbreak_exception.cpp"
      },
      {
        "filename": "src/lua_jailbreak_exception.hpp"
      },
      {
        "filename": "src/scripting/lua_widget_methods.cpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "Add caught method to lua_jailbreak_exception",
      "Catch wml_exception from gui in lua.show_dialog\n\nThis stops a lua error from exiting the scenario.",
      "Add unit test"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10342"
  },
  {
    "number": 10324,
    "title": "Additional Fire Wisp sprites and animations",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "I just found that there were some additional sprites for the Fire Wisp unit that I (and apparently everyone else) missed until now.\r\nIn the Path of Summoners MP Era for the 1.8 series, @fmunoz-geo added three more sprites that weren't available in previous versions: one for a recruit animation and two for a standing animation. This PR adds them; I also took care of adding the proper EXIF tags with `exiftool`.",
    "files": [
      {
        "filename": "data/core/images/units/monsters/firewisp-2.png"
      },
      {
        "filename": "data/core/images/units/monsters/firewisp-3.png"
      },
      {
        "filename": "data/core/images/units/monsters/firewisp-recruit.png"
      },
      {
        "filename": "data/core/units/monsters/Fire_Wisp.cfg"
      }
    ],
    "commits_messages": [
      "Added three additional sprites for the Fire Wisp",
      "Added recruit and standing animations to the Fire Wisp",
      "Moved firewisp-2 sprite down by one pixel"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10324"
  },
  {
    "number": 10344,
    "title": "GUI/Events: Touch: double tap movement/single tap select",
    "labels": [
      "UI",
      "iOS",
      "Input",
      "Schema",
      "Android"
    ],
    "body": "Touch behavior changes:\r\n* Double tap no longer shows context menu. It can still be accessed via long press.\r\n* Single tap selects the unit. Another single tap on a hex shows hover info, which was previously not available.\r\n* Single tap select followed by double tap on a hex moves the unit.\r\n* Dragging now properly indicates the path and defense.\r\n\r\nAlso:\r\n* mouse [hotkey]-s now support specifying the number of clicks.\r\n* user visible mouse [hotkey] names (in Hotkey Preferences) are improved and will show number of clicks when >1. (i.e., left mouse instead of mouse 1)\r\n* fixes long press delay accidentally being zero.",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/core/hotkeys.cfg"
      },
      {
        "filename": "data/schema/core/config.cfg"
      },
      {
        "filename": "src/controller_base.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_command.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_item.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_item.hpp"
      },
      {
        "filename": "src/mouse_events.cpp"
      }
    ],
    "commits_messages": [
      "GUI/Events: Touch: double tap movement/single tap select\n\n* Double tap no longer shows context menu. It can still be accessed via long press.\n* Single tap selects the unit. Another single tap on a hex shows hover info, which was previously not available.\n* Single tap select followed by double tap on a hex moves the unit.\n* Dragging now properly indicates the path and defense.\n\nAlso:\n* mouse [hotkey]-s now support specifying the number of clicks.\n* user visible mouse [hotkey] names are improved and will show number of clicks when >1. (i.e., left mouse instead of mouse 1)\n* fixes long press delay accidentally being zero."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10344"
  },
  {
    "number": 10347,
    "title": "MP: simplify payload config object construction",
    "labels": [
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/chat_command_handler.cpp"
      },
      {
        "filename": "src/chat_events.cpp"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      },
      {
        "filename": "src/game_initialization/multiplayer.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_join_game.cpp"
      },
      {
        "filename": "src/gui/widgets/chatbox.cpp"
      }
    ],
    "commits_messages": [
      "MP: simplify payload config object construction",
      "MP: don't send dead commands to server\n\nThe server just silently eats these and they do nothing. The *client* is configured to handle observer_quit, but not the server."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10347"
  },
  {
    "number": 10341,
    "title": "MP/Faction Select: add listbox sorter for faction names",
    "labels": [
      "UI",
      "Schema"
    ],
    "body": "Resolves #10338. Sorting is no longer done internally on the host, but is now a purely cosmetic operation for anyone selecting a faction. [era] auto_sort has been upgraded from a bool to now accept \"none\", \"ascending\", or \"descending\".",
    "files": [
      {
        "filename": "data/gui/themes/default/dialogs/mp_faction_select.cfg"
      },
      {
        "filename": "data/schema/core/addons.cfg"
      },
      {
        "filename": "data/schema/game_config.cfg"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      },
      {
        "filename": "src/game_initialization/connect_engine.hpp"
      },
      {
        "filename": "src/game_initialization/flg_manager.cpp"
      },
      {
        "filename": "src/game_initialization/flg_manager.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/faction_select.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_join_game.cpp"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      }
    ],
    "commits_messages": [
      "MP/Faction Select: add listbox sorter for faction names\n\nResolves #10338. Sorting is no longer done internally on the host, but is now a purely cosmetic operation for anyone selecting a faction.",
      "Refinement",
      "Fixup",
      "Store era info more generally",
      "Small tweaks",
      "fixup",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10341"
  },
  {
    "number": 10314,
    "title": "Loyalist paladin arcane patch",
    "labels": [
      "Enhancement",
      "Units",
      "Campaign EI"
    ],
    "body": "As discussed by Balance Team",
    "files": [
      {
        "filename": "changelog_entries/loyalist_paladin.md"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/units/Human_Terraent_Paladin.cfg"
      },
      {
        "filename": "data/core/units/humans/Horse_Paladin.cfg"
      }
    ],
    "commits_messages": [
      "Paladin: adjusts for arcane\n\nincludes EI custom Paladin unit",
      "add changelog entry"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10314"
  },
  {
    "number": 10336,
    "title": "TSG: remove more fourth wall breaking dialogue",
    "labels": [
      "Campaign TSG"
    ],
    "body": "Thanks for lhybrideur for helping with this.",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/01_Born_to_the_Banner.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/02_Proven_by_the_Sword.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/02x_Westin.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/03_Vale_of_Tears.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/04_Choice_in_the_Fog.cfg"
      }
    ],
    "commits_messages": [
      "Update 01_Born_to_the_Banner.cfg",
      "Update 02_Proven_by_the_Sword.cfg",
      "Update 02x_Westin.cfg",
      "Merge branch 'wesnoth:master' into more-tsg-tutorial-tweaks",
      "Update 02_Proven_by_the_Sword.cfg",
      "Update 02_Proven_by_the_Sword.cfg",
      "Update 02_Proven_by_the_Sword.cfg",
      "Update 02x_Westin.cfg",
      "Update 03_Vale_of_Tears.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 03_Vale_of_Tears.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 02_Proven_by_the_Sword.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10336"
  },
  {
    "number": 10056,
    "title": "HttT S19c: clearer objective",
    "labels": [
      "Campaign HttT"
    ],
    "body": "The initial objective says \"Make it to the end of the river,\" and because gohere.png image is placed at (55,3), it's natural to assume that it is the place to go to. However, any hex within (53-55,1-5) meets the objective. Although meeting the initial objective doesn't end the scenario and only changes it to \"Move Konrad to the cave,\" visual markers should match the actual objective. Therefore, the hex to meet the initial objective is limited to (55,3).",
    "files": [
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/19c_Cliffs_of_Thoria.cfg"
      }
    ],
    "commits_messages": [
      "HttT 19c clearer objective\n\nLimit the initial objective to where gohere.png is at instead of arbitrary area near it."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10056"
  },
  {
    "number": 10337,
    "title": "TDG S07: add starting gold, replace vision indicator, and add note about luck",
    "labels": [
      "Graphics",
      "Campaign TDG"
    ],
    "body": "Thanks to @doofus-01 for feedback.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/scenery/vision-indicator.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/07_The_Great_River.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/07_The_Great_River.cfg"
      }
    ],
    "commits_messages": [
      "Add files via upload",
      "Update 07_The_Great_River.cfg",
      "Update 07_The_Great_River.cfg",
      "Add files via upload",
      "Update 07_The_Great_River.cfg",
      "Update 07_The_Great_River.cfg",
      "Add files via upload"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10337"
  },
  {
    "number": 10335,
    "title": "Editor Controller: Override error fix and cleanup",
    "labels": [
      "Editor"
    ],
    "body": "Removes some orphan variables.\r\nFixes a override warning/error on master.\r\nOpening for the CI run",
    "files": [
      {
        "filename": "src/controller_base.cpp"
      },
      {
        "filename": "src/controller_base.hpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.hpp"
      },
      {
        "filename": "src/editor/toolkit/editor_toolkit.cpp"
      },
      {
        "filename": "src/editor/toolkit/editor_toolkit.hpp"
      }
    ],
    "commits_messages": [
      "controller_base: move CKey key_ to editor_toolkit",
      "editor_controller: fix override warnings"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10335"
  },
  {
    "number": 10333,
    "title": "1.19 Dune firetrooper sprites",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "This cleans up the dunefolk firetrooper sprites, and provides defense animations for them and for the scorchers.",
    "files": [
      {
        "filename": "data/core/images/units/dunefolk/burner/firetrooper+female.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/firetrooper-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/firetrooper-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/firetrooper.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/scorcher+female-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/scorcher+female-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/scorcher+female.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/scorcher-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/scorcher-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/burner/scorcher.png"
      },
      {
        "filename": "data/core/units/dunefolk/Firetrooper.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Scorcher.cfg"
      }
    ],
    "commits_messages": [
      "dune scorcher defense anims",
      "dune firetrooper sprite cleanup and defense anim"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10333"
  },
  {
    "number": 10315,
    "title": "1.19 Dunefolk Horse anims",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "The Dunefolk rider line, especially the archers, are missing even the most basic animations.  It might have been because the base frames still needed fixing.  I tried to keep the changes to the base frames as small as possible, but I couldn't figure out what to do with the original windbolt pose, so that got a more significant revision.",
    "files": [
      {
        "filename": "data/core/images/attacks/dart-rope.png"
      },
      {
        "filename": "data/core/images/attacks/dart.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/horse-archer-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/horse-archer-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/horse-archer.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-rope1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-rope2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-rope3.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-rope4.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-stand1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-stand2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-stand3.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-stand4.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-stand5.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder-torch-overlay.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/marauder.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/raider-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/raider-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/raider-torch-overlay.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/raider.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/rider-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/rider-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/rider.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/windbolt-defend1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/windbolt-defend2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rider/windbolt.png"
      },
      {
        "filename": "data/core/macros/animation-utils.cfg"
      },
      {
        "filename": "data/core/units/dunefolk/Horse_Archer.cfg"
      }
    ],
    "commits_messages": [
      "Dunefolk Rider defense anim",
      "horse archer and windbolt base touchups and defense anims",
      "PNG cleanup",
      "marauder revision and minimal animations",
      "dune raider revisions and minimal animations",
      "PNG metadata",
      "animations for marauder ranged attack"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10315"
  },
  {
    "number": 10331,
    "title": "CI: Update Windows image",
    "labels": [
      "Windows",
      "CI",
      "Stable 1.18"
    ],
    "body": "GitHub says Windows 2019 is no longer used and suggests to use Windows 2022 or 2025. master already does this via Windows 'latest'.",
    "files": [
      {
        "filename": ".github/workflows/ci-main.yml"
      }
    ],
    "commits_messages": [
      "CI: Update Windows image\n\nGitHub says Windows 2019 is no longer used and suggests to use Windows 2022 or 2025. master already does this via Windows 'latest'.",
      "CI: Update VS generator for Windows checks"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10331"
  },
  {
    "number": 10329,
    "title": "add tests for [gold]",
    "labels": [
      "Unit Tests"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/test/_main.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/ScenarioWML/EventWML/ActionWML/DirectActionsWML/gold/gold_all_sides.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/ScenarioWML/EventWML/ActionWML/DirectActionsWML/gold/gold_one_side.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/ScenarioWML/EventWML/ActionWML/DirectActionsWML/gold/gold_wfl_all_sides.cfg"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "add tests for [gold]"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10329"
  },
  {
    "number": 10318,
    "title": "Use rect, point, and std::size_t consistently",
    "labels": [
      "AI",
      "MP",
      "UI",
      "Editor",
      "Units",
      "Lua API",
      "WFL",
      "Help",
      "Terrain"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/actions/attack.cpp"
      },
      {
        "filename": "src/ai/formula/function_table.cpp"
      },
      {
        "filename": "src/ai/lua/core.cpp"
      },
      {
        "filename": "src/config.cpp"
      },
      {
        "filename": "src/controller_base.cpp"
      },
      {
        "filename": "src/controller_base.hpp"
      },
      {
        "filename": "src/display.cpp"
      },
      {
        "filename": "src/display.hpp"
      },
      {
        "filename": "src/display_chat_manager.cpp"
      },
      {
        "filename": "src/draw.cpp"
      },
      {
        "filename": "src/draw.hpp"
      },
      {
        "filename": "src/draw_manager.cpp"
      },
      {
        "filename": "src/editor/action/mouse/mouse_action_unit.cpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/map/context_manager.cpp"
      },
      {
        "filename": "src/editor/palette/common_palette.hpp"
      },
      {
        "filename": "src/editor/palette/editor_palettes.cpp"
      },
      {
        "filename": "src/editor/palette/editor_palettes.hpp"
      },
      {
        "filename": "src/editor/palette/empty_palette.hpp"
      },
      {
        "filename": "src/editor/palette/location_palette.cpp"
      },
      {
        "filename": "src/editor/palette/location_palette.hpp"
      },
      {
        "filename": "src/editor/palette/palette_manager.cpp"
      },
      {
        "filename": "src/editor/palette/tristate_button.cpp"
      },
      {
        "filename": "src/editor/palette/tristate_button.hpp"
      },
      {
        "filename": "src/events.cpp"
      },
      {
        "filename": "src/floating_label.hpp"
      },
      {
        "filename": "src/floating_textbox.cpp"
      },
      {
        "filename": "src/font/sdl_ttf_compat.cpp"
      },
      {
        "filename": "src/font/text.cpp"
      },
      {
        "filename": "src/font/text.hpp"
      }
    ],
    "commits_messages": [
      "Replace remaining uses of SDL_Point with point",
      "Replace remaining uses of SDL_Rect with rect",
      "Replace remaining uses of size_t with std::size_t"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10318"
  },
  {
    "number": 10289,
    "title": "convert game presets into preferences",
    "labels": [
      "MP",
      "UI",
      "Schema"
    ],
    "body": "In the lobby:\r\n![lobby](https://github.com/user-attachments/assets/7b5f9fef-a56f-44ad-aa53-038e3898b8a7)\r\nThe save button:\r\n![button](https://github.com/user-attachments/assets/a3c428fc-d58e-42c9-820a-39835d843aae)",
    "files": [
      {
        "filename": "data/_main.cfg"
      },
      {
        "filename": "data/game_presets.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/lobby_main.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/mp_create_game/default_resolution.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/mp_create_game/small_resolution.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/mp_create_game/tiny_resolution.cfg"
      },
      {
        "filename": "data/schema/game_config.cfg"
      },
      {
        "filename": "src/game_initialization/create_engine.cpp"
      },
      {
        "filename": "src/game_initialization/level_type.hpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.cpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.hpp"
      },
      {
        "filename": "src/game_initialization/lobby_info.cpp"
      },
      {
        "filename": "src/game_initialization/multiplayer.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.hpp"
      },
      {
        "filename": "src/preferences/preferences.cpp"
      },
      {
        "filename": "src/preferences/preferences.hpp"
      },
      {
        "filename": "src/preferences/preferences_list.hpp"
      },
      {
        "filename": "src/queue_type.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      }
    ],
    "commits_messages": [
      "convert game presets into preferences",
      "forgot to rename variable",
      "remove std::string",
      "update for review comments",
      "update",
      "update",
      "don't allow saving presets for nonsensical things",
      "."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10289"
  },
  {
    "number": 10320,
    "title": "Allow var substitution for wml menu items at invocation time",
    "labels": [],
    "body": "This includes a fix for #10270 which is required to implement #7948. I'm happy to commit the fix separately, but I'm putting them together for convenience, since I'd like feedback on both.",
    "files": [
      {
        "filename": "src/game_events/wmi_manager.cpp"
      },
      {
        "filename": "src/hotkey/command_executor.cpp"
      }
    ],
    "commits_messages": [
      "Hotkey/Command Executor: skip labels for HOTKEY_WML items\n\nFixes #10270",
      "Allow var substitution for wml menu items at invocation time\n\nResolves #7948"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10320"
  },
  {
    "number": 9811,
    "title": "TSG: some S01/S02 tweaks",
    "labels": [
      "Units",
      "Campaign TSG"
    ],
    "body": "Following feedback in #9682, I've adjusted the first couple maps of TSG to:\r\n1) remove fences and non-village windmills that might confuse new players\r\n2) reduce immersion-breaking instances where characters talk directly about game mechanics. (e.g. in-universe Deoran has no idea what a \"hitpoint\" is)",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/maps/01_Born_to_the_Banner.map"
      },
      {
        "filename": "data/campaigns/The_South_Guard/maps/01b_Born_to_the_Banner.map"
      },
      {
        "filename": "data/campaigns/The_South_Guard/maps/02_Proven_by_the_Sword.map"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/01_Born_to_the_Banner.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/02_Proven_by_the_Sword.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/03_Vale_of_Tears.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/04_Choice_in_the_Fog.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06a_Vengeance.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/units/MECH_Quintain.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_help.cfg"
      }
    ],
    "commits_messages": [
      "Initial commit",
      "Assorted translatability improvements",
      "Initial commit",
      "Merge branch 'master' into tsg-tutorial-tweaks",
      "Revert \"Assorted translatability improvements\"\n\nThis reverts commit 901e46132d047d743ecf3955c5f5d8f5fe7a2625.",
      "Merge branch 'tsg-tutorial-tweaks' of https://github.com/Dalas121/wesnothDalas into tsg-tutorial-tweaks",
      "Update 02_Proven_by_the_Sword.cfg",
      "Update 01_Born_to_the_Banner.cfg",
      "Update sg_help.cfg",
      "Update sg_help.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Merge branch 'wesnoth:master' into tsg-tutorial-tweaks",
      "Update 01_Born_to_the_Banner.cfg",
      "Update 02_Proven_by_the_Sword.cfg",
      "Merge branch 'wesnoth:master' into tsg-tutorial-tweaks",
      "TSG S01: explain terrain defense sooner",
      "Update 01_Born_to_the_Banner.cfg",
      "Merge branch 'master' into tsg-tutorial-tweaks",
      "Update 01_Born_to_the_Banner.cfg",
      "Update _main.cfg",
      "TSG S06a fix trapdoor side having the wrong side number",
      "Update sg_help.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9811"
  },
  {
    "number": 10321,
    "title": "Fix [terrain_defaults] default value not being used",
    "labels": [
      "Units",
      "WFL"
    ],
    "body": "Essentially, typed_formula was the wrong tool for this job. The default was only used if no input was provided, not if the formula itself evaluated to null.",
    "files": [
      {
        "filename": "src/formula/variant.cpp"
      },
      {
        "filename": "src/formula/variant.hpp"
      },
      {
        "filename": "src/units/types.cpp"
      }
    ],
    "commits_messages": [
      "WFL/Variant: add fallback arg to as_int and as_decimal",
      "Fix [terrain_defaults] default value not being used (fixes #9673)\n\nEssentially, typed_formula was the wrong tool for this job. The default was only used if no input was provided, not if the formula itself evaluated to null."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10321"
  },
  {
    "number": 10316,
    "title": "GUI2: reworked the status label helper API",
    "labels": [
      "UI"
    ],
    "body": "This makes the actual usecases of it much cleaner and allows a bunch of code to be cleaned up.\r\n\r\n- bind_status_label no longer takes IDs but instead widget references.\r\n- Added bind_default_status_label to avoid having to manually specify the default getter just to specify a target ID.\r\n- The setter helper is no longer returned. The only thing that relied on that was the map generator settings dialog, but this isn't needed anymore after fixing a bug in the slider code",
    "files": [
      {
        "filename": "src/gui/dialogs/editor/generator_settings.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/generator_settings.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/preferences_dialog.cpp"
      },
      {
        "filename": "src/gui/widgets/slider.cpp"
      },
      {
        "filename": "src/gui/widgets/status_label_helper.hpp"
      }
    ],
    "commits_messages": [
      "GUI2/Slider: fire a modified event in set_value_range\n\nThis didn't happen before since set_value was called with the current value, and thus it returned early.",
      "GUI2: reworked the status label helper API\n\nThis makes the actual usecases of it much cleaner and allows a bunch of code to be cleaned up.\n\n- bind_status_label no longer source IDs but instead a widget reference.\n  This allows the W template parameter type to be deduced.\n- Added bind_default_status_label to avoid having to manually specify the\n  default getter just to specify a target ID.\n- The setter helper is no longer returned. The only thing that relied on that was the generator\n  settings dialog, but this isn't needed anymore after fixing a bug in the slider code."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10316"
  },
  {
    "number": 10313,
    "title": "NR S04: check if hex is passable before spawn",
    "labels": [
      "Enhancement",
      "Campaign NR"
    ],
    "body": "Source: https://forums.wesnoth.org/viewtopic.php?p=698930#p698930",
    "files": [
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/04_Clearing_the_Mines.cfg"
      }
    ],
    "commits_messages": [
      "NR_S04: check if hex is passable before spawn"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10313"
  },
  {
    "number": 10309,
    "title": "Use native widgets for theme dropdown menu toggles",
    "labels": [
      "UI",
      "Editor"
    ],
    "body": "This encompasses several related changes which I'm bundling together:\r\n\r\n- Game and Editor dropdown menus now use native GUI2 widgets for their toggle buttons instead of images. This allows them to be properly themed. At @CelticMinstrel 's suggestion, they are disabled, so one cannot interact with them directly as in the regular multimenu button. This makes event handling easier, since I had to account for the fact that the existing action system here expects the menu to close before executing the associated command.\r\n- Radio button support was added to the dropdown menu. This has only been tested with the theme menus since we have no usecase otherwise.\r\n- As a result of the changes necessary to get the checkboxes working, I was able to make use of the dropdown menu's native keep-open functionality for the editor music dialog instead of constantly reopening it every single time.\r\n- `command_executor::get_action_image` has been removed. It's done nothing since 17a1bbd77707cff5134cc2bfd28cabcc0ff9f534",
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/game_config.cpp"
      },
      {
        "filename": "src/game_config.hpp"
      },
      {
        "filename": "src/gui/dialogs/drop_down_menu.cpp"
      },
      {
        "filename": "src/gui/dialogs/drop_down_menu.hpp"
      },
      {
        "filename": "src/hotkey/command_executor.cpp"
      },
      {
        "filename": "src/hotkey/command_executor.hpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler.hpp"
      }
    ],
    "commits_messages": [
      "Use native widgets for theme dropdown menu toggles",
      "Cleanup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10309"
  },
  {
    "number": 10287,
    "title": "Add a prefix \" MP\" for saves of hybrid campaigns run in MP",
    "labels": [
      "MP"
    ],
    "body": "Fix #8871 Add a prefix \" MP\" for saves of hybrid campaigns run in MP so SP and MP runs don't mix up\r\n\r\nNot sure which text domain \" MP\" string will be in, but I guess it will be translatable\r\n\r\n![\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435](https://github.com/user-attachments/assets/4bbe8e1f-7bfa-4364-8a80-7a8b2a984d58)\r\n",
    "files": [
      {
        "filename": "src/game_initialization/create_engine.cpp"
      }
    ],
    "commits_messages": [
      "Update create_engine.cpp\n\nFix #8871 Add a prefix \" MP\" for saves of hybrid campaigns run in MP",
      "Hyphen instead of space\n\nCo-authored-by: Subhraman Sarkar <suvrax@gmail.com>",
      "Update create_engine.cpp Separate punctuation",
      "Fix MP string, add multiplayer prefix qualifier",
      "Merge branch 'wesnoth:master' into add-mp-prefix-for-hybrid-campaigns"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10287"
  },
  {
    "number": 10292,
    "title": "Fix assertion after event cleanup failue",
    "labels": [
      "Engine"
    ],
    "body": "its possible that event cleanup fails. I don't see any serious problems in that case so i replaced that assertion with a ERR_NG.\r\n\r\nSee also issue #9708",
    "files": [
      {
        "filename": "src/game_events/manager.cpp"
      }
    ],
    "commits_messages": [
      "Fix assertion after event cleanup failue\n\nits possible that event cleanup fails. I don't see any serious problems in that case so i replaced that assertion with a ERR_NG.\r\n\r\nSee also issue #9708"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10292"
  },
  {
    "number": 10310,
    "title": " Compare units directly instead of locations ",
    "labels": [
      "Units"
    ],
    "body": "I didn't know how to do it anymore, and in a panic, I resorted to using locations, but comparing unit variables seems more robust to me.",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      }
    ],
    "commits_messages": [
      "Compare units directly instead of locations\n\nI didn't know how to do it anymore, and in a panic, I resorted to using locations, but comparing unit variables seems more robust to me."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10310"
  },
  {
    "number": 10291,
    "title": "Fix 'name_afected' implemented in [specials] specials by error",
    "labels": [
      "UI",
      "Units",
      "Campaign UtBS",
      "Campaign TDG"
    ],
    "body": "name_affected attribute is intented for abilities used like specials only",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/core/macros/abilities.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      }
    ],
    "commits_messages": [
      "Fix 'name_afected' implemented in [specials] specials by error\n\nname_affected attribute is intented for abilities used like specials only",
      "correct translation bug",
      "use original desrciption of 'dazed' in TDG\n\nResolve https://github.com/wesnoth/wesnoth/issues/10298#issuecomment-3008670910 issue"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10291"
  },
  {
    "number": 10306,
    "title": "Fix [filter_adjacent] which checks the central unit",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "Resolves https://github.com/wesnoth/wesnoth/issues/10304",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_adjacent_self_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_filter_adjacent_self_inactive.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "Fix [filter_adjacent] which checks the central unit\n\nResolves https://github.com/wesnoth/wesnoth/issues/10304",
      "add wml test"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10306"
  },
  {
    "number": 10283,
    "title": "Editor/Edit Side: don't add/write game default base_income",
    "labels": [
      "AI",
      "UI",
      "Editor",
      "Terrain"
    ],
    "body": "Resolves #10123\r\n\r\nReasoning given in https://github.com/wesnoth/wesnoth/issues/10123#issuecomment-2991271494, quoted here:\r\n\r\n> \r\n> This is where the `+2` comes from:\r\n> https://github.com/wesnoth/wesnoth/blob/a1d3e10e75b6695dc8466360168525a1bb47d743/src/team.hpp#L183\r\n> \r\n> (game's base income is `2`, which gets added to the value loaded from the file)\r\n> \r\n> `base_income()`'s retval is used for the `editor_team_info` constructor here:\r\n> https://github.com/wesnoth/wesnoth/blob/a1d3e10e75b6695dc8466360168525a1bb47d743/src/editor/map/map_context.cpp#L46\r\n> \r\n> Which in turn gets used in the Edit Side dialog, so when you save it it's income from saved scenario file + base income of game.",
    "files": [
      {
        "filename": "data/gui/themes/default/dialogs/editor_edit_side.cfg"
      },
      {
        "filename": "src/ai/default/ca.cpp"
      },
      {
        "filename": "src/ai/lua/engine_lua.cpp"
      },
      {
        "filename": "src/editor/map/map_context.cpp"
      },
      {
        "filename": "src/gui/dialogs/gamestate_inspector.cpp"
      },
      {
        "filename": "src/team.cpp"
      },
      {
        "filename": "src/team.hpp"
      },
      {
        "filename": "src/terrain/filter.cpp"
      }
    ],
    "commits_messages": [
      "Editor/Edit Side: don't add/write game default base_income",
      "add getter/setter for the raw team income",
      "move implementation for base_income/set_base_income to cpp file",
      "add game_config.hpp include directly",
      "Add documentation\n\nAlso, some code simplification and formatting fixes",
      "whitespace fix",
      "Start income at zero"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10283"
  },
  {
    "number": 10307,
    "title": "Editor/Controller: convert menu_type to a scoped enum",
    "labels": [
      "Editor"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.hpp"
      }
    ],
    "commits_messages": [
      "Editor/Controller: convert menu_type to a scoped enum"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10307"
  },
  {
    "number": 10305,
    "title": "SotA: Update terrain",
    "labels": [
      "Backport",
      "Campaign SotA"
    ],
    "body": "Closes #10299\r\n\r\nI can see how this was missed in #5189 but I don't (yet) see the error message logged in #10299. 1.18 is also affected so it could be back-ported.",
    "files": [
      {
        "filename": "data/campaigns/Secrets_of_the_Ancients/utils/sota-utils.cfg"
      }
    ],
    "commits_messages": [
      "SotA: Update terrain (closes #10299)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10305"
  },
  {
    "number": 10293,
    "title": "specials/abilities string substitution refactor",
    "labels": [
      "Units"
    ],
    "body": "Resolves #10290\r\n\r\n* extends plague type substitution to inactive strings and when plague is used as an ability instead of a special\r\n* substitution for help browser and unit preview pane\r\n* various attempts to code simplification",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/abilities.hpp"
      },
      {
        "filename": "src/units/types.cpp"
      }
    ],
    "commits_messages": [
      "specials/abilities string substitution refactor\n\n* extends plague type substitution to inactive strings and when plague is used as an ability instead of a special\n* various attempts to code simplification",
      "support gettext variable substitution for unit_type abilities\n\nthis makes the substitution work correctly in help and unit preview pane."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10293"
  },
  {
    "number": 10300,
    "title": "fix specement error in windows.cpp",
    "labels": [
      "UI"
    ],
    "body": "fix error in https://github.com/wesnoth/wesnoth/commit/cadc)6ec412db8fdc6b40a8b968bffa5a79c9fbde commit",
    "files": [
      {
        "filename": "src/gui/widgets/window.cpp"
      }
    ],
    "commits_messages": [
      "fix specement error in https://github.com/wesnoth/wesnoth/commit/cadc6ec412db8fdc6b40a8b968bffa5a79c9fbde"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10300"
  },
  {
    "number": 10285,
    "title": "Hotkey action state cleanup",
    "labels": [
      "Editor"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/controller/editor_controller.hpp"
      },
      {
        "filename": "src/hotkey/command_executor.cpp"
      },
      {
        "filename": "src/hotkey/command_executor.hpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler.hpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler_sp.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler_sp.hpp"
      }
    ],
    "commits_messages": [
      "Hotkey/Command Executor: add helpers to simplify get_action_state",
      "Hotkey/Command Executor: convert action_state to a scoped enum"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10285"
  },
  {
    "number": 10284,
    "title": "Units: Dwarvish Thunderer cost -1G",
    "labels": [
      "Units"
    ],
    "body": "As discussed by Balance Team",
    "files": [
      {
        "filename": "changelog_entries/dwarvish_thunderer.md"
      },
      {
        "filename": "data/core/units/dwarves/Thunderer.cfg"
      }
    ],
    "commits_messages": [
      "Units: Dwarvish Thunderer cost -1G\n\nAs discussed by Balance Team",
      "add changelog entry"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10284"
  },
  {
    "number": 10278,
    "title": "Hotkey/Handler: optimize menu list generation",
    "labels": [],
    "body": "Instead of constructing an intermediate list whose special members (wml items, autosaves, etc) are then expanded, simply append the expanded items on the initial pass.\r\n\r\nAlso optimizes the case where a large number of configs would be constructed for long games, only to be pruned.",
    "files": [
      {
        "filename": "src/hotkey/hotkey_handler.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_handler.hpp"
      }
    ],
    "commits_messages": [
      "Hotkey/Handler: optimize menu list generation\n\nInstead of constructing an intermediate list whose special members (wml items, autosaves, etc) are then expanded, simply append the expanded items on the initial pass.\n\nAlso optimizes the case where a large number of configs would be constructed for long games, only to be pruned.",
      "Minor fixups",
      "Roll back some changes",
      "fixup",
      "nyeeeeeeee"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10278"
  },
  {
    "number": 10275,
    "title": "Skeletal Undead Arcane Resistance Resolution",
    "labels": [
      "Unit Tests",
      "Units",
      "Campaign EI"
    ],
    "body": "- Corrections done as decided by @Pentarctagon\r\n- **Applies only to Skeletal Undead Units.**",
    "files": [
      {
        "filename": "changelog_entries/arcane_res_skeletal_undead.md"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/units/Undead_Horse_Barrow_Wight.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/units/Undead_Horse_Pyre_Wight.cfg"
      },
      {
        "filename": "data/core/units.cfg"
      },
      {
        "filename": "data/core/units/undead/Skele_Bone_Knight.cfg"
      },
      {
        "filename": "data/core/units/undead/Skeleton_Rider.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/resistance/resistance_to_damage_type_special.cfg"
      }
    ],
    "commits_messages": [
      "Units: undeadfoot arcane resistance correction\n\nFrom -20% to -40%",
      "EI: Units: Barrow Wight Arcane RES correction\n\n- Falls in group of Skeletal Undead",
      "EI: Units: Pyre Wight Arcane Res Correction\n\n- Falls in group of Skeletal Undead",
      "Add changelog entry\n\nfor completeness",
      "wml_tests: UnitWML: AbilityWML: Resistance: update\n\n- corrected the mathematical values to make arcane resistance to stay at 50% for \"bob\" in the 2 tests.",
      "changelog entry: indent as required"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10275"
  },
  {
    "number": 10222,
    "title": "add a 'radius' to abilities [filter_adjacent] and [filter][filter_adjacent].",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema"
    ],
    "body": "with using this attribute it is possible to filter unit on a radius greater than 1.",
    "files": [
      {
        "filename": "changelog_entries/add_radius_to_filter_adjacent.md"
      },
      {
        "filename": "data/schema/filters/unit.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_distant_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_distant_direction_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_distant_direction_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_distant_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_filter_distant_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_filter_distant_direction_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_filter_distant_direction_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_filter_distant_inactive.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "add a 'radius' to abilities [filter_adjacent] and [filter][filter_adjacent].\n\nwith using this attribute it is possible to filterunit on a radius greater than 1."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10222"
  },
  {
    "number": 10276,
    "title": "add overlay layer wildcard to standing anim terrain filter",
    "labels": [
      "Units"
    ],
    "body": "resolves #10273",
    "files": [
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      },
      {
        "filename": "data/core/units/boats/Derelict_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      },
      {
        "filename": "data/core/units/boats/Fireship.cfg"
      },
      {
        "filename": "data/core/units/boats/Ghost_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Battle-Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Rigship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Warship.cfg"
      },
      {
        "filename": "data/core/units/boats/Pirate_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Coastal.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Iron.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      },
      {
        "filename": "data/core/units/boats/Transport_Ship.cfg"
      }
    ],
    "commits_messages": [
      "add overlay layer wildcard to standing anim terrain filter"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10276"
  },
  {
    "number": 10274,
    "title": "HttT: remove \"sparkles\" from Li'sar's Initiative ability",
    "labels": [
      "Graphics",
      "Campaign HttT"
    ],
    "body": "Resolves #10271",
    "files": [
      {
        "filename": "data/campaigns/Heir_To_The_Throne/images/misc/firststrike-1.png"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/images/misc/firststrike-2.png"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/images/misc/firststrike-3.png"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/utils/abilities.cfg"
      }
    ],
    "commits_messages": [
      "Delete data/campaigns/Heir_To_The_Throne/images/misc directory",
      "Update abilities.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10274"
  },
  {
    "number": 10272,
    "title": "1.19 - add primary key to boat frames",
    "labels": [
      "Units"
    ],
    "body": "addresses the comment here: https://github.com/wesnoth/wesnoth/issues/10217#issuecomment-2964421227",
    "files": [
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      },
      {
        "filename": "data/core/units/boats/Derelict_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      },
      {
        "filename": "data/core/units/boats/Fireship.cfg"
      },
      {
        "filename": "data/core/units/boats/Ghost_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Battle-Barge.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Rigship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Warship.cfg"
      },
      {
        "filename": "data/core/units/boats/Pirate_Ship.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Coastal.cfg"
      },
      {
        "filename": "data/core/units/boats/Raider_Iron.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      },
      {
        "filename": "data/core/units/boats/Transport_Ship.cfg"
      }
    ],
    "commits_messages": [
      "add primary key to boat frames"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10272"
  },
  {
    "number": 10013,
    "title": "update codeblock projectfile",
    "labels": [
      "Building"
    ],
    "body": null,
    "files": [
      {
        "filename": "projectfiles/CodeBlocks/wesnoth.cbp"
      }
    ],
    "commits_messages": [
      "update codeblock projectfile"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10013"
  },
  {
    "number": 9910,
    "title": "Integrate special ability events into these abilities.",
    "labels": [
      "Units",
      "Campaign DiD",
      "Campaign UtBS",
      "Campaign WoF"
    ],
    "body": "This had not yet been done in the mainline.",
    "files": [
      {
        "filename": "data/campaigns/Descent_Into_Darkness/units/Mal_Keshar.cfg"
      },
      {
        "filename": "data/campaigns/Descent_Into_Darkness/utils/abilities.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/_main.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/scenarios/01_The_Morning_After.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/campaigns/Winds_of_Fate/utils/abilities.cfg"
      }
    ],
    "commits_messages": [
      "Integrate special ability events into these abilities.\n\nThis had not yet been done in the mainline."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9910"
  },
  {
    "number": 9950,
    "title": "add 'invulnerable' status for prevent unit die during tests",
    "labels": [
      "Unit Tests"
    ],
    "body": "else possibility of victory result in test.",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_student_adjacent_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/filter_student_adjacent_inactive.cfg"
      }
    ],
    "commits_messages": [
      "add 'invulnerable' status for prevent unit die during tests"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9950"
  },
  {
    "number": 10145,
    "title": "fix direction reversal for adjacent attribute in [affect_adjacent]",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "before tofix that, n was south and s was north",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_adjacent_direction_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_adjacent_direction_inactive.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "fix direction reversal for adjacent attribute in [affect_adjacent]",
      "add wml_tests"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10145"
  },
  {
    "number": 10238,
    "title": "Fix Undoing a move by a counterspell-caster fails to undo the counterspell halo move",
    "labels": [
      "Graphics",
      "Campaign TDG"
    ],
    "body": "resolve https://github.com/wesnoth/wesnoth/issues/10136 and https://github.com/wesnoth/wesnoth/issues/10135 issues",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      }
    ],
    "commits_messages": [
      "Fix Undoing a move by a counterspell-caster fails to undo the counterspell halo move\n\nresolve https://github.com/wesnoth/wesnoth/issues/10136 and https://github.com/wesnoth/wesnoth/issues/10135 issues"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10238"
  },
  {
    "number": 10268,
    "title": "fix 'cumulative' attribute not added in abilities filter shema validation",
    "labels": [
      "Schema"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/schema/filters/abilities.cfg"
      }
    ],
    "commits_messages": [
      "fix 'cumulative' attribute not added in abilities filter shema validation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10268"
  },
  {
    "number": 10269,
    "title": "fix 'cumulative' attribute not added in abilities filter shema validation(1.18 backport)",
    "labels": [
      "Schema"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/schema/filters/abilities.cfg"
      }
    ],
    "commits_messages": [
      "fix 'cumulative' attribute not added in abilities filter shema validation(1.18 backport)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10269"
  },
  {
    "number": 10265,
    "title": "[Units] Wyvern Rider: update ranged attack anim",
    "labels": [
      "Enhancement",
      "Units"
    ],
    "body": "Previously, it was doing a melee attack thing for a ranged attack...",
    "files": [
      {
        "filename": "data/core/units/dunefolk/Wyvern_Rider.cfg"
      }
    ],
    "commits_messages": [
      "units/Wyvern Rider: update ranged attack anim\n\nPreviously, it was doing a melee attack thing for a ranged attack..."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10265"
  },
  {
    "number": 10267,
    "title": "Use math.randomseed make break_replay_with_lua_random reliable, closes #10143",
    "labels": [
      "Unit Tests"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/test/scenarios/lua_tests/wesnoth/sync/break_replay_with_lua_random.cfg"
      }
    ],
    "commits_messages": [
      "Use math.randomseed to ensure break_replay_with_lua_random does not get same randomness as original game, closes #10143"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10267"
  },
  {
    "number": 10266,
    "title": "MP/Connect Engine: add ability to disable faction sorting",
    "labels": [
      "Schema"
    ],
    "body": "See #3177, resolves #7753. Adds an `auto_sort` key to [era] which, if false (default true), will use the [multiplayer_side] order as given in the config.\r\n\r\n@ProditorMagnus is this acceptable?",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/schema/core/addons.cfg"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      }
    ],
    "commits_messages": [
      "MP/Connect Engine: add ability to disable faction sorting",
      "fixup",
      "changelog"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10266"
  },
  {
    "number": 10263,
    "title": "[1.18] Floating label replace fix backport",
    "labels": [
      "Lua API"
    ],
    "body": "Backport of 1d039c395dc44b93e9c22424cf976f0740284897 (#10258).\r\nResolves #10098 for 1.18.\r\n",
    "files": [
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      }
    ],
    "commits_messages": [
      "floating label replace: properly use optional handle"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10263"
  },
  {
    "number": 10264,
    "title": "Check the correct attribute for sub achievements",
    "labels": [],
    "body": "Fixes #10187",
    "files": [
      {
        "filename": "src/preferences/preferences.cpp"
      }
    ],
    "commits_messages": [
      "Check the correct attribute for sub achievements\n\nFixes #10187"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10264"
  },
  {
    "number": 10254,
    "title": "Add names or descriptions of abilities used as weapons to the sidebar.",
    "labels": [
      "UI",
      "Units",
      "Schema",
      "Campaign HttT",
      "Campaign UtBS"
    ],
    "body": "To do this, the special_name and special_description attributes should be used instead of the usual attributes to name or describe the ability's effect on the weapon.",
    "files": [
      {
        "filename": "changelog_entries/add_abilities_special_to_sidebar.md"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/utils/abilities.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      },
      {
        "filename": "data/core/macros/abilities.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      }
    ],
    "commits_messages": [
      "Add names or descriptions of abilities used as weapons to the sidebar.\n\nTo do this, the special_name and special_description attributes should be used instead of the usual attributes to name or describe the ability's effect on the weapon.",
      "add an example",
      "add other example"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10254"
  },
  {
    "number": 10250,
    "title": "1.19 attack animations for Dunefolk Rover",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack3.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack4.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack5.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack6.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-attack7.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bob1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bob2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bob3.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bob4.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-attack1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-attack2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-attack3.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-attack4.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-hit.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-miss1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow-miss2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-bow.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-breeze1.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-breeze2.png"
      },
      {
        "filename": "data/core/images/units/dunefolk/rover/rover-breeze3.png"
      },
      {
        "filename": "data/core/units/dunefolk/Rover.cfg"
      }
    ],
    "commits_messages": [
      "melee anim for rover",
      "bow and standing anims",
      "PNG compression and metadata"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10250"
  },
  {
    "number": 10253,
    "title": "wmlxgettext: Replace utcnow()",
    "labels": [
      "WML Tools"
    ],
    "body": "Python 3.12 deprecates `datetime.datetime.utcnow()`. Reference: https://docs.python.org/3/library/datetime.html#datetime.datetime.utcnow\r\n\r\nI don't think there's any reason to use 'local' time here.\r\n\r\nAlso remove some unused/redundant pieces.",
    "files": [
      {
        "filename": "data/tools/wmlxgettext"
      }
    ],
    "commits_messages": [
      "wmlxgettext: Replace utcnow()\n\nPython 3.12 deprecates datetime.datetime.utcnow().\r\n\r\nAlso remove some unused/redundant pieces.",
      "Use timezone.utc directly."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10253"
  },
  {
    "number": 10258,
    "title": "floating label/replace: properly use optional handle",
    "labels": [
      "Lua API"
    ],
    "body": "Resolves #10098.",
    "files": [
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      }
    ],
    "commits_messages": [
      "floating label replace: properly use optional handle"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10258"
  },
  {
    "number": 10087,
    "title": "mouse back/forward button handling",
    "labels": [
      "UI",
      "Help",
      "Input"
    ],
    "body": "Resolves #10085.\r\n\r\n* Backend support for mouse forward/back button in the context of GUI2\r\n* Forward/back button history navigation in Help Browser\r\n* Forward/back button story navigation in story screen.",
    "files": [
      {
        "filename": "src/gui/core/event/distributor.cpp"
      },
      {
        "filename": "src/gui/core/event/distributor.hpp"
      },
      {
        "filename": "src/gui/core/event/handler.cpp"
      },
      {
        "filename": "src/gui/core/event/handler.hpp"
      },
      {
        "filename": "src/gui/dialogs/help_browser.cpp"
      },
      {
        "filename": "src/gui/dialogs/help_browser.hpp"
      },
      {
        "filename": "src/gui/dialogs/story_viewer.cpp"
      },
      {
        "filename": "src/gui/widgets/tree_view_node.cpp"
      },
      {
        "filename": "src/gui/widgets/tree_view_node.hpp"
      }
    ],
    "commits_messages": [
      "gui2/event: mouse back/forward button handling\n\nused for history navigation in the help browser",
      "help browser: prevent extraneous history addition\n\na complex call chain caused extra history addition after 6bb77c3f24248a7c9561beaaae5ce6696db5409f.\nselect_node -> firing of notify_modified -> on_topic_select -> show_topic with add_to_history true -> extra history item",
      "story viewer: support mouse forward/back button navigation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10087"
  },
  {
    "number": 10236,
    "title": "Separate support for special weapons and filtering into separate functions.",
    "labels": [
      "Units"
    ],
    "body": "\r\n\r\nThis will allow for clear code reading for each type of function instead of using multitasking functions, and also allow for simultaneous filtering of 'special_id' and 'special_type'. Previously, the functions had to be called once per attribute. We had [filter_weapon]special_id_active=a and special_type_active=damage. This required a full check for special_id_active, then a repeat check for special_type_active, and the detection of each of them wasn't always done at the same point. Now, we'll have a simultaneous check where the detected special will necessarily be a [damage]id=a, and not an [attacks]id=a accompanied by a [damage].",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      },
      {
        "filename": "src/units/filter.cpp"
      }
    ],
    "commits_messages": [
      "Separate support for special weapons and filtering into separate functions.\n\nThis will allow for clear code reading for each type of function instead of using multitasking functions, and also allow for simultaneous filtering of 'special_id' and 'special_type'. Previously, the functions had to be called once per attribute. We had [filter_weapon]special_id_active=a and special_type_active=damage. This required a full check for special_id_active, then a repeat check for special_type_active, and the detection of each of them wasn't always done at the same point. Now, we'll have a simultaneous check where the detected special will necessarily be a [damage]id=a, and not an [attacks]id=a accompanied by a [damage]."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10236"
  },
  {
    "number": 10251,
    "title": "add id to event_abilities in Utbs",
    "labels": [
      "Campaign UtBS"
    ],
    "body": "Complete https://github.com/wesnoth/wesnoth/commit/8a3be4fd3eebdf1eaae28be530a86f3830f33548\r\n\r\nreply to https://github.com/wesnoth/wesnoth/issues/10243#issuecomment-2929514717",
    "files": [
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/_main.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/utils/abilities.cfg"
      }
    ],
    "commits_messages": [
      "add id to event_abilities in Utbs\n\nComplete https://github.com/wesnoth/wesnoth/commit/8a3be4fd3eebdf1eaae28be530a86f3830f33548\n\nreply to https://github.com/wesnoth/wesnoth/issues/10243#issuecomment-2929514717"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10251"
  },
  {
    "number": 10252,
    "title": "TSG: replace {SAY_COMPANION} macro with lua",
    "labels": [
      "Campaign TSG"
    ],
    "body": "Resolves #10227. Replaces #10237",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/lua/companion_message.lua"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/03_Vale_of_Tears.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/04_Choice_in_the_Fog.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/05a_The_Long_March.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/05b_Pebbles_in_the_Flood.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/05c_Into_the_Depths.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06a_Vengeance.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/utils/_initial.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_help.cfg"
      },
      {
        "filename": "utils/CI/schema_validation.patch"
      }
    ],
    "commits_messages": [
      "Create companion_message.lua",
      "Update _initial.cfg",
      "Update _main.cfg",
      "Update companion_message.lua",
      "Update 03_Vale_of_Tears.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 05a_The_Long_March.cfg",
      "Update 05b_Pebbles_in_the_Flood.cfg",
      "Update 05c_Into_the_Depths.cfg",
      "Update schema_validation.patch",
      "Update 03_Vale_of_Tears.cfg",
      "Update 06a_Vengeance.cfg",
      "Update sg_help.cfg",
      "Update 05b_Pebbles_in_the_Flood.cfg",
      "Update schema_validation.patch",
      "Update 05a_The_Long_March.cfg",
      "Update 03_Vale_of_Tears.cfg",
      "Update 05b_Pebbles_in_the_Flood.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10252"
  },
  {
    "number": 10230,
    "title": "update to latest mariadbpp",
    "labels": [
      "Building",
      "CI",
      "SCons",
      "CMake"
    ],
    "body": "build the servers with strict enabled",
    "files": [
      {
        "filename": ".github/workflows/ci-main.yml"
      },
      {
        "filename": "CMakeLists.txt"
      },
      {
        "filename": "SConstruct"
      },
      {
        "filename": "src/modules/mariadbpp"
      },
      {
        "filename": "src/xBRZ/xbrz.cpp"
      }
    ],
    "commits_messages": [
      "update to latest mariadbpp\n\nbuild the servers with strict enabled",
      "unused methods",
      "-Wno-c++20-extensions\n\nthese are supported so warning about them (and then making them errors) doesn't accomplish anything"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10230"
  },
  {
    "number": 10198,
    "title": "TSG, TDG: capitalize \"XP\"",
    "labels": [
      "Campaign TSG",
      "Campaign TDG"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/_main.cfg"
      }
    ],
    "commits_messages": [
      "Update _main.cfg",
      "Merge branch 'wesnoth:master' into tdg-tsg-capitalize-XP",
      "Update _main.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10198"
  },
  {
    "number": 10228,
    "title": "Wesnothd: make ping command useful",
    "labels": [
      "MP"
    ],
    "body": "While there was an existing ping command, it did nothing by send a message to the server which was silently ignored. This new implementation now reports the roundtrip packet flight time, in milliseconds.",
    "files": [
      {
        "filename": "src/chat_command_handler.hpp"
      },
      {
        "filename": "src/chat_events.cpp"
      },
      {
        "filename": "src/playmp_controller.cpp"
      },
      {
        "filename": "src/playturn_network_adapter.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.hpp"
      }
    ],
    "commits_messages": [
      "Wesnothd: make ping command useful\n\nWhile there was an existing ping command, it did nothing by send a message to the server which was silently ignored. This new implementation now reports the roundtrip packet flight time, in milliseconds.",
      "Refinement",
      "made possible ping response fields more visible on the client"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10228"
  },
  {
    "number": 10214,
    "title": "Simple WML: range for",
    "labels": [
      "MP",
      "Add-ons"
    ],
    "body": "No functionality changes.",
    "files": [
      {
        "filename": "src/server/common/simple_wml.cpp"
      }
    ],
    "commits_messages": [
      "Simple WML: range for\n\nNo functionality changes.",
      "Missed a few",
      "Consistency",
      "keep consistent var name",
      "revert auto"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10214"
  },
  {
    "number": 10246,
    "title": "Unit Type: delete copy, default ctors",
    "labels": [
      "Units"
    ],
    "body": "#10053 inadvertently added a variable which copied a unit_type. This would have been caught had the copy ctor been deleted \r\n(as copy assignment already is). Since these aren't objects we'll be passing around, better to delete both to catch such cases in future. Ironically, the only place that actually used the unit_type copy ctor was the unit_type copy ctor itself (and the code for copying the gender variations looks broken anyway - it was checking whether the wrong variable was non-null!)\r\n\r\nAlso added a default definition of the move assignment operator (we already had a move ctor), and deleted the default ctor (unimplemented) ~~and dtor (empty~~).",
    "files": [
      {
        "filename": "src/units/types.cpp"
      },
      {
        "filename": "src/units/types.hpp"
      }
    ],
    "commits_messages": [
      "Unit Type: delete copy, default ctors",
      "Fixup",
      "tweaks",
      "readd the dtor"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10246"
  },
  {
    "number": 10247,
    "title": "Fix Sidebar tooltip no longer shows effect of unit damage resistances(always 0%)",
    "labels": [
      "Units",
      "Engine"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/10241 issue.",
    "files": [
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "Fix Sidebar tooltip no longer shows effect of unit damage resistances (always 0%)\n\nFix https://github.com/wesnoth/wesnoth/issues/10241#issuecomment-2926474959 issue."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10247"
  },
  {
    "number": 10249,
    "title": "attempt to fix frost nova and soul rend",
    "labels": [
      "Campaign DiD"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/10243 and https://github.com/wesnoth/wesnoth/issues/10244",
    "files": [
      {
        "filename": "data/campaigns/Descent_Into_Darkness/utils/abilities.cfg"
      }
    ],
    "commits_messages": [
      "attempt to frost nova and soul rend\n\nFix https://github.com/wesnoth/wesnoth/issues/10243 and https://github.com/wesnoth/wesnoth/issues/10244"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10249"
  },
  {
    "number": 10245,
    "title": "Fix crash with invalid unit type in weapon special tooltip",
    "labels": [
      "Units"
    ],
    "body": "Fixes #10240. ~~Also expands the use of the $type variable to any special for consistency.~~",
    "files": [
      {
        "filename": "src/units/abilities.cpp"
      }
    ],
    "commits_messages": [
      "Fix crash with invalid unit type in weapon special tooltip\n\nFixes #10240. Also expands the use of the $type variable to any special for consistency.",
      "plague only",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10245"
  },
  {
    "number": 10233,
    "title": "Fix strict aliasing by not type-punning",
    "labels": [
      "Graphics",
      "Unit Tests"
    ],
    "body": "Instead of type-punning to smaller struct, just pas the const-ref to the larger one. The functions are intended to be inlined anyway.",
    "files": [
      {
        "filename": "data/test/scenarios/manual_tests/scenario-test.cfg"
      },
      {
        "filename": "src/xBRZ/xbrz.cpp"
      }
    ],
    "commits_messages": [
      "Fix strict aliasing by not type-punning\n\nInstead of type-punning to smaller struct, just pass the const-ref\nto the larger one. The functions are intended to be inlined anyway.\n\nModify the get_XX accessors to refer to the right members.",
      "Add XBRZ IPF tests"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10233"
  },
  {
    "number": 10229,
    "title": "Remove XMP metadata, use EXIF for PNGs",
    "labels": [
      "Graphics",
      "MP",
      "Units",
      "CI",
      "Campaign DW",
      "Campaign HttT",
      "Campaign L",
      "Campaign TRoW",
      "Campaign UtBS"
    ],
    "body": "This is to remove XMP metadata that is currently used for PNGs, since the intended benefits do not outweigh the costs.  See #9312 \r\n\r\n- [x] Update CI to check for EXIF tags, no longer check for XMP tags\r\n\r\nUpdate unit sprite images (includes moving critical data out of PNG chunk)\r\n- [x] bats\r\n- [x] drakes\r\n- [x] dunefolk\r\n- [x] dwarves\r\n- [x] elves-wood\r\n- [x] goblins\r\n- [x] human-loyalists\r\n- [x] human-magi\r\n- [x] human-outlaws\r\n- [x] human-peasants\r\n- [x] merfolk\r\n- [x] monsters\r\n- [x] nagas\r\n- [x] ogres\r\n- [x] orcs\r\n- [x] saurians\r\n- [x] transport\r\n- [x] trolls\r\n- [x] undead\r\n- [x] undead-necromancers\r\n- [x] undead-skeletal\r\n- [x] undead-spirit\r\n- [x] woses\r\n\r\nNot really part of the code or program data, but the wiki page on this stuff (https://wiki.wesnoth.org/ImageMetadata) should be updated.\r\n- [x] Update Wiki",
    "files": [
      {
        "filename": ".github/workflows/image_metadata.yml"
      },
      {
        "filename": "data/campaigns/Dead_Water/scenarios/05_Tirigaz.cfg"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/02_Blackwater_Port.cfg"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/03_The_Isle_of_Alduin.cfg"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/04_The_Bay_of_Pearls.cfg"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/05b_Isle_of_the_Damned.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/scenarios/04_Unlawful_Orders.cfg"
      },
      {
        "filename": "data/campaigns/Liberty/scenarios/05_Hide_and_Seek.cfg"
      },
      {
        "filename": "data/campaigns/The_Rise_Of_Wesnoth/scenarios/12_A_Final_Spring.cfg"
      },
      {
        "filename": "data/campaigns/The_Rise_Of_Wesnoth/scenarios/13_Peoples_in_Decline.cfg"
      },
      {
        "filename": "data/campaigns/The_Rise_Of_Wesnoth/scenarios/14_Rough_Landing.cfg"
      },
      {
        "filename": "data/campaigns/The_Rise_Of_Wesnoth/scenarios/15_A_New_Land.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/scenarios/09_Blood_is_Thicker_Than_Water.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/scenarios/10_Speaking_with_the_Fishes.cfg"
      },
      {
        "filename": "data/campaigns/Under_the_Burning_Suns/scenarios/11_Battle_for_Zocthanol_Isle.cfg"
      },
      {
        "filename": "data/core/images/scenery/boat.png"
      },
      {
        "filename": "data/core/images/units/bats/Bat_ColorMap.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-ne-1.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-ne-2.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-ne-3.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-ne-4.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-ne-5.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-se-1.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-se-2.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-se-3.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-se-4.png"
      },
      {
        "filename": "data/core/images/units/bats/bat-se-5.png"
      },
      {
        "filename": "data/core/images/units/bats/bloodbat-ne-1.png"
      },
      {
        "filename": "data/core/images/units/bats/bloodbat-ne-2.png"
      },
      {
        "filename": "data/core/images/units/bats/bloodbat-ne-3.png"
      }
    ],
    "commits_messages": [
      "modify CI to no longer check for XMP, only EXIF",
      "test balloon",
      "move metadata from XMP to EXIF for ships",
      "update scenery images of old ships",
      "fix more references to old ships or boats",
      "update metadata to use EXIF tags (not PNG or XMP) for critical info",
      "update metadata to use EXIF tags (not PNG or XMP) for critical info, rest of files"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10229"
  },
  {
    "number": 10226,
    "title": "fix id=poison can poison opponent same if in another type of special",
    "labels": [
      "Unit Tests",
      "Units"
    ],
    "body": "Fix https://github.com/wesnoth/wesnoth/issues/10225 issue. if for example, someone has fun giving a special [chance_to_hit] an id=poison, then the target will be poisoned once hit, this PR solves this problem",
    "files": [
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/poison_id_no_work.cfg"
      },
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      },
      {
        "filename": "wml_test_schedule"
      }
    ],
    "commits_messages": [
      "fix id=poison can poison opponent same if in another type of special\n\nFix https://github.com/wesnoth/wesnoth/issues/10225 issue.\nif for example, someone has fun giving a special [chance_to_hit] an id=poison, then the target will be poisoned once hit, this PR solves this problem",
      "add wml test"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10226"
  },
  {
    "number": 10218,
    "title": "Add a 'radius' attribute to [affect adjacent] to allow abilities to affect distant units on the map",
    "labels": [
      "Unit Tests",
      "Units",
      "Schema",
      "Campaign DiD"
    ],
    "body": "This way, distant units can be checked without going through a different subtag.",
    "files": [
      {
        "filename": "changelog_entries/add_affect_distant.md"
      },
      {
        "filename": "data/campaigns/Descent_Into_Darkness/utils/abilities.cfg"
      },
      {
        "filename": "data/schema/game_config.cfg"
      },
      {
        "filename": "data/schema/units/abilities.cfg"
      },
      {
        "filename": "data/test/macros/start_position_separate_keep_a_b_c_d.cfg"
      },
      {
        "filename": "data/test/macros/start_position_two_keep_a_b_c_d.cfg"
      },
      {
        "filename": "data/test/macros/unit_setup.cfg"
      },
      {
        "filename": "data/test/maps/4p_two_castles.map"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_active_with_second_ability.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_direction_active.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_direction_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_filter_special_match.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_filter_special_no_match.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_inactive.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_inactive_with_second_ability.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_leadership_filter_weapon_match.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_leadership_filter_weapon_no_match.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_special_id_active_match.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/affect_distant_special_id_active_no_match.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/attacks/attacks_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/berserk/berserk_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/chance_to_hit/chance_to_hit_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/damage/damage_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/disable/disable_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/drains/drains_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/firststrike/firststrike_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heal_on_hit/heal_on_hit_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/heals/heal_affect_allies_distant.cfg"
      },
      {
        "filename": "data/test/scenarios/wml_tests/UnitsWML/AbilitiesWML/illuminates/illuminates_affect_allies_distant.cfg"
      }
    ],
    "commits_messages": [
      "Add a 'radius' attribute to [affect adjacent] to allow abilities to affect distant units on the map\n\nThis way, remote units can be checked without going through a different subtag.",
      "add wml test\n\nadd wml test for all abilities/abilities like weapons except for skirmiher and teleport because result will be not concluant",
      "use directly int dir instead of optional\n\nlike this and u exit ever, it's uniuse to use optionnal<int>",
      "make some correction",
      "use find() for affect_distant()"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10218"
  },
  {
    "number": 10231,
    "title": "Playturn Network Adapter: remove unused functions",
    "labels": [
      "Network"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/playturn_network_adapter.cpp"
      },
      {
        "filename": "src/playturn_network_adapter.hpp"
      }
    ],
    "commits_messages": [
      "Playturn Network Adapter: remove unused functions"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10231"
  },
  {
    "number": 10205,
    "title": "Separate out GUI logic and handle more curl errors",
    "labels": [
      "Network"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/network_download_file.cpp"
      },
      {
        "filename": "src/network_download_file.hpp"
      }
    ],
    "commits_messages": [
      "Handle error early for easier code readability",
      "Separate out GUI logic and handle more curl errors"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10205"
  },
  {
    "number": 10215,
    "title": "Reinstate const modifiers to keep player_connections key constraints protected",
    "labels": [
      "MP"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/server/wesnothd/player.hpp"
      }
    ],
    "commits_messages": [
      "Reinstate const modifiers to keep player_connections key constraints protected"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10215"
  },
  {
    "number": 10223,
    "title": "Chat Handler: use std::chrono over C time API",
    "labels": [
      "AI",
      "UI",
      "Lua API",
      "WFL"
    ],
    "body": "The chrono work continues. Besides misc changes and some things still using SDL_GetTicks, this should be the last of the big chrono batch changes.",
    "files": [
      {
        "filename": "src/ai/contexts.cpp"
      },
      {
        "filename": "src/ai/formula/ai.cpp"
      },
      {
        "filename": "src/chat_command_handler.cpp"
      },
      {
        "filename": "src/chat_events.cpp"
      },
      {
        "filename": "src/chat_events.hpp"
      },
      {
        "filename": "src/display_chat_manager.cpp"
      },
      {
        "filename": "src/display_chat_manager.hpp"
      },
      {
        "filename": "src/floating_textbox.cpp"
      },
      {
        "filename": "src/formula/function.cpp"
      },
      {
        "filename": "src/game_events/pump.cpp"
      },
      {
        "filename": "src/gui/dialogs/lua_interpreter.cpp"
      },
      {
        "filename": "src/gui/widgets/chatbox.cpp"
      },
      {
        "filename": "src/gui/widgets/chatbox.hpp"
      },
      {
        "filename": "src/menu_events.cpp"
      },
      {
        "filename": "src/menu_events.hpp"
      },
      {
        "filename": "src/playmp_controller.cpp"
      },
      {
        "filename": "src/playsingle_controller.cpp"
      },
      {
        "filename": "src/replay.cpp"
      },
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      },
      {
        "filename": "src/scripting/lua_common.cpp"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      },
      {
        "filename": "src/whiteboard/manager.cpp"
      }
    ],
    "commits_messages": [
      "Chat Handler: use std::chrono over C time API"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10223"
  },
  {
    "number": 9683,
    "title": "1.19 Partial reversion of boats, reorganization of new generation",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "This is to revert (partially or fully) recent changes to the old boats, leaving them as fake units, and allow new ships to be free of their influence.\r\n\r\nThis is the current state of affairs:\r\n![Screenshot_20241229_ships](https://github.com/user-attachments/assets/7a620a35-f72a-442e-b90a-f5f44d1c3537)\r\n\r\nKnown To Do:\r\n\r\n - [ ]  ~Coherent plan for unit balance - the precise details don't necessarily need to be finalized here, but a general plan that could affect sprites and animations should be completed.~\r\n - [ ] ~Transport Ship vs Pirate ship differentiation~\r\n - [x] Orc ship\r\n - [ ] ~Elf Ship~\r\n - [x] Undead Ship\r\n - [ ] ~Dwarf Ship~\r\n - [x]  Primitive ship/barge (for saurians, ogres, etc.)\r\n\r\nMore variety is better (e.g. orcish skiff) but one of each main race makes sense a minimum.\r\n\r\nEDIT:  This PR scope was too much, I need to reduce it.  The dropped components will still be addressed, just not here and now.\r\n![Screenshot_20250413_](https://github.com/user-attachments/assets/b1288c91-fbb5-4c66-892d-170a8beba181)\r\nEDIT2: Orcish ships now have the basic requirements.  Descriptions and unit balance are almost nonexistent, but that can be done in a subsequent PR.",
    "files": [
      {
        "filename": "data/core/images/portraits/transport/canoe.webp"
      },
      {
        "filename": "data/core/images/portraits/transport/ghost-ship.webp"
      },
      {
        "filename": "data/core/images/portraits/transport/orcish-barge.webp"
      },
      {
        "filename": "data/core/images/portraits/transport/raft.webp"
      },
      {
        "filename": "data/core/images/portraits/transport/rigship.webp"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-flag1.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-flag2.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-flag3.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-fog1.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-fog2.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-fog3.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-fog4.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-hit1.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-hit2.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-rock-center.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-rock-port.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-rock-port2.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-rock-starboard.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship-rock-starboard2.png"
      },
      {
        "filename": "data/core/images/units/transport/ghost-ship.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge-bob1.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge-bob2.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge-bob3.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge-hit1.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge-hit2.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge-move.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/barge.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/battle-barge-attack1.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/battle-barge-attack2.png"
      },
      {
        "filename": "data/core/images/units/transport/orc/battle-barge-attack3.png"
      }
    ],
    "commits_messages": [
      "keep original four boats as fake units",
      "draft reorganization of newer ships",
      "skiff reversion",
      "Adding canoe unit type",
      "Adding raft unit type",
      "updates to raft and canoe",
      "some Ghost Ship animation adjustments",
      "initial (incomplete) animations for orcish barge",
      "some cleanup",
      "reconcile minor merge conflict, hopefully",
      "try again to reconcile minor merge conflict",
      "orc ships and general cleanup",
      "orc barge portrait",
      "battle-barge animations",
      "ghost ship portrait",
      "orcish rigship animations",
      "wmlindent",
      "orcish ships graphics",
      "fix rigship defense animation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9683"
  },
  {
    "number": 10216,
    "title": "Ships clean-up",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "This is to clean up the new ship units' move-types, alignments, names, and small graphics issues.  Getting the other specifications fleshed out will take more feedback on the usage, it will need to be a different PR.",
    "files": [
      {
        "filename": "data/core/images/scenery/boat.png"
      },
      {
        "filename": "data/core/images/scenery/galleon.png"
      },
      {
        "filename": "data/core/images/units/transport/Ship_ColorMap.png"
      },
      {
        "filename": "data/core/units.cfg"
      },
      {
        "filename": "data/core/units/boats/Canoe.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      },
      {
        "filename": "data/core/units/boats/Legacy_Boat.cfg"
      },
      {
        "filename": "data/core/units/boats/Legacy_Galleon.cfg"
      },
      {
        "filename": "data/core/units/boats/Legacy_Pirate_Galleon.cfg"
      },
      {
        "filename": "data/core/units/boats/Legacy_Transport_Galleon.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Rigship.cfg"
      },
      {
        "filename": "data/core/units/boats/Orc_Warship.cfg"
      },
      {
        "filename": "data/core/units/boats/Pirate_Galleon.cfg"
      },
      {
        "filename": "data/core/units/boats/Raft.cfg"
      },
      {
        "filename": "data/core/units/boats/Skiff.cfg"
      },
      {
        "filename": "data/core/units/boats/Transport_Galleon.cfg"
      },
      {
        "filename": "images/icons/unit-groups/race_ship_30-pressed.png"
      },
      {
        "filename": "images/icons/unit-groups/race_ship_30.png"
      }
    ],
    "commits_messages": [
      "restore legacy boats/galleons to blurry images and no animations, remove SEPIA tint",
      "more cleanup",
      "ship movetype and alignment clean-up",
      "update Ship ColorMap",
      "minimal XMP metadata for PNGs"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10216"
  },
  {
    "number": 10221,
    "title": "Consistently mark move operations noexcept",
    "labels": [
      "UI",
      "Units",
      "Lua API",
      "WFL",
      "Terrain"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/config.cpp"
      },
      {
        "filename": "src/config.hpp"
      },
      {
        "filename": "src/formula/formula.hpp"
      },
      {
        "filename": "src/game_events/manager_impl.hpp"
      },
      {
        "filename": "src/gui/core/top_level_drawable.cpp"
      },
      {
        "filename": "src/gui/core/top_level_drawable.hpp"
      },
      {
        "filename": "src/hotkey/hotkey_command.hpp"
      },
      {
        "filename": "src/map/label.cpp"
      },
      {
        "filename": "src/map/label.hpp"
      },
      {
        "filename": "src/picture.hpp"
      },
      {
        "filename": "src/scripting/lua_terrainfilter.hpp"
      },
      {
        "filename": "src/teambuilder.hpp"
      },
      {
        "filename": "src/terrain/translation.hpp"
      },
      {
        "filename": "src/theme.cpp"
      },
      {
        "filename": "src/theme.hpp"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/attack_type.hpp"
      },
      {
        "filename": "src/units/filter.hpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "Consistently mark move operations noexcept"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10221"
  },
  {
    "number": 10193,
    "title": "TDG: difficulty adjustment",
    "labels": [
      "Achievements",
      "Campaign TDG"
    ],
    "body": "The Deceiver's Gambit\r\n- Easy and Normal difficulties are now more challenging\r\n- Delfador now references Elende's prophecy much more in Part II\r\n- Numerous minor dialogue changes, scenario tweaks, and bug fixes",
    "files": [
      {
        "filename": "changelog_entries/tdg_difficulty_adjustment.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/achievements.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/05_The_Deceiver.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/06_Ring_of_Swords.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/08_Ruins_of_Saurgrath.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/11_Clan_Blackcrest.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/11b_Clan_Blackcrest.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/13_Revelry_Revisited.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/13b_Revelry_Revisited.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/14_Long_Live_the_Queen.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/14b_Long_Live_the_Queen.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/maps/14c_Long_Live_the_Queen.map"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/00_Graduation.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/01_Stirrings_of_War.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/02_Fort_Garard.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/03_The_Ambassador.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/04_The_Sylvan_Seer.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/05_The_Deceiver.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/06_Ring_of_Swords.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/07_The_Great_River.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/08_Ruins_of_Saurgrath.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/09_Omaranth.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/10_Houses_of_the_Dead.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/11_Clan_Blackcrest.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/11x_Revelry.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/12_The_Traitor.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/13_Revelry_Revisited.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/13x_The_King_is_Dead.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/14_Long_Live_the_Queen.cfg"
      }
    ],
    "commits_messages": [
      "TDG S01: dialogue tweak",
      "TSG S04: difficulty adjustment",
      "TDG S00: difficulty tweak",
      "TDG main: difficulty adjustment",
      "TDG unified_characters: difficulty adjustment",
      "TDG S01: difficulty adjustment",
      "TDG S02: difficulty adjustment",
      "TDG S03: difficulty adjustments",
      "TDG S05: difficulty adjustment",
      "TDG S06: difficulty adjustment",
      "TDG S03: difficulty adjustments",
      "TDG S05: smoother transition to S06",
      "TDG S06: smoother transition from S05",
      "TDG macros.cfg: add {CUTSCENE_ENEMIES_RETREAT} macro",
      "Update unified_characters.cfg",
      "Update _main.cfg",
      "TDG S03: revise achievement",
      "TDG S03: revise achievement",
      "Add files via upload",
      "Add files via upload",
      "Add files via upload",
      "Update 06_Ring_of_Swords.cfg",
      "Update 00_Graduation.cfg",
      "Update 04_The_Sylvan_Seer.cfg",
      "Update 06_Ring_of_Swords.cfg",
      "Update 08_Ruins_of_Saurgrath.cfg",
      "Update spellcasting.cfg",
      "Update 04_The_Sylvan_Seer.cfg",
      "Update 05_The_Deceiver.cfg",
      "Update spellcasting.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10193"
  },
  {
    "number": 10213,
    "title": "Units Dialog: support marking units as favorite",
    "labels": [
      "UI",
      "Units"
    ],
    "body": "Resolves #7733\r\n\r\nAdds a new button to the Units List and Recall dialog using which units can be marked as favorite. Favorite unis are shown (for now) with a white filled star in the leading column, while rest are shown with unfilled white star.\r\n\r\n![Screenshot from 2025-05-19 10-01-47](https://github.com/user-attachments/assets/11bc58ea-2cbe-4838-9e90-514614670ef1)\r\n![Screenshot from 2025-05-19 10-01-24](https://github.com/user-attachments/assets/0b767545-eba6-4f2a-9777-1972f44f1cec)\r\n",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/gui/themes/default/dialogs/units_dialog.cfg"
      },
      {
        "filename": "src/gui/dialogs/units_dialog.cpp"
      },
      {
        "filename": "src/gui/dialogs/units_dialog.hpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "units dialog: support marking units as favorite"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10213"
  },
  {
    "number": 10188,
    "title": "Fix some linter issues relating to move/const refs",
    "labels": [
      "AI",
      "MP",
      "Units",
      "Add-ons"
    ],
    "body": "Specifically, this redeclares some parameters as const references when those parameters are only used in a const way. It also removes std::move from being used on those parameters as you cannot move a const ref. Finally, it also adds std::move when necessary.\r\n\r\nI'm not sure why these got missed but they appear as errors on my own machine.",
    "files": [
      {
        "filename": "src/ai/lua/core.cpp"
      },
      {
        "filename": "src/server/common/server_base.cpp"
      },
      {
        "filename": "src/server/common/server_base.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      },
      {
        "filename": "src/units/filter.hpp"
      }
    ],
    "commits_messages": [
      "Fix some linter issues relating to move/const refs\n\nSpecifically, this redeclares some parameters as const references when\nthose parameters are only used in a const way. It also removes std::move\nfrom being used on those parameters as you cannot move a const ref.\nFinally, it also adds std::move when necessary."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10188"
  },
  {
    "number": 10204,
    "title": "Adjust loading screen to current code",
    "labels": [
      "UI"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/play_controller.cpp"
      },
      {
        "filename": "src/playsingle_controller.cpp"
      }
    ],
    "commits_messages": [
      "Remove odd newline",
      "Adjust loading screen progress messages to the current state of the loading code"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10204"
  },
  {
    "number": 10211,
    "title": "GUI2/Network Transmission: refinements",
    "labels": [
      "UI"
    ],
    "body": "- Remove unnecessary invalidate_layout call\r\n- Fix progress bar sometimes not filling up when completed\r\n- Allow final progress stage to display\r\n- Use a pointer instead of optional_reference",
    "files": [
      {
        "filename": "src/gui/dialogs/network_transmission.cpp"
      },
      {
        "filename": "src/gui/dialogs/network_transmission.hpp"
      }
    ],
    "commits_messages": [
      "GUI2/Network Transmission: refinements\n\n- Remove unnecessary invalidate_layout call\n- Fix progress bar sometimes not filling up when completed\n- Allow final progress stage to display\n- Use a pointer instead of optional_reference",
      "Fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10211"
  },
  {
    "number": 10209,
    "title": "Wesnothd: avoid unnecessary copy of new player object",
    "labels": [
      "MP"
    ],
    "body": "- Use emplace when adding entry to player_connections_\r\n- Remove const members from `player` to allow implicit move ctor to work\r\n- Take `player` by rvalue reference in `player_record`",
    "files": [
      {
        "filename": "src/server/wesnothd/player.hpp"
      },
      {
        "filename": "src/server/wesnothd/player_connection.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      }
    ],
    "commits_messages": [
      "Wesnothd: avoid unnecessary copy of new player object\n\n- Use emplace when adding entry to player_connections_\n- Remove const members from `player` to allow implicit move ctor to work\n- Take `player` by rvalue reference in `player_record`",
      "Forgot the std::move",
      "Construct player directly in player_record"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10209"
  },
  {
    "number": 10179,
    "title": "1.19 Elf Ships",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "First draft of the first one for now, at least one more planned.  \r\n\r\nDepending on how long that takes, this might also be a good time to clean up the organization and naming scheme.",
    "files": [
      {
        "filename": "data/core/images/portraits/transport/elf-ship.webp"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-bob1.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-bob2.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-bob3.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-flag1.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-flag2.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-flag3.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-hit1.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter-hit2.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/cutter.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-bob1.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-bob2.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-bob3.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-bob4.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-bob5.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-flag1.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-flag2.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-flag3.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-hit1.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop-hit2.png"
      },
      {
        "filename": "data/core/images/units/transport/elven/sloop.png"
      },
      {
        "filename": "data/core/units/boats/Elf_Cutter.cfg"
      },
      {
        "filename": "data/core/units/boats/Elf_Sloop.cfg"
      }
    ],
    "commits_messages": [
      "first draft of elf cutter ship",
      "Elvish Sloop",
      "wmlindent"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10179"
  },
  {
    "number": 10202,
    "title": "Handle boost process defaulting to v2 and add missing include",
    "labels": [
      "Building",
      "Stable 1.18"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/game_launcher.cpp"
      }
    ],
    "commits_messages": [
      "Handle boost process defaulting to v2 and add missing include"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10202"
  },
  {
    "number": 10138,
    "title": "label inline link mechanism code simplification",
    "labels": [
      "UI"
    ],
    "body": "Also fixes non-left aligned inline links having wrong link click bounds. (resolves #8915)\r\n\r\nNote: I came upon the solution accidentally while doing some cleanup. Fix is:\r\nhttps://github.com/wesnoth/wesnoth/blob/4976f0a3f8cb6d5d10f608fbcb220fa36cabffce/src/gui/widgets/styled_widget.cpp#L560-L567",
    "files": [
      {
        "filename": "src/font/text.cpp"
      },
      {
        "filename": "src/font/text.hpp"
      },
      {
        "filename": "src/gui/widgets/label.cpp"
      },
      {
        "filename": "src/gui/widgets/rich_label.hpp"
      },
      {
        "filename": "src/gui/widgets/styled_widget.cpp"
      },
      {
        "filename": "src/gui/widgets/styled_widget.hpp"
      }
    ],
    "commits_messages": [
      "label inline link mechanism code simplification\n\nalso fixes non-left aligned inline links having wrong link click bounds. (#8915)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10138"
  },
  {
    "number": 10203,
    "title": "CMake: use add_compile_definitions",
    "labels": [
      "Building",
      "CMake"
    ],
    "body": null,
    "files": [
      {
        "filename": "CMakeLists.txt"
      }
    ],
    "commits_messages": [
      "CMake: use add_compile_definitions"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10203"
  },
  {
    "number": 10201,
    "title": "Simple WML: remove unused function with infinite loop",
    "labels": [
      "MP",
      "Add-ons"
    ],
    "body": "Added in 2f95e5b43d47bebed3fdf636e867ea7458a56f94 and unchanged since. Was unused then, unused now, doesn't actually seem to insert anything, and is an infinite loop.",
    "files": [
      {
        "filename": "src/server/common/simple_wml.cpp"
      },
      {
        "filename": "src/server/common/simple_wml.hpp"
      }
    ],
    "commits_messages": [
      "Simple WML: remove unused function with no-exit loop\n\nAdded in 2f95e5b43d47bebed3fdf636e867ea7458a56f94 and unchanged since. Was unused then, unused now, doesn't actually seem to insert anything, and has no loop break."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10201"
  },
  {
    "number": 10184,
    "title": "Remove non-sensical get_dir calls",
    "labels": [
      "Engine"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/filesystem_common.cpp"
      }
    ],
    "commits_messages": [
      "Remove nonsensical get_dir calls"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10184"
  },
  {
    "number": 10199,
    "title": "update codeblock projectfiles",
    "labels": [
      "Building"
    ],
    "body": null,
    "files": [
      {
        "filename": "projectfiles/CodeBlocks/campaignd.cbp"
      },
      {
        "filename": "projectfiles/CodeBlocks/libraries.md"
      },
      {
        "filename": "projectfiles/CodeBlocks/tests.cbp"
      },
      {
        "filename": "projectfiles/CodeBlocks/wesnoth.cbp"
      },
      {
        "filename": "projectfiles/CodeBlocks/wesnothd.cbp"
      }
    ],
    "commits_messages": [
      "update codeblock projectfiles"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10199"
  },
  {
    "number": 10197,
    "title": "Fix width weirdness with add_overlay_text (1.18)",
    "labels": [
      "UI",
      "Lua API",
      "Stable 1.18"
    ],
    "body": "Closes #9591\r\n\r\nBack-port of 8ee2a2663451f1c68cc2ee76483f6c9f7340ac07",
    "files": [
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      }
    ],
    "commits_messages": [
      "Fix width weirdness with add_overlay_text\n\nCloses #9633\nFixes #9591\n\nThis could also have been fixed by simply adjust the clip rect origin on left alignment (such an adjustment was present for the other alignments), but honestly there's no reason to be messing with the clip rect here when we can set the width directly. The floating_label internals would set the maximum text width to clip rect if no max with was otherwise specified.\n\n(cherry picked from commit 8ee2a2663451f1c68cc2ee76483f6c9f7340ac07)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10197"
  },
  {
    "number": 10194,
    "title": "(1.18) Implement <img> scale= attribute into the Help system markup and use it for unit portraits",
    "labels": [
      "UI",
      "Help",
      "Stable 1.18"
    ],
    "body": "Firstly, this patch adds an `<img> scale=` attribute that allows the user to express rendering intent for images that have been transformed via `~SCALE_INTO()` and similar IPFs. When this attribute is used, the UI shrinks the image's draw size accordingly so that the final result does not get upscaled according to the screen's pixel scale *again*, which can result in excessively blurry images on high pixel density screens (e.g. Apple Retina).\r\n\r\nSecondly, this makes the unit type page generator convey the scale information in `<img>`, since it's the generator and not the rendering code that's currently in charge of picking the correct numbers for scaling portraits up according to the display device's properties.\r\n\r\nThis all fixes a major issue on high pixel density screens where the previous fixes for portrait upscaling quality and extents would cause the portraits to be upscaled again on render, resulting in incredibly blurry results (undermining the intent of the original fix) and a massive lack of room for the unit description text due to half the dialog being occupied by the portrait.\r\n\r\n(Tested on a 2021 16\" MacBook Pro, both on the native panel and an external 1080p display. Additional testing would be very much welcome.)\r\n\r\n### Before\r\n<img width=\"1455\" alt=\"Screenshot 2025-05-12 at 10 57 09\" src=\"https://github.com/user-attachments/assets/2dd96c80-17b3-408e-a2be-5055755a827a\" />\r\n\r\n### After\r\n<img width=\"1455\" alt=\"Screenshot 2025-05-12 at 10 56 34\" src=\"https://github.com/user-attachments/assets/638aaa98-02e5-48b3-b814-5b0c56a0c2d3\" />",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/help/help_text_area.cpp"
      },
      {
        "filename": "src/help/help_text_area.hpp"
      },
      {
        "filename": "src/help/help_topic_generators.cpp"
      }
    ],
    "commits_messages": [
      "help: Implement <img> scale= attribute and use it for unit portraits\n\nFirstly, this patch adds an <img> scale= attribute that allows the user\nto express rendering intent for images that have been transformed via\n~SCALE_INTO() and similar IPFs. When this attribute is used, the UI\nshrinks the image's draw size accordingly so that the final result does\nnot get upscaled according to the screen's pixel scale *again*, which\ncan result in excessively blurry images on high pixel density screens\n(e.g. Apple Retina).\n\nSecondly, this makes the unit type page generator convey the scale\ninformation in <img>, since it's the generator and not the rendering\ncode that's currently in charge of picking the correct numbers for\nscaling portraits up according to the display device's properties.\n\nThis all fixes a major issue on high pixel density screens where the\nprevious fixes for portrait upscaling quality and extents would cause\nthe portraits to be upscaled again on render, resulting in incredibly\nblurry results (undermining the intent of the original fix) and a\nmassive lack of room for the unit description text due to half the\ndialog being occupied by the portrait."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10194"
  },
  {
    "number": 10175,
    "title": "Use boost::process::v2 on 1.86 and later",
    "labels": [
      "Building",
      "Packaging",
      "SCons",
      "CMake"
    ],
    "body": "Resolves #10174. There doesn't seem to be a straight replacement for `process::process_error`, so I'm just going for a catch all `std::exception`.",
    "files": [
      {
        "filename": "CMakeLists.txt"
      },
      {
        "filename": "SConstruct"
      },
      {
        "filename": "packaging/flatpak/org.wesnoth.Wesnoth.json"
      },
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/game_launcher.cpp"
      },
      {
        "filename": "utils/dockerbuilds/CI/Dockerfile-base-steamrt"
      }
    ],
    "commits_messages": [
      "Use boost::process::v2 on 1.81 and later\n\nExcept on MacOS, since MacCompileStuff needs to be updated manually...",
      "fixup",
      "let's try 86 again"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10175"
  },
  {
    "number": 10186,
    "title": "Improve the performance of wildcard_string_match",
    "labels": [
      "Engine"
    ],
    "body": "Completely rewrote the function to be 2-5x faster in most cases. Fixed a passing test case that should have failed and added a few more cases.",
    "files": [
      {
        "filename": "src/serialization/string_utils.cpp"
      },
      {
        "filename": "src/serialization/string_utils.hpp"
      },
      {
        "filename": "src/tests/test_serialization.cpp"
      }
    ],
    "commits_messages": [
      "Improve the performance of wildcard_string_match\n\nCompletely rewrote the function to be 2-5x faster in most cases.\nFixed a passing test case that should have failed and added a few more cases.",
      "Add more interesting test cases"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10186"
  },
  {
    "number": 10189,
    "title": "TSG S06: add tip about building a recall list",
    "labels": [
      "Graphics",
      "Campaign TSG"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/images/tutor/roster.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_help.cfg"
      }
    ],
    "commits_messages": [
      "Update sg_help.cfg",
      "Add files via upload",
      "Merge branch 'wesnoth:master' into tsg-building-an-army-tip",
      "Update sg_help.cfg",
      "Update sg_help.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10189"
  },
  {
    "number": 10166,
    "title": "filesystem: simplify to_asset_path",
    "labels": [
      "UI",
      "Editor"
    ],
    "body": "Uses `boost::filesystem::path` and the `filesystem::is_prefix` method to improve the `filesystem::to_asset_path` method, hopefully improving cross-platform compatibility.\r\n\r\nResolves #9579\r\n",
    "files": [
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/filesystem.hpp"
      },
      {
        "filename": "src/gui/dialogs/editor/custom_tod.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/edit_unit.cpp"
      },
      {
        "filename": "src/tests/test_filesystem.cpp"
      }
    ],
    "commits_messages": [
      "filesystem: simplify to_asset_path, use is_prefix for checking",
      "add tests for to_asset_path",
      "actually check if the file exists before returning yes",
      "move last if into else clause, use better names",
      "Move copy to addon logic fully to caller\n\npreviously, part of it was inside `filesystem::to_asset_path()`",
      "update tests"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10166"
  },
  {
    "number": 9566,
    "title": "fix #9561 OOS when undoingin multiplayer",
    "labels": [
      "Engine"
    ],
    "body": "previously in `undoable_action->undo(side_) ` the undo stack was not in sync with the relpay stack becasue the code called `undos_.pop_back();` before that and `resources::recorder->undo_cut` after that, this could confuse the code which sends replay commands to the other clients.",
    "files": [
      {
        "filename": "src/actions/undo.cpp"
      }
    ],
    "commits_messages": [
      "fix #9561 OOS when undoingin multiplayer\n\npreviously in `undoable_action->undo(side_) ` the undo stack was not in sync with the relpay stack becasue the code called `undos_.pop_back();` before that and `resources::recorder->undo_cut` after that, this could confuse the code which sends replay commands to the other clients."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9566"
  },
  {
    "number": 9033,
    "title": "Add -r option to add_source_file fix #8733",
    "labels": [
      "Building"
    ],
    "body": "I think the title is self explaining.\r\n\r\nWhen i tested this, it removed unexpected things from the xcode projectfile, butim assuming its just that opening tthe pjects with the lib and hen closing them removes unsed stuff? Not fully sure\r\n\r\nAlso im unsure wheterh the option should be -d or -r",
    "files": [
      {
        "filename": "add_source_file"
      }
    ],
    "commits_messages": [
      "Add -r option to add_source_file fix #8733",
      "implement suggested change",
      "f prev"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9033"
  },
  {
    "number": 9656,
    "title": "Fix #9651 Error in u:extract()",
    "labels": [
      "Lua API"
    ],
    "body": "This logic seems inverted, this probably happened while the lua attributes were converted to use the LATTR_SETTER macros.",
    "files": [
      {
        "filename": "src/scripting/lua_unit.cpp"
      }
    ],
    "commits_messages": [
      "Fix #9651 Error in u:extract()\n\nThis logic seems inverted, this probably happened while the lua attributes were converted to use the LATTR_SETTER macros."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9656"
  },
  {
    "number": 9350,
    "title": "Expand Lua plugin API",
    "labels": [
      "macOS",
      "AI",
      "Docs",
      "Unit Tests",
      "UI",
      "Units",
      "Lua API",
      "Building",
      "WFL"
    ],
    "body": "This expands the Lua plugin API to allow a plugin to play a single-player campaign.",
    "files": [
      {
        "filename": "data/lua/core/plugin.lua"
      },
      {
        "filename": "data/test/plugin/host.lua"
      },
      {
        "filename": "data/test/plugin/join.lua"
      },
      {
        "filename": "data/test/plugin/start-campaign.lua"
      },
      {
        "filename": "doc/man/wesnoth.6"
      },
      {
        "filename": "projectfiles/CodeBlocks/tests.cbp"
      },
      {
        "filename": "projectfiles/Xcode/The Battle for Wesnoth.xcodeproj/project.pbxproj"
      },
      {
        "filename": "projectfiles/Xcode/The Battle for Wesnoth.xcodeproj/xcshareddata/xcschemes/The Battle for Wesnoth.xcscheme"
      },
      {
        "filename": "source_lists/boost_unit_tests"
      },
      {
        "filename": "src/ai/lua/core.cpp"
      },
      {
        "filename": "src/commandline_options.cpp"
      },
      {
        "filename": "src/commandline_options.hpp"
      },
      {
        "filename": "src/game_launcher.cpp"
      },
      {
        "filename": "src/game_launcher.hpp"
      },
      {
        "filename": "src/gui/dialogs/campaign_selection.cpp"
      },
      {
        "filename": "src/gui/dialogs/campaign_selection.hpp"
      },
      {
        "filename": "src/gui/dialogs/loading_screen.cpp"
      },
      {
        "filename": "src/gui/dialogs/modal_dialog.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_join_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/sp_options_configure.cpp"
      },
      {
        "filename": "src/lexical_cast.hpp"
      },
      {
        "filename": "src/play_controller.cpp"
      },
      {
        "filename": "src/play_controller.hpp"
      },
      {
        "filename": "src/playsingle_controller.hpp"
      },
      {
        "filename": "src/scripting/application_lua_kernel.cpp"
      },
      {
        "filename": "src/scripting/application_lua_kernel.hpp"
      },
      {
        "filename": "src/scripting/lua_common.cpp"
      },
      {
        "filename": "src/scripting/lua_common.hpp"
      },
      {
        "filename": "src/scripting/lua_kernel_base.cpp"
      }
    ],
    "commits_messages": [
      "I don't really get it, but this fixes my build, so I'll go with it.",
      "Lua API: Enable plugins to play a campaign\n\nThis also fixes some issues that can prevent a plugin from working with the GUI (that is, only working in headless mode). Plugins should work in both headless and GUI mode.",
      "Lua API: Avoid looking up the requested scenario twice",
      "Lua API: The plugin events list is now a proper WML table, with the tags being named tuples",
      "Lua API: Add a new plugin module with some useful functions for plugins",
      "Update host.lua and join.lua in light of recent changes\n\n* Use the wesnoth.plugin module\n* Use .tag and .contents instead of [1] and [2]\n* Remove superfluous parentheses on function calls",
      "Make enable_lua_ptr movable and non-copyable",
      "Output the ID of the dialog being skipped in case it's not actually a leader select dialog",
      "mp_join_game should not be skippable",
      "Lua API: Add a valid key to the plugin context and info tables\n\nPreviously the only way to tell they were valid would be a protected call on an existing member.",
      "Lua API: Fix some places that weren't handling strings correctly.\n\nLua strings can contain nulls. The affected places would truncate such strings.",
      "Lua API: Correct __metatable for wesnoth.preferences",
      "Add a debugging function that prints out the contents of the Lua stack",
      "Lua API: Plugins can now execute gamestate code once they are in the game context.",
      "Lua API: Make wesnoth.game_config.debug writable in plugins",
      "Lua API: ai.get_suitable_keep now returns integers instead of real numbers",
      "Lua API: Some enhancements/fixes to named tuples.\n\n* Make named tuples comparable with == and ~=\n* Fix the possibility of the numeric and string keys becoming out-of-syn on assignment\n* Fix non-existent numeric keys being treated like a string key",
      "Lua API: Plugin execute functionality now supports named tuples in the closure",
      "Lua API: Add synced_command and end_turn actions to the Game plugin context",
      "Add a sample Lua plugin that starts TSG, plays one turn, and then exits.",
      "Lua API: Delete the --script command-line option\n\nThis is basically superceded by --plugin\nThough it's supposed to be a script that can control the client, that capability doesn't actually exist in the implementation.",
      "Add --plugin option to the Xcode scheme",
      "Address review comment about API function parameter name"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9350"
  },
  {
    "number": 9842,
    "title": "Fix #9834 error after reloading after taking village",
    "labels": [
      "Engine"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/actions/move.cpp"
      },
      {
        "filename": "src/actions/undo_action.cpp"
      }
    ],
    "commits_messages": [
      "Fix #9834 error after reloading after taking village",
      "improve error handling in case of an invalid undo action type",
      "f p",
      "f p"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9842"
  },
  {
    "number": 10028,
    "title": "Revert \"Use the alternative Troll Hero profile as a profile for the Great Troll\"",
    "labels": [
      "Units"
    ],
    "body": "Reverts wesnoth/wesnoth#10025",
    "files": [
      {
        "filename": "data/core/units/trolls/Great.cfg"
      }
    ],
    "commits_messages": [
      "Revert \"Use troll-hero-alt.webp portrait for Great Troll (#10025)\"\n\nThis reverts commit 9737595d959b494a1ae41a5a28fc2fcbda43aa27."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10028"
  },
  {
    "number": 10185,
    "title": "Spaceship operator for light_adjust",
    "labels": [
      "Building"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/picture.cpp"
      },
      {
        "filename": "src/picture.hpp"
      }
    ],
    "commits_messages": [
      "Spaceship!"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10185"
  },
  {
    "number": 10100,
    "title": "Add server-side queues",
    "labels": [
      "MP",
      "UI",
      "Schema"
    ],
    "body": "---\r\n\r\nVery WIP, still needs cleanup, testing, and error handling for various possibilities.",
    "files": [
      {
        "filename": "data/game_presets.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/lobby_main.cfg"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      },
      {
        "filename": "src/game_initialization/multiplayer.cpp"
      },
      {
        "filename": "src/game_initialization/multiplayer.hpp"
      },
      {
        "filename": "src/game_initialization/playcampaign.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/queue_type.hpp"
      },
      {
        "filename": "src/server/wesnothd/game.cpp"
      },
      {
        "filename": "src/server/wesnothd/game.hpp"
      },
      {
        "filename": "src/server/wesnothd/player.cpp"
      },
      {
        "filename": "src/server/wesnothd/player.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.hpp"
      }
    ],
    "commits_messages": [
      "Add server-side queues",
      "ci",
      "ci",
      "handle removing players from queues in various cases",
      "communicate using queue id rather than scenario id",
      "leave queue button",
      "add reset_queues command",
      "handle updating/adding/removing queues with server confog reload",
      "auto-join an existing open queue game",
      "send as strings",
      "deduplicate some code",
      "fixup",
      "address feedback",
      "address feedback",
      "address feedback",
      "address comments",
      "."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10100"
  },
  {
    "number": 10122,
    "title": "SotBE S15: add AI support code",
    "labels": [
      "Enhancement",
      "Campaign SotBE"
    ],
    "body": "- essentially units will prefer sticking to enemy leader if player units are nearby\r\n- this makes the scenario less boring in the end when you just to kill a leader on a keep",
    "files": [
      {
        "filename": "data/campaigns/Son_Of_The_Black_Eye/scenarios/15_Civil_War.cfg"
      }
    ],
    "commits_messages": [
      "SotBE S15: add AI support code\n\n- essentially units will prefer sticking to enemy leader if player units are nearby\n- this makes the scenario less boring in the end when you just to kill a leader on a keep",
      "SotBE-S15: adjust turns\n\nas requested in feedback",
      "SotBE S15: run wmlindent"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10122"
  },
  {
    "number": 10147,
    "title": "Clang build fix backport",
    "labels": [
      "Building"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/display.cpp"
      },
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/hash.cpp"
      },
      {
        "filename": "src/picture.cpp"
      },
      {
        "filename": "src/picture.hpp"
      },
      {
        "filename": "src/serialization/base64.cpp"
      },
      {
        "filename": "src/serialization/base64.hpp"
      },
      {
        "filename": "src/tests/test_serialization.cpp"
      },
      {
        "filename": "src/utils/span.hpp"
      }
    ],
    "commits_messages": [
      "Added compat wrapper for std::span\n\nUses std::span when building against C++20, boost::span with Boost >= 1.78, and uses a copy\nof Boost's span implementation otherwise.",
      "Use utils::span for crypt encode/decode\n\nReplaces the non standard-compliant use of std::string_view<uint8_t> with the proper span type.\nResolves #10101, resolves #9546.",
      "backport of fix for #10101\n\nfixes #10101",
      "Don't keep a static light adjust list\n\nThis was an attempt at an optimization in line with the image vector class member, but it wasn't backed up by profiling. Better to optimize later if it's found to be needed.",
      "Use boost to hash lightmap range",
      "Store lightmap data keys explicitly\n\nApparently, using a hash could lead to potential collisions and the wrong surface being pulled."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10147"
  },
  {
    "number": 10151,
    "title": "scons: remove option to use c++20 on 1.18 branch",
    "labels": [
      "Building",
      "SCons"
    ],
    "body": "Only 1.19 has all the required changes for c++20, #10146\r\n\r\nOptions are cached, removing the option makes sure that it is not accidentally enabled after switching from the master branch.\r\n",
    "files": [
      {
        "filename": "SConstruct"
      }
    ],
    "commits_messages": [
      "scons: remove option to use c++20 on 1.18 branch\n\nOnly 1.19 has all the required changes for c++20.\n\nOptions are cached, removing the option makes sure that it is not\naccidentally enabled after switching from the master branch."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10151"
  },
  {
    "number": 10182,
    "title": "Store lightmap data keys explicitly",
    "labels": [
      "Graphics"
    ],
    "body": "Apparently, using a hash could lead to potential collisions and the wrong surface being pulled.",
    "files": [
      {
        "filename": "src/display.cpp"
      },
      {
        "filename": "src/picture.cpp"
      },
      {
        "filename": "src/picture.hpp"
      }
    ],
    "commits_messages": [
      "Store lightmap data keys explicitly\n\nApparently, using a hash could lead to potential collisions and the wrong surface being pulled."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10182"
  },
  {
    "number": 10181,
    "title": "Update .gitignore to ignore the LOCAL_APPDATA_FONTCONFIG_CACHE directory",
    "labels": [],
    "body": "- Creates itself on latest master for some reason.",
    "files": [
      {
        "filename": ".gitignore"
      }
    ],
    "commits_messages": [
      "Update .gitignore"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10181"
  },
  {
    "number": 10176,
    "title": "[1.18] Help topic logic improvement",
    "labels": [
      "Backport",
      "Editor",
      "Help"
    ],
    "body": "Backport of 53b08325e7729397859b476dcd8c306aa514cb27, 81a7ba55dfb0771e1e03110eb69c040849ef7de5 and 8a2515d428393012ec5562a7ec29fb24a5a6b1c9, with 1.18 specific adjustments. (The second commit was small so it was squished into the preceding one)",
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/help/help.cpp"
      },
      {
        "filename": "src/help/help.hpp"
      },
      {
        "filename": "src/reports.cpp"
      }
    ],
    "commits_messages": [
      "reports: correctly set help topic id for variation\n\ncloses #7107",
      "help: separate unit help page id generation logic\n\nalso includes some cleanup and collapses one-use small methods"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10176"
  },
  {
    "number": 10167,
    "title": "Fixed CMake build failure due to dependency on Boost CharConv",
    "labels": [
      "Building",
      "CMake"
    ],
    "body": "A fresh build on Manjaro Linux fails due to not including Boost::CharConv in the CMake build scripts. Adding the following patch fixes the issue.",
    "files": [
      {
        "filename": "CMakeLists.txt"
      },
      {
        "filename": "src/CMakeLists.txt"
      }
    ],
    "commits_messages": [
      "Fixed CMake build failure due to dependency on Boost CharConv",
      "Revert increased boost version requirement",
      "Make CharConv optional",
      "Rework the way Boost components are linked"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10167"
  },
  {
    "number": 10171,
    "title": "units_dialog.cpp: edit message text",
    "labels": [
      "Enhancement",
      "UI",
      "Prose",
      "Engine"
    ],
    "body": "To support the Great Horde mechanic in SotBE\r\nCloses #8265\r\nsupersedes #9887\r\n\r\nNote: Another non-engine alternative solution is modifying SotBE's Great Horde mechanics code itself. So, can do that if this does not fly either.",
    "files": [
      {
        "filename": "src/gui/dialogs/units_dialog.cpp"
      }
    ],
    "commits_messages": [
      "units_dialog.cpp: edit message text\n\nTo support the Great Horde mechanic in SotBE\nCloses #8265\nsupersedes #9887",
      "units_dialog.cpp: revise text on feedback"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10171"
  },
  {
    "number": 9958,
    "title": "Saurian Oracle tree palette cleanup",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "* Replaces semi-transparent staff swings of the Prophet with an opaque effect consistent with the Oracle sprites.\r\n* Fixes outlines and shading of the organic parts of the Prophet frames caused by the automatic recolor of the Oracle sprites. In particular, `#581802` was replaced with `#17212c` around legs, arms, head, and tail.\r\n* Replaces all colors outside of the saurian palette with the closest equivalents.\r\n* Restores a medium dark shade of green in the Oracle frames to be more in line with the original sprite. In particular, `#22d22f` from the original pre-1.16 frames was replaced with `#85d64f` rather than the darker `#3f8b34`.\r\n\r\nThis is something that I originally planned to do in #6911, but that PR was eventually merged as is. All images are optimized with `woptipng`.",
    "files": [
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-bob1.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-bob2.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-bob3.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-bob4.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-bob5.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-bob6.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-defend1.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-defend2.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-die1.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-die2.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-die3.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-die4.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-magic1.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-magic2.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-melee1.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-melee2.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-melee3.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-melee4.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-melee5.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-melee6.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run1.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run10.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run11.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run12.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run2.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run3.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run4.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run5.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run6.png"
      },
      {
        "filename": "data/core/images/units/saurians/oracle/oracle-ne-run7.png"
      }
    ],
    "commits_messages": [
      "Remove semi-transparent swings\n\nReplace semi-transparent weapon swings in saurian prophet\nmelee attack animation frames with effects consistent with\noracle.",
      "Fix saurian prophet outlines\n\nReplace #581802 with #17212c in outlines and shading\nof the organic parts. This fixes invalid coloring\ncaused by an automatic recolor of the oracle sprites.",
      "Remove semi-transparent pixels",
      "Replace colros outside of saurian palette",
      "Fix image metadata tag names"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9958"
  },
  {
    "number": 10169,
    "title": "Use boost to hash lightmap range",
    "labels": [],
    "body": "Supersedes and closes #10154. Confirmed this fixes at least one issue with ToD borders I noticed when testing with EI S2.\r\n\r\nAfter giving the problem more thought, I decided to just let boost handle the actual has implementation instead of trying to come up with a suitable one myself. This is consistent with the `image::locator` hash which also uses `boost::hash_combine`.\r\n\r\nI considered the feedback that suggests using the vector directly as a map key and relying on lexicographical comparison for cache lookup. That would require using a plain map instead of an unordered_map. As long as the cache uses an unordered map, a hash needs to come from *somewhere*, and using the span view (or even the vector itself) as a key would require specializing a range hash object. `boost::hash_range` provides a convenient method to implement such an object, for which the `hash_value` overload added here is required (`boost::hash` takes a different approach to customization than `std::hash`, which relies on specialization). In either case, a hash function for `light_adjust` is required. It seems wise to simply let boost handle the details of Good Hashing. Why call `hash_range` directly instead of using the span view as a map key? As I explained on Discord, it seems in contrast *unwise* to leave a bunch of pointers to freed memory sitting around in the cache.\r\n\r\nOne change I'm considering is whether it makes more sense to use `hash_unordered_range`. The order of `light_adjust`s is well-defined (always in ascending order by their `l` value, so perhaps it's not a practical consideration here. Semantically, though, swapping the order of the range elements shouldn't affect the hash...",
    "files": [
      {
        "filename": "src/picture.cpp"
      }
    ],
    "commits_messages": [
      "Use boost to hash lightmap range"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10169"
  },
  {
    "number": 10170,
    "title": "Use boost::unordered_flat_map for image caches",
    "labels": [],
    "body": "In testing, this change not only results in a noticeable improvement to map scrolling, but reduced cache access times across the board, sometimes by an order of magnitude. Given this is one of the most frequently hit codepaths, the little (and not-so-little) gains add up.\r\n\r\nThe locator hash remains unchanged, only moved to a static `hash_value` function in the `image` namespace, as `boost::hash` expects,",
    "files": [
      {
        "filename": "src/picture.cpp"
      },
      {
        "filename": "src/picture.hpp"
      }
    ],
    "commits_messages": [
      "Use boost::unordered_flat_map for image caches",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10170"
  },
  {
    "number": 10168,
    "title": "TDG: several dialogue and gameplay tweaks",
    "labels": [
      "Campaign TDG"
    ],
    "body": "- Various dialogue tweaks in Part II to better-resolve some of Part I's lingering plot threads.\r\n- S11: use simple_attack MAI for AI-vs-AI fighting, to reduce lag\r\n- S11: reduced number of Orcish Adepts/Shamans, and added a voiceline when one of them is attacked\r\n- S13: replaced Orcish Adepts/Shamans with regular cannon-fodder units.",
    "files": [
      {
        "filename": "changelog_entries/tgd_various_improvements.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/08_Ruins_of_Saurgrath.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/09_Omaranth.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/11_Clan_Blackcrest.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/11x_Revelry.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/13_Revelry_Revisited.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/13x_The_King_is_Dead.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/14_Long_Live_the_Queen.cfg"
      }
    ],
    "commits_messages": [
      "TDG S13: replace shamans with regular fodder units",
      "TDG S11: more valuable Shamans, and simple_attack MAI",
      "TDG S09: Delfador dialogue tweak",
      "TDG S11: dialogue tweaks",
      "TDG S08: add prophecy dialogue",
      "TDG S08: dialogue tweaks",
      "TDG S11x: dialogue tweaks",
      "TDG S13x: dialogue tweaks",
      "TDG S14: add some exposition",
      "TDG S14: dialogue tweaks",
      "Create tgd_various_improvements.md",
      "TDG S08: restore mistakenly overwritten changes",
      "TDG S11x: remove some unnecessary comments",
      "Merge branch 'wesnoth:master' into tdg-improvements",
      "Update 11_Clan_Blackcrest.cfg",
      "TDG S08: dialogue tweak",
      "TDG S14: dialogue tweak",
      "TDG S08: dialogue tweak",
      "Update 08_Ruins_of_Saurgrath.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10168"
  },
  {
    "number": 10165,
    "title": "Avoid translating entire table chunk in Help",
    "labels": [
      "Translations",
      "Prose",
      "Help"
    ],
    "body": "The individual table items are already translated separately.",
    "files": [
      {
        "filename": "data/core/help.cfg"
      }
    ],
    "commits_messages": [
      "Avoid translating entire table chunk in Help\n\nThe individual table items are already translated separately."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10165"
  },
  {
    "number": 10088,
    "title": "rich label: Use Pango Shape attributes to handle inline images",
    "labels": [
      "MP",
      "UI",
      "Editor",
      "Units",
      "Building",
      "Help",
      "SCons",
      "CMake",
      "Schema"
    ],
    "body": "This simplifies quite a bit of manual inline image processing in RL, as much of it is done by Pango.\r\n\r\n**TODO**\r\n- [x] Fix any new broken help pages\r\n- [x] Excessive space when newline is followed by inline image (worked around by always appending a zero width space (U+200B) in front of the image, no clue what's affecting pango's text size calculation)\r\n- [x] Implement `<clear/>`. This moves the text following a floating image below it, instead of the text wrapping beside the image.\r\n- [x] `<br/>` has been deleted. It's usecase is dealt with by a normal linebreak, and it was buggy.\r\n- [x] Default table alignment values: `valign=center` and `halign=left`, since that was the most widely used case.\r\n- [x] Package Pango 1.50 with Steam package (#10119)\r\n",
    "files": [
      {
        "filename": "CMakeLists.txt"
      },
      {
        "filename": "INSTALL.md"
      },
      {
        "filename": "SConstruct"
      },
      {
        "filename": "data/core/editor/help.cfg"
      },
      {
        "filename": "data/core/help.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/fps_report.cfg"
      },
      {
        "filename": "data/gui/themes/default/widgets/label_advanced_preferences.cfg"
      },
      {
        "filename": "data/gui/themes/default/widgets/label_help_topic.cfg"
      },
      {
        "filename": "data/multiplayer/factions/drakes-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/drakes-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/dunefolk-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/dunefolk-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/knalgans-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/knalgans-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/loyalists-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/loyalists-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/northerners-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/northerners-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/rebels-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/rebels-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/undead-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/undead-default.cfg"
      },
      {
        "filename": "data/schema/gui/generic.cfg"
      },
      {
        "filename": "src/draw.cpp"
      },
      {
        "filename": "src/font/attributes.cpp"
      },
      {
        "filename": "src/font/attributes.hpp"
      },
      {
        "filename": "src/font/text.cpp"
      },
      {
        "filename": "src/font/text.hpp"
      },
      {
        "filename": "src/gui/core/canvas.cpp"
      },
      {
        "filename": "src/gui/core/canvas_private.hpp"
      }
    ],
    "commits_messages": [
      "inline images via shape attribute",
      "fix: width/height -> text_width/text_height",
      "set line spacing via global pango attribute\n\notherwise this interferes with image shape rendering",
      "set linespacing in pango_text",
      "fixup: remove unnecessary include",
      "move set spacing to different place",
      "don't set line height global attr when not rich label",
      "help page update",
      "fix inline images being skipped, cleanup",
      "time of day page: use `valign='center'` in table rows",
      "remove baseline_correction",
      "help topic generator: add space between inline images and text",
      "add line spacing key and line height attr",
      "remove leftover code",
      "more cleanup",
      "rich label: set line height attribute",
      "use surface directly",
      "add space and linebreaks between inline image and text",
      "workaround for linebreak+inline image bug and cleanup",
      "editor help: add spacing",
      "rich label: set valign = center and halign = left as default\n\n(most tables look best with these values)",
      "help topic generator: add bgcolor to attacks table",
      "faction pages: replace <br/> with linebreak character",
      "rich label: add `clear` tag\n\ninspired by the CSS clear property, this shifts the text below the last floating image instead of wrapping it. Usefull for middle-aligned floats.",
      "delete `<br/>`\n\nIt's buggy and it's usecase is already dealt with by a normal linebreak.",
      "increase fps_report dialog height\n\n(otherwise can't show dialog)",
      "rich label: fix text positioning for left aligned floats",
      "remove const",
      "help: remove valign=center (default now)",
      "move underline setting for links to `render()`"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10088"
  },
  {
    "number": 9188,
    "title": "Revised Encyclopedia",
    "labels": [],
    "body": "Re-opened #9059 after some unexpected merge conflicts from force-pushing and accidently closing the PR. @Dalas121 You can merge this. I have checked that nothing weird has happened. This is exactly the same as the previous PR.\r\n\r\nEdit: Checks have passed!",
    "files": [
      {
        "filename": "data/core/encyclopedia/calendar.cfg"
      },
      {
        "filename": "data/core/encyclopedia/drakes.txt"
      },
      {
        "filename": "data/core/encyclopedia/geography.cfg"
      }
    ],
    "commits_messages": [
      "Revised Encyclopedia"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9188"
  },
  {
    "number": 10163,
    "title": "help: separate unit help page id generation logic",
    "labels": [
      "Editor",
      "Units",
      "Help"
    ],
    "body": "Follow-up to https://github.com/wesnoth/wesnoth/commit/53b08325e7729397859b476dcd8c306aa514cb27 and https://github.com/wesnoth/wesnoth/commit/81a7ba55dfb0771e1e03110eb69c040849ef7de5, separates out the help topic id generation logic from `help::show_unit_description()` so it can also be used in `reports.cpp`.\r\nAlso includes some cleanup and collapses one-use small methods",
    "files": [
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/help/help.cpp"
      },
      {
        "filename": "src/help/help.hpp"
      },
      {
        "filename": "src/reports.cpp"
      }
    ],
    "commits_messages": [
      "help: separate unit help page id generation logic\n\nalso includes some cleanup and collapses one-use small methods"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10163"
  },
  {
    "number": 10149,
    "title": "Consolidate WML value escape functionality",
    "labels": [
      "MP",
      "Add-ons"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/serialization/parser.cpp"
      },
      {
        "filename": "src/serialization/string_utils.hpp"
      },
      {
        "filename": "src/server/campaignd/server.cpp"
      },
      {
        "filename": "src/server/common/simple_wml.cpp"
      },
      {
        "filename": "src/server/common/simple_wml.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/tstring.hpp"
      }
    ],
    "commits_messages": [
      "Consolidate WML value escape functionality"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10149"
  },
  {
    "number": 10156,
    "title": "help: correct inline image size for scaling > 1",
    "labels": [
      "UI",
      "Help"
    ],
    "body": "Without this, the inline images in help browser appear unscaled for pixel scale > 1. (smaller images with respect to text)\r\n\r\nTested with virtual scaling 2x. (My monitor is low res)",
    "files": [
      {
        "filename": "src/font/attributes.cpp"
      },
      {
        "filename": "src/font/text.cpp"
      }
    ],
    "commits_messages": [
      "help: correct inline image size for scaling > 1"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10156"
  },
  {
    "number": 10155,
    "title": "Restore old formatting for log timestamps",
    "labels": [],
    "body": "Apparently, using `%Y-%m-%d %H:%M:%S` (the default of `format_local_timestamp` broke some external scripts. This does not re-add the trailing space which used to be part of the formatter (see 79120f1e313), since it's now appended separately.",
    "files": [
      {
        "filename": "src/log.cpp"
      }
    ],
    "commits_messages": [
      "Restore old formatting for log timestamps\n\nApparently, using `%Y-%m-%d %H:%M:%S` (the default of `format_local_timestamp` broke some external scripts. This does not re-add the trailing space which used to be part of the formatter (see 79120f1e313), since it's now appended separately."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10155"
  },
  {
    "number": 10158,
    "title": "Don't keep a static light adjust list",
    "labels": [],
    "body": "This was an attempt at an optimization in line with the image vector class member, but it wasn't backed up by profiling. Better to optimize later if it's found to be needed.",
    "files": [
      {
        "filename": "src/display.cpp"
      }
    ],
    "commits_messages": [
      "Don't keep a static light adjust list\n\nThis was an attempt at an optimization in line with the image vector class member, but it wasn't backed up by profiling. Better to optimize later if it's found to be needed."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10158"
  },
  {
    "number": 10073,
    "title": "Consistently update display when a unit changes (move, die, recruit) that affects the appearance of adjacent units through an ability",
    "labels": [
      "Units",
      "Lua API"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/actions/undo_move_action.cpp"
      },
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      },
      {
        "filename": "src/units/animation_component.cpp"
      },
      {
        "filename": "src/units/animation_component.hpp"
      },
      {
        "filename": "src/units/udisplay.cpp"
      }
    ],
    "commits_messages": [
      "Consistently update display when a unit changes (move, die, recruit) that affects the appearance of adjacent units through an ability",
      "add explanation doc",
      "add log error in case or unit is adjacent to itself"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10073"
  },
  {
    "number": 10130,
    "title": "Improve Stymphalian Unit Description",
    "labels": [
      "Units",
      "Campaign WoF"
    ],
    "body": "I made this description months ago but forgot to make a PR.\r\n\r\n@Dalas121 I\u2019m guessing you have to review this?",
    "files": [
      {
        "filename": "data/campaigns/Winds_of_Fate/units/Stymphalian.cfg"
      }
    ],
    "commits_messages": [
      "Improve Stymphalian Unit Description",
      "Corrections",
      "Add Dalas's Suggestion",
      "Add Wedge\u2019s Suggestion"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10130"
  },
  {
    "number": 10140,
    "title": "Network: Correct curl protocol configuration (resolves #10139)",
    "labels": [
      "Backport",
      "Network"
    ],
    "body": "Needs to be back-ported to 1.18 as well.",
    "files": [
      {
        "filename": "src/network_download_file.cpp"
      }
    ],
    "commits_messages": [
      "Network: Correct curl protocol configuration (resolves #10139)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10140"
  },
  {
    "number": 10144,
    "title": "Reapply modification_queue commit",
    "labels": [],
    "body": null,
    "files": [
      {
        "filename": "src/image_modifications.cpp"
      },
      {
        "filename": "src/image_modifications.hpp"
      },
      {
        "filename": "src/picture.cpp"
      },
      {
        "filename": "src/tests/test_image_modifications.cpp"
      }
    ],
    "commits_messages": [
      "Tidy up modification_queue\n\n- Move docs to declarations, adjust for accuracy\n- Take push arg by revalue reference\n- Return a const reference instead of a pointer for top(). In the olden days, the caller used to delete this pointer manually. Since the queue was converted to use unique_ptr and hence manage its own memory, there's no longer any reason to return a pointer.\n\nThis is also why the comment about crashes is deleted here. Where it once would have been invalid to keep a pointer to memory since freed, that's no longer a consideration.",
      "Update tests",
      "FIxup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10144"
  },
  {
    "number": 10134,
    "title": "TDG: a few tweaks",
    "labels": [
      "Campaign TDG"
    ],
    "body": "A few minor TDG tweaks:\r\n- Spells: clarified \"Counterspell\" description\r\n- S05: the allied AIs now attack at Dawn instead of Second Watch\r\n- S08: changed Trappers' dialogue to be less overtly hostile\r\n- S14: the final boss now heals less on lower difficulties\r\n\r\n@Wedge009, you've reviewed the dialogue for TDG before. Do you think the new S08 Trappers' dialogue is an improvement? I've based that change off [this forum thread](https://forums.wesnoth.org/viewtopic.php?t=57997&start=75), where two different people felt that the current dialogue isn't appropriate.\r\n\r\n\r\n\r\n\r\n",
    "files": [
      {
        "filename": "changelog_entries/tdg-tweaks.md"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/skill_set.lua"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/05_The_Deceiver.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/08_Ruins_of_Saurgrath.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/14_Long_Live_the_Queen.cfg"
      }
    ],
    "commits_messages": [
      "TDG S05: attack at Dawn instead of Second Watch",
      "Merge branch 'wesnoth:master' into tdg-tweaks",
      "S14: reduce Eldred healing at lower difficulties",
      "S08 more ambiguous Barin",
      "Update skill_set.lua",
      "Create tdg-tweaks.md"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10134"
  },
  {
    "number": 10096,
    "title": "Necromancer: emphasize plague, reduce durability",
    "labels": [
      "Units"
    ],
    "body": "The 1.18 Necromancer is in an odd spot. His/her damage is very similar to the Lich, but inferior to both the Enchantress and Arch Mage (and MoL, if we factor in Illuminates). But unlike every other mage, the Necromancer boasts a whopping 76 hp and 10% impact resistance.\r\n\r\nThese stats (more hp than a Royal Guard!?) point the Necromancer towards a front-line tank/shock trooper role. I get that this is reasonable for balance - undead don't have good impact-resistant tanks - but I also feel that using Necromancers as meatshields runs contrary to the unit fantasy.\r\n\r\nThis PR lowers the Necro's durability closer to that of the other mages, while instead emphasizing his/her thematic plague ability:\r\n- hitpoints 76 -> 62, impact resist 10% -> 0%\r\n- plague staff (melee impact) 6-3 -> 8-3\r\n- chill wave (ranged cold) 19-2 -> 20-2\r\n- shadow wave (ranged arcane) 16-2 -> 12-2, add \"plague\" weapon special\r\n\r\n(unit cost and exact stats may need adjustment)",
    "files": [
      {
        "filename": "changelog_entries/necromancer-more-plague.md"
      },
      {
        "filename": "data/core/units/undead/Necromancer.cfg"
      }
    ],
    "commits_messages": [
      "Update Necromancer.cfg",
      "Create necromancer-more-plague.md",
      "Update necromancer-more-plague.md",
      "Update necromancer-more-plague.md",
      "Update Necromancer.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10096"
  },
  {
    "number": 10128,
    "title": "Use a proper struct for lightmap adjustments",
    "labels": [],
    "body": "Resolves #10101. I'm not entirely sure about the approach I've taken here, so any thoughts are welcome.",
    "files": [
      {
        "filename": "src/display.cpp"
      },
      {
        "filename": "src/picture.cpp"
      },
      {
        "filename": "src/picture.hpp"
      }
    ],
    "commits_messages": [
      "Use a proper struct for lightmap adjustments\n\nResolves #10101",
      "tweaks",
      "fixup"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10128"
  },
  {
    "number": 10131,
    "title": "Help: convert to new markup",
    "labels": [
      "Editor",
      "Help"
    ],
    "body": "Covers `<img>`, `<ref>`, `<bold>`, `<italic>`, and `<header>`.",
    "files": [
      {
        "filename": "data/core/editor/help.cfg"
      },
      {
        "filename": "data/core/encyclopedia/geography.cfg"
      },
      {
        "filename": "data/core/help.cfg"
      }
    ],
    "commits_messages": [
      "Help: convert to new markup",
      "Help: use square brackets for command args",
      "Updated encyclopedia",
      "Use shorthand for bold and italic",
      "Remove align=here and box keys",
      "Remove linebreak tag",
      "Editor: use bold and italic shorthand",
      "Revert \"Help: use square brackets for command args\"\n\nThis reverts commit 1f7e8871f85f1c60d54d88dfaa2d51da11ea802c.",
      "Help: escape command args, they're not tags",
      "Drop trailing spaces from self-closing tags"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10131"
  },
  {
    "number": 10112,
    "title": "Allow the tournament DB query to define the complete text",
    "labels": [
      "MP",
      "Add-ons"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/server/common/dbconn.cpp"
      }
    ],
    "commits_messages": [
      "Allow the tournament DB query to define the complete text"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10112"
  },
  {
    "number": 10116,
    "title": "Remove bogus layer attribute in [variant]",
    "labels": [
      "Schema",
      "Terrain"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/core/terrain-graphics/new-macros.cfg"
      },
      {
        "filename": "data/schema/terrain/graphics.cfg"
      }
    ],
    "commits_messages": [
      "Remove bogus layer attribute in [variant]"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10116"
  },
  {
    "number": 10126,
    "title": "Color Refactor",
    "labels": [
      "UI",
      "Units",
      "Lua API"
    ],
    "body": "* Removes unused color constants.\r\n* Changes `font::string_to_color` to use [pango_color_parse](https://docs.gtk.org/Pango/method.Color.parse.html). This allows us to use standard CSS color names in various places.",
    "files": [
      {
        "filename": "src/color.hpp"
      },
      {
        "filename": "src/font/attributes.cpp"
      },
      {
        "filename": "src/font/standard_colors.cpp"
      },
      {
        "filename": "src/font/standard_colors.hpp"
      },
      {
        "filename": "src/gui/core/canvas.cpp"
      },
      {
        "filename": "src/gui/core/window_builder.cpp"
      },
      {
        "filename": "src/gui/widgets/helper.cpp"
      },
      {
        "filename": "src/gui/widgets/helper.hpp"
      },
      {
        "filename": "src/gui/widgets/label.cpp"
      },
      {
        "filename": "src/gui/widgets/rich_label.cpp"
      },
      {
        "filename": "src/gui/widgets/styled_widget.cpp"
      },
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/helper.cpp"
      },
      {
        "filename": "src/widgets/button.cpp"
      }
    ],
    "commits_messages": [
      "color refactoring\n\n* removes unused color constants\n* changes font::string_to_color to use pango_color_parse. This allows us to use CSS color names in various places.\n* removes one-use and redundant gui2::decode_color"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10126"
  },
  {
    "number": 10129,
    "title": "show max_attacks/attack usage in Help and Units dialog",
    "labels": [
      "UI",
      "Help"
    ],
    "body": "Resolves #10108.\r\n\r\nUnit List (should be similar in Recall)\r\n![Screenshot from 2025-04-14 10-48-19](https://github.com/user-attachments/assets/8c02b6e6-2523-461e-a8f3-122feb6f8c9c)\r\n\r\nUnit Create Dialog (should be same in recruit)\r\n![Screenshot from 2025-04-14 10-46-54](https://github.com/user-attachments/assets/93d2cedc-3800-4797-9633-00bb47fd08e3)\r\n\r\nHelp page for Unit Type (cannot show remaining attack because it's the Unit Type's help, and not the Unit's)\r\n![Screenshot from 2025-04-14 09-42-47](https://github.com/user-attachments/assets/9057edb8-8bfb-45e5-bb5f-1aec992424ac)\r\n",
    "files": [
      {
        "filename": "src/gui/widgets/unit_preview_pane.cpp"
      },
      {
        "filename": "src/gui/widgets/unit_preview_pane.hpp"
      },
      {
        "filename": "src/help/help_topic_generators.cpp"
      },
      {
        "filename": "src/reports.cpp"
      }
    ],
    "commits_messages": [
      "show max_attacks/attack usage in Help and Units dialog"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10129"
  },
  {
    "number": 10127,
    "title": "Don't skip fully transparent pixels when recoloring surfaces",
    "labels": [],
    "body": "Resolves #8785. Diff best viewed with whitespace changes hidden. Functions affected:\r\n- `adjust_surface_color`\r\n- `greyscale_image`\r\n- `monochrome_image`\r\n- `sepia_image`\r\n- `negative_image`\r\n- `shadow_image`\r\n- `swap_channels_image`\r\n- `recolor_image`\r\n- `brighten_image`\r\n- `adjust_surface_alpha_add`\r\n- `light_surface`",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/sdl/utils.cpp"
      }
    ],
    "commits_messages": [
      "SDL/Utils: don't skip fully transparent pixels (resolves #8785)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10127"
  },
  {
    "number": 10125,
    "title": "Editor: Remove old ToD schedule before saving new one",
    "labels": [
      "Backport",
      "Editor"
    ],
    "body": "Resolves #10115",
    "files": [
      {
        "filename": "src/editor/map/map_context.cpp"
      }
    ],
    "commits_messages": [
      "Editor: Remove old ToD schedule before saving new one.\n\nResolves #10115"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10125"
  },
  {
    "number": 10120,
    "title": "EI: some assorted fixes and tweaks",
    "labels": [
      "Achievements",
      "Campaign EI"
    ],
    "body": "Things that've been on my list for a while, to do before 1.20:\r\n- S01: initial objective text now includes the 10,15 trapdoor\r\n- S05: added objective note explaining how to check for bandits\r\n- S05: fix Gweddry or Owaec not getting XP if they personally kill the final enemy leader\r\n- S09: cold damage now starts lower, but grows faster\r\n- S09: drakes no longer avoid the objective area after the guarding icemonax are cleared\r\n- S10: replaced wild Wyvern with a more climate-appropriate Yeti\r\n- S15: Gweddry and co. now enter Weldyn through a tunnel, instead of effortlessly penetrating the undead siege\r\n- achievements: use white teamcolor instead of magenta for S10's achievement",
    "files": [
      {
        "filename": "changelog_entries/ei-fixes-and-tweaks.md"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/achievements.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/01_Eastern_Invasion.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/05_Northern_Outpost.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/09_Castle_in_the_Ice.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/10_Dark_Sanctuary.cfg"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/15_Return_to_Wesnoth.cfg"
      }
    ],
    "commits_messages": [
      "Update achievements.cfg",
      "Update 01_Eastern_Invasion.cfg",
      "Update 05_Northern_Outpost.cfg",
      "Update 09_Castle_in_the_Ice.cfg",
      "Update 10_Dark_Sanctuary.cfg",
      "Update 15_Return_to_Wesnoth.cfg",
      "Create ei-fixes-and-tweaks.md",
      "Update 05_Northern_Outpost.cfg",
      "Update 05_Northern_Outpost.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10120"
  },
  {
    "number": 10119,
    "title": "Add pango 1.50 to Steam package",
    "labels": [
      "Packaging"
    ],
    "body": "Packages pango 1.50 with the Steam package, to avoid the issue mentioned in [#10088](https://github.com/wesnoth/wesnoth/pull/10088#issuecomment-2785195574).",
    "files": [
      {
        "filename": "utils/dockerbuilds/CI/Dockerfile-base-steamrt"
      },
      {
        "filename": "utils/dockerbuilds/steamrt/Dockerfile"
      },
      {
        "filename": "utils/dockerbuilds/steamrt/start.sh"
      }
    ],
    "commits_messages": [
      "Add pango 1.50 to Steam package"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10119"
  },
  {
    "number": 10110,
    "title": "Remove old gamemap header parsing",
    "labels": [
      "Engine"
    ],
    "body": "We haven't used maps with headers in years.",
    "files": [
      {
        "filename": "src/map/map.cpp"
      },
      {
        "filename": "src/map/map.hpp"
      }
    ],
    "commits_messages": [
      "Remove old gamemap header parsing\n\nWe haven't used maps with headers in years.",
      "Remove include"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10110"
  },
  {
    "number": 10077,
    "title": "Always default to NO_LAYER for the overlay",
    "labels": [
      "Terrain"
    ],
    "body": "The only place WILDCARD was the default was [terrain_graphics][tile]type= and this had still exceptions for * and !. Should be simpler to have this work constistently in every context.",
    "files": [
      {
        "filename": "src/terrain/builder.cpp"
      },
      {
        "filename": "src/terrain/translation.cpp"
      },
      {
        "filename": "src/terrain/translation.hpp"
      }
    ],
    "commits_messages": [
      "Always default to NO_LAYER for the overlay\n\nThe only place WILDCARD was the default was [terrain_graphics][tile]type= and this had still exceptions for * and !.\nShould be simpler to have this work constistently in every context."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10077"
  },
  {
    "number": 10071,
    "title": "Remove \"among\" parameter remains after fbe2166",
    "labels": [
      "Campaign WC"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/World_Conquest/lua/campaign/enemy.lua"
      },
      {
        "filename": "data/campaigns/World_Conquest/lua/campaign/scenario.lua"
      },
      {
        "filename": "data/campaigns/World_Conquest/lua/game_mechanics/training.lua"
      }
    ],
    "commits_messages": [
      "Remove \"among\" parameter remains after fbe2166"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10071"
  },
  {
    "number": 10111,
    "title": "SDL: surface-related cleanups",
    "labels": [
      "UI",
      "Lua API"
    ],
    "body": "- Use a mutable span for iterating over surface pixels (convers simple cases for now)\r\n- Use the appropriate SDL_PixelFormatEnum directly rather than getting the value from a dummy surface. Likewise, simplified the is-neutral check by checking the format type (this wasn't available in SDL 1.2 when the check was originally written)\r\n- Remove is_neutral and make_neutral as class members. All surfaces are already converted to the neutral format internally, so we don't need these as part of the public API. Likewise, removed the only remaining external use of make_neutral in the cursor code.\r\n- Move most function implementations out of the header and cleaned up implementation helpers. These didn't need to be class members and just made the code harder to read.\r\n- Simplify ctor/assignment ops and disallow self copy assignment\r\n- Cleaned up unnecessary includes in the header. surface.hpp was pulling in the whole SDL.h header, the removal of which necessitated adding SDL includes to several other places. Just goes to show how much it was indirectly touching...",
    "files": [
      {
        "filename": "src/cursor.cpp"
      },
      {
        "filename": "src/gui/core/event/distributor.cpp"
      },
      {
        "filename": "src/gui/core/event/handler.cpp"
      },
      {
        "filename": "src/gui/dialogs/end_credits.cpp"
      },
      {
        "filename": "src/gui/widgets/window.cpp"
      },
      {
        "filename": "src/image_modifications.hpp"
      },
      {
        "filename": "src/scripting/lua_kernel_base.cpp"
      },
      {
        "filename": "src/sdl/surface.cpp"
      },
      {
        "filename": "src/sdl/surface.hpp"
      },
      {
        "filename": "src/sdl/utils.cpp"
      },
      {
        "filename": "src/sdl/utils.hpp"
      },
      {
        "filename": "src/sdl/window.cpp"
      },
      {
        "filename": "src/video.cpp"
      },
      {
        "filename": "src/widgets/textbox.cpp"
      }
    ],
    "commits_messages": [
      "SDL/Utils: simplified pixel iteration",
      "Tidy up and simplify surface wrapper\n\n- Use the appropriate SDL_PixelFormatEnum directly rather than getting the value from a dummy surface. Likewise, simplified the is-neutral check by checking the format type (this wasn't available in SDL 1.2 when the check was originally written)\n- Remove is_neutral and make_neutral as class members. All surfaces are already converted to the neutral format internally, so we don't need these as part of the public API. Likewise, removed the only remaining external use of make_neutral in the cursor code.\n- Move most function implementations out of the header and cleaned up implementation helpers. These didn't need to be class members and just made the code harder to read.\n- Simplify ctor/assignment ops and disallow self copy assignment\n- Cleaned up unnecessary includes in the header. surface.hpp was pulling in the whole SDL.h header, the removal of which necessitated adding SDL includes to several other places. Just goes to show how much it was indirectly touching...",
      "Make clang-tidy happy"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10111"
  },
  {
    "number": 10109,
    "title": "WFL: add byte_index function",
    "labels": [
      "WFL"
    ],
    "body": "According to [the docs](https://wiki.wesnoth.org/Wesnoth_formula_language#substring), the optional size arguments are supposed to be the number of characters to take, relative to `offset`. ~Small fix to handle multi-byte characters. Confirmed while testing a fix for #9917.~\r\n\r\nEDIT: After discussion on discord, I decided to add a `byte_index` function instead that takes a character index and a string. It seems better to opt into multibyte handling, especially since the logic for indices is very annoying complicated...",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/formula/function.cpp"
      },
      {
        "filename": "src/tests/test_formula_function.cpp"
      }
    ],
    "commits_messages": [
      "WFL: made substring and replace work with multi-byte characters",
      "Add a dedicated byte_index function instead",
      "Changelog and test"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10109"
  },
  {
    "number": 10102,
    "title": "Deployed std::span via compat wrapper",
    "labels": [
      "UI",
      "Building",
      "SCons",
      "CMake"
    ],
    "body": "Boosts the boost requirements to 1.78 so we can use boost::span as a fallback when targeting C++17 (currently the default).\r\n\r\nCovers existing conditional uses of std::span as well as utils::byte_string_view (here renamed to byte_view). This use of std::string_view is not standard-compliant, causes build issues, and should properly be a span anyway.\r\n\r\nResolves #10101, resolves #9546.",
    "files": [
      {
        "filename": "src/color_range.cpp"
      },
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/gettext.cpp"
      },
      {
        "filename": "src/gettext.hpp"
      },
      {
        "filename": "src/hash.cpp"
      },
      {
        "filename": "src/serialization/base64.cpp"
      },
      {
        "filename": "src/serialization/base64.hpp"
      },
      {
        "filename": "src/tests/test_sdl.cpp"
      },
      {
        "filename": "src/tests/test_serialization.cpp"
      },
      {
        "filename": "src/utils/span.hpp"
      }
    ],
    "commits_messages": [
      "Added compat wrapper for std::span\n\nUses std::span when building against C++20, boost::span with Boost >= 1.78, and uses a copy\nof Boost's span implementation otherwise.",
      "Use utils::span for crypt encode/decode\n\nReplaces the non standard-compliant use of std::string_view<uint8_t> with the proper span type.\nResolves #10101, resolves #9546.",
      "Deployed utils::span on low-hanging fruit"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10102"
  },
  {
    "number": 10104,
    "title": "remove stuff specifically for 800xN resolutions",
    "labels": [
      "UI"
    ],
    "body": "since that's not supported anymore",
    "files": [
      {
        "filename": "data/gui/themes/default/dialogs/lobby_main.cfg"
      },
      {
        "filename": "data/gui/themes/default/dialogs/mp_staging.cfg"
      },
      {
        "filename": "data/gui/themes/default/widgets/addon_list.cfg"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      }
    ],
    "commits_messages": [
      "remove stuff specifically for 800xN resolutions\n\nsince that's not supported anymore"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10104"
  },
  {
    "number": 10103,
    "title": "floor [gold]amount=, closes #9518",
    "labels": [
      "Lua API"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/lua/wml-tags.lua"
      }
    ],
    "commits_messages": [
      "floor [gold]amount=, closes #9518"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10103"
  },
  {
    "number": 10095,
    "title": "Update AI macros to account for midnight & midday",
    "labels": [
      "AI"
    ],
    "body": "Midnight and Midday were added later than the macro itself so this was not updated.",
    "files": [
      {
        "filename": "data/core/macros/ai.cfg"
      }
    ],
    "commits_messages": [
      "Update AI macros to account for midnight & midday",
      "Update AI macros to account for midnight & midday p2"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10095"
  },
  {
    "number": 10097,
    "title": "Move the toplevel read/write functions into their own namespace",
    "labels": [
      "AI",
      "MP",
      "UI",
      "Editor",
      "Lua API",
      "Add-ons",
      "Achievements"
    ],
    "body": "- Parser functions now reside in the `io` namespace. It would probably be better to do something like `config::from_stream`, but I might do that separately.\r\n- All `read` functions now return configs instead of taking an input parameter, since the functions would clobber existing data anyway. The dedicated overloads were removed.\r\n- Simplified the way these functions are used, especially now that they return values.",
    "files": [
      {
        "filename": "src/achievements.cpp"
      },
      {
        "filename": "src/addon/manager.cpp"
      },
      {
        "filename": "src/ai/configuration.cpp"
      },
      {
        "filename": "src/config_cache.cpp"
      },
      {
        "filename": "src/editor/map/map_context.cpp"
      },
      {
        "filename": "src/font/font_config.cpp"
      },
      {
        "filename": "src/game_initialization/create_engine.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/edit_pbl.cpp"
      },
      {
        "filename": "src/gui/dialogs/editor/edit_unit.cpp"
      },
      {
        "filename": "src/gui/dialogs/gamestate_inspector.cpp"
      },
      {
        "filename": "src/gui/gui.cpp"
      },
      {
        "filename": "src/language.cpp"
      },
      {
        "filename": "src/map/map.cpp"
      },
      {
        "filename": "src/network_asio.cpp"
      },
      {
        "filename": "src/persist_context.cpp"
      },
      {
        "filename": "src/preferences/preferences.cpp"
      },
      {
        "filename": "src/save_index.cpp"
      },
      {
        "filename": "src/saved_game.cpp"
      },
      {
        "filename": "src/scripting/lua_wml.cpp"
      },
      {
        "filename": "src/serialization/binary_or_text.cpp"
      },
      {
        "filename": "src/serialization/binary_or_text.hpp"
      },
      {
        "filename": "src/serialization/parser.cpp"
      },
      {
        "filename": "src/serialization/parser.hpp"
      },
      {
        "filename": "src/serialization/preprocessor.cpp"
      },
      {
        "filename": "src/serialization/schema_validator.cpp"
      },
      {
        "filename": "src/server/campaignd/server.cpp"
      },
      {
        "filename": "src/server/wesnothd/ban.cpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      },
      {
        "filename": "src/tests/utils/wml_equivalence.cpp"
      },
      {
        "filename": "src/tests/wml/schema/test_schema_validator.cpp"
      }
    ],
    "commits_messages": [
      "Parse: clean up low level read/write API\n\n- Parser functions now reside in the `io` namespace. It would probably be\n  better to do something like config::from_stream, but I can do that separately.\n- All read functions now return configs instead of taking an input parameter,\n  since the functions would clobber existing data in their inputs anyway.\n  The dedicated overloads were removed.\n- Since these functions now return values, greatly simplified their use\n  throughout the codebase."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10097"
  },
  {
    "number": 10091,
    "title": "GUI2: hotkey registration and related callback cleanup",
    "labels": [
      "UI",
      "Achievements"
    ],
    "body": "- Restore the is-handled callback return value (functionally reverts 8bf95ce69a9bd59d98d14653cc727368d23f75c0)\r\n- Take hotkey callbacks by rvalue reference\r\n- Avoid registering achievement hotkey twice\r\n- Clean up excessive callback wrappers in the lobby and main menu\r\n- Properly define the display function for the test and achievement dialogs",
    "files": [
      {
        "filename": "src/gui/core/event/dispatcher.cpp"
      },
      {
        "filename": "src/gui/core/event/dispatcher.hpp"
      },
      {
        "filename": "src/gui/dialogs/achievements_dialog.hpp"
      },
      {
        "filename": "src/gui/dialogs/gui_test_dialog.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_staging.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.cpp"
      },
      {
        "filename": "src/gui/dialogs/title_screen.hpp"
      },
      {
        "filename": "src/gui/widgets/window.cpp"
      }
    ],
    "commits_messages": [
      "GUI2: hotkey registration and related callback cleanup\n\n- Restore the is-handled callback return value (functionally reverts 8bf95ce69a9bd59d98d14653cc727368d23f75c0)\n- Take hotkey callbacks by rvalue reference\n- Avoid registering achievement hotkey twice\n- Clean up excessive callback wrappers in the lobby and main menu\n- Properly define the display function for the test and achievement dialogs",
      "fixup",
      "use a template"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10091"
  },
  {
    "number": 9959,
    "title": "Saurian Spearthrower tree palette cleanup",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "Modifies saurian spearthrower and javelineer sprites:\r\n\r\n* Replaces all colors outside of the saurian palette with the closest equivalents.\r\n* Removes some stray semi-transparent pixels and other artifacts.\r\n* Fixes head spikes in some spearthrower's NE run animation frames.\r\n\r\nAll images were optimized with `woptipng`.",
    "files": [
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee1.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee10.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee2.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee3.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee4.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee5.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee6.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee7.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee8.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-n-melee9.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-bob1.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-bob2.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-bob3.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-bob4.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-bob5.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-bob6.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-defend1.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-defend2.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-die1.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-die2.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-die3.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-die4.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee1.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee10.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee2.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee3.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee4.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee5.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee6.png"
      },
      {
        "filename": "data/core/images/units/saurians/javelineer/javelineer-ne-melee7.png"
      }
    ],
    "commits_messages": [
      "Saurian spearthrower palette cleanup",
      "Saurian javelineer palette cleanup",
      "Fix head spikes in run animation",
      "Add XMP metadata"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9959"
  },
  {
    "number": 9964,
    "title": "New Saurian Seer sprite",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "Replaces Saurian Seer sprite added in #6911.\r\n\r\n* Compliant with the saurian color map.\r\n* All images optimized with `woptipng`.\r\n\r\nBase SE and NE images were created by @doofus-01, I only did minor edits and the animations.",
    "files": [
      {
        "filename": "data/core/about.cfg"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-bob1.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-bob2.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-bob3.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-bob4.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-bob5.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-bob6.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-defend1.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-defend2.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-die1.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-die2.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-die3.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-die4.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-magic1.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-magic2.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-melee1.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-melee2.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-melee3.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-melee4.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-melee5.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run1.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run10.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run11.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run12.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run2.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run3.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run4.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run5.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run6.png"
      },
      {
        "filename": "data/core/images/units/saurians/seer/seer-ne-run7.png"
      }
    ],
    "commits_messages": [
      "Update credits",
      "Replace saurian seer sprite",
      "Add XMP metadata"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9964"
  },
  {
    "number": 10066,
    "title": "Continue work on chrono cleanup",
    "labels": [
      "MP",
      "UI",
      "Units",
      "Add-ons",
      "WFL"
    ],
    "body": "- Remove config_attribute_value::to_time_t (finally!)\r\n- Add C++20 codepath for format_time_summary\r\n- Deploy chrono::format_local_timestamp more widely, including replacing uses of translation::strftime (need to confirm this still plays nicely with translations - don't want #1709 to crop back up...)\r\n- Clean up unnecessary includes\r\n- Clean up uses of time_t in filesystem and save_index\r\n- Clean up last use of ctime\r\n- Simplify wesnothd ban duration calculations",
    "files": [
      {
        "filename": "src/config_attribute_value.cpp"
      },
      {
        "filename": "src/config_attribute_value.hpp"
      },
      {
        "filename": "src/filesystem.cpp"
      },
      {
        "filename": "src/filesystem.hpp"
      },
      {
        "filename": "src/filesystem_common.cpp"
      },
      {
        "filename": "src/format_time_summary.cpp"
      },
      {
        "filename": "src/format_time_summary.hpp"
      },
      {
        "filename": "src/formula/string_utils.hpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.hpp"
      },
      {
        "filename": "src/gettext.cpp"
      },
      {
        "filename": "src/gettext.hpp"
      },
      {
        "filename": "src/gui/dialogs/addon/manager.cpp"
      },
      {
        "filename": "src/gui/widgets/debug.cpp"
      },
      {
        "filename": "src/log.cpp"
      },
      {
        "filename": "src/log.hpp"
      },
      {
        "filename": "src/log_windows.cpp"
      },
      {
        "filename": "src/reports.cpp"
      },
      {
        "filename": "src/save_index.cpp"
      },
      {
        "filename": "src/save_index.hpp"
      },
      {
        "filename": "src/savegame.cpp"
      },
      {
        "filename": "src/server/campaignd/server.cpp"
      },
      {
        "filename": "src/server/wesnothd/ban.cpp"
      },
      {
        "filename": "src/tests/test_formula_core.cpp"
      },
      {
        "filename": "src/units/id.hpp"
      },
      {
        "filename": "src/wesnoth.cpp"
      }
    ],
    "commits_messages": [
      "Continue work on chrono cleanup\n\n- Remove config_attribute_value::to_time_t (finally!)\n- Add C++20 codepath for format_time_summary\n- Deploy chrono::format_local_timestamp more widely, including replacing uses of translation::strftime (need to confirm this still plays nicely with translations - don't want #1709 to crop back up...)\n- Clean up unnecessary includes\n- Clean up uses of time_t in filesystem and save_index\n- Clean up last use of ctime",
      "cleanup",
      "remove translation::strftime",
      "caught a few more things"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10066"
  },
  {
    "number": 9286,
    "title": "UI support for real-ranged attacks",
    "labels": [
      "UI",
      "Engine"
    ],
    "body": "This makes units with weapons with custom min/max_range capable of attack when controlled by player.\r\n(I have the AI code too, but not in this PR)\r\nFor proper working requires these PR merged:\r\nPropper max/min_range: https://github.com/wesnoth/wesnoth/pull/9203\r\nPropper UI preview: https://github.com/wesnoth/wesnoth/pull/9255",
    "files": [
      {
        "filename": "src/map/location.hpp"
      },
      {
        "filename": "src/mouse_events.cpp"
      }
    ],
    "commits_messages": [
      "actual ranged attack UI",
      "fixed empty container edge case",
      "avoid reindenting",
      "added one ; >,<",
      "suggested clean-up",
      "removed unused function",
      "edited the comment",
      "edited the comment ... again",
      "readability fix"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9286"
  },
  {
    "number": 10081,
    "title": "Units: Roc XP to 150",
    "labels": [
      "Units"
    ],
    "body": "max AMLA XP for a level 3 Unit\r\n\r\nCloses #10080 ",
    "files": [
      {
        "filename": "data/core/units/monsters/Roc.cfg"
      }
    ],
    "commits_messages": [
      "Units: Roc XP to 150\n\nmax AMLA XP for a level 3 Unit"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10081"
  },
  {
    "number": 10078,
    "title": "SotBE-S17: add message to event",
    "labels": [
      "Enhancement",
      "Prose",
      "Campaign SotBE"
    ],
    "body": "Players have complained why the NA was so unaware of such a brutal war erupting in the Far North. Provided a possible reason in one message. This is a better alternative than scripting 1-2 cutscenes in between scenarios.",
    "files": [
      {
        "filename": "data/campaigns/Son_Of_The_Black_Eye/scenarios/17_The_Human_Attack.cfg"
      }
    ],
    "commits_messages": [
      "SotBE-S17: add message to event\n\nPlayers have complained why the NA was so unaware of such a brutal war erupting in the Far North. Provided a possible reason in one message. This is a better alternative than scripting 1-2 cutscenes in between scenarios."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10078"
  },
  {
    "number": 10079,
    "title": "SotBE-S14: refine map",
    "labels": [
      "Enhancement",
      "Campaign SotBE"
    ],
    "body": "Refined map.",
    "files": [
      {
        "filename": "data/campaigns/Son_Of_The_Black_Eye/maps/14_Back_Home.map"
      }
    ],
    "commits_messages": [
      "SotBE-S14: refine map"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10079"
  },
  {
    "number": 10058,
    "title": "Add gold_cost for TDG's Magic System",
    "labels": [
      "Campaign TDG"
    ],
    "body": "Just a small PR that allows developers to put a price on spells not only in experience but also in gold. \r\nThis new feature doesn't affect TDG in any way and isn't used by it",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/spellcasting.lua"
      }
    ],
    "commits_messages": [
      "add gold_cost for spells"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10058"
  },
  {
    "number": 10053,
    "title": "show plague type in UI",
    "labels": [
      "UI",
      "Units"
    ],
    "body": "Resolves #10047.\r\n\r\n![Screenshot from 2025-03-20 18-31-10](https://github.com/user-attachments/assets/3c649ce1-6fda-41ec-9459-6d0a27ce1e5f)\r\n\r\n(Partially translated strings because these new translatable strings will require translation before they show up properly.)",
    "files": [
      {
        "filename": "data/core/macros/weapon_specials.cfg"
      },
      {
        "filename": "src/units/abilities.cpp"
      }
    ],
    "commits_messages": [
      "show plague type in UI"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10053"
  },
  {
    "number": 10055,
    "title": "Make the --data-dir explanation clearer",
    "labels": [
      "Docs"
    ],
    "body": "Previously, one might naively assume that the data dir is the directory that's literally named \"data\".\r\n\r\nIn reality, the data dir should have subdirectories:\r\ndata/\r\nfonts/\r\naudio/\r\netc.",
    "files": [
      {
        "filename": "doc/man/wesnoth.6"
      },
      {
        "filename": "src/commandline_options.cpp"
      }
    ],
    "commits_messages": [
      "Make the --data-dir explanation clearer\n\nPreviously, one might naively assume that the data dir\nis the directory that's literally named \"data\".\n\nIn reality, the data dir should have subdirectories\ndata/\nfonts/\naudio/\netc."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10055"
  },
  {
    "number": 10050,
    "title": "HttT S5a: clearer objective",
    "labels": [
      "Campaign HttT"
    ],
    "body": "The main objective says \"Escape down the road to Elensefar\". It actually means that the scenario ends when Konrad moves to (5,1), but the signpost that says \"To Elensefar\" is at (8,2). In S1, the signpost was the place that Konrad was supposed to go to, so it\u2019s natural for new players to assume the same for S5a (relevant feedback posts: [2019](https://forums.wesnoth.org/viewtopic.php?p=638143#p638143), [2024](https://forums.wesnoth.org/viewtopic.php?p=689695#p689695)).\r\n\r\nTherefore, the signpost is moved to (5,1), and it is highlighted at the start of the scenario just like S1. Also, some minor terrain changes are made so that (5,1) is the only road-like terrain at the edge of the map at y=1.\r\n![HttT-5a-all](https://github.com/user-attachments/assets/e81ff226-9149-48b4-910c-73fc78ab657e)\r\n\r\n",
    "files": [
      {
        "filename": "data/campaigns/Heir_To_The_Throne/maps/05a_Muff_Malal_Peninsula.map"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/05a_Muff_Malal_Peninsula.cfg"
      }
    ],
    "commits_messages": [
      "HttT 5a clearer objective\n\nSignpost is moved and highlighted to make the main objective clearer."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10050"
  },
  {
    "number": 10059,
    "title": "Restore Windows CI job",
    "labels": [
      "CI"
    ],
    "body": "Closes #10044. This reverts the following commits: d3a8b882a75e155f32804205898f6d12008c0edc\r\n6415bb8adc89b6b8d76735163e01ebb8a0cfe2e5",
    "files": [
      {
        "filename": ".github/workflows/ci-main.yml"
      }
    ],
    "commits_messages": [
      "Restore Windows CI job\n\nCloses #10044. This reverts the following commits:\nd3a8b882a75e155f32804205898f6d12008c0edc\n6415bb8adc89b6b8d76735163e01ebb8a0cfe2e5"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10059"
  },
  {
    "number": 10045,
    "title": "Port FPS viewer to GUI2",
    "labels": [
      "macOS",
      "UI",
      "Building"
    ],
    "body": "Splits the FPS viewer out of the display class and into its own modeless dialog. This serves as a proof-of-concept for further modeless GUI in-game dialogs. Admittedly, it only works because I explicitly disconnect it from the UI event context, since it doesn't need to receive events.\r\n\r\nThis also introduces a new `tracked_drawable` interface that encapsulates the fps logic. This serves as a simple middleware for any `top_level_drawable`, and any class that inherits from it can have its render stats displayed using the new `fps_report` dialog.",
    "files": [
      {
        "filename": "data/gui/themes/default/dialogs/fps_report.cfg"
      },
      {
        "filename": "data/gui/themes/default/widgets/window_debug_overlay.cfg"
      },
      {
        "filename": "projectfiles/CodeBlocks/wesnoth.cbp"
      },
      {
        "filename": "projectfiles/Xcode/The Battle for Wesnoth.xcodeproj/project.pbxproj"
      },
      {
        "filename": "source_lists/wesnoth"
      },
      {
        "filename": "src/display.cpp"
      },
      {
        "filename": "src/display.hpp"
      },
      {
        "filename": "src/gui/core/tracked_drawable.cpp"
      },
      {
        "filename": "src/gui/core/tracked_drawable.hpp"
      },
      {
        "filename": "src/gui/dialogs/fps_report.cpp"
      },
      {
        "filename": "src/gui/dialogs/fps_report.hpp"
      },
      {
        "filename": "src/tests/gui/test_gui2.cpp"
      }
    ],
    "commits_messages": [
      "Display: port FPS viewer to GUI2\n\nSplits the FPS viewer out of the display class and into its own modeless dialog. This serves as a proof-of-concept for further modeless GUI in-game dialogs. Admittedly, it only works because I explicitly disconnect it from the UI event context, since it doesn't need to receive events.\n\nThis also introduces a new tracked_drawable interface that encapsulates the fps logic. Any class that inherits from it can have its render stats displayed using the new fps_report dialog."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10045"
  },
  {
    "number": 10046,
    "title": "NR S2, 3, 6, 8: fix carryover gold %",
    "labels": [
      "Campaign NR"
    ],
    "body": "Currently, carryover gold % for meeting the main objective and the alternative objective are respectively;\r\nS2: 40%, 80%\r\nS3: 80%, 40%\r\nS8: 40%, 80%\r\nbecause `{NEW_GOLD_CARRYOVER 40}` was added only once per scenario by b0a302b. Also, S6 lacks `[endlevel]` for meeting the alternative objective and the scenario doesn't end (although it is probably impossible anyway), but the scenario automatically ends with 80% carryover gold when all enemy leaders are killed. For the record, S10 has multiple objectives as well, but they are all 40%, so no fix seems necessary.\r\n\r\nThis PR turns all 80% into 40% and adds `[endlevel]` with 100% for the alternative objective in S6.",
    "files": [
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/02_01_Infested_Caves.cfg"
      },
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/03_To_the_Mines.cfg"
      },
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/06a_Old_Friend.cfg"
      },
      {
        "filename": "data/campaigns/Northern_Rebirth/scenarios/08a_Elvish_Princess.cfg"
      }
    ],
    "commits_messages": [
      "NR carryover gold fix\n\nMakes carryover gold from old 80% to new 40%. Adds missing [endlevel] to S6."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10046"
  },
  {
    "number": 10037,
    "title": "Leave chat open on failed command execution",
    "labels": [
      "UI"
    ],
    "body": "Also save chat messages or commands in history. Previously this was not done in #5538 because \"Chat messages are not stored like this to avoid spam.\" but the server rejects messages if they are sent too fast anyway. So that is not a good reason IMO.",
    "files": [
      {
        "filename": "src/chat_events.cpp"
      },
      {
        "filename": "src/chat_events.hpp"
      },
      {
        "filename": "src/map_command_handler.hpp"
      },
      {
        "filename": "src/menu_events.cpp"
      },
      {
        "filename": "src/menu_events.hpp"
      },
      {
        "filename": "src/play_controller.cpp"
      }
    ],
    "commits_messages": [
      "Leave chat open on failed command execution\n\nAlso remove unused set_help_on_unknown function.",
      "Also save chat messages or commands in history"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10037"
  },
  {
    "number": 10040,
    "title": "TDG: Correct Orcish Sorceress description",
    "labels": [
      "Units",
      "Prose",
      "Campaign TDG"
    ],
    "body": null,
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/units/Orcish_Sorceress.cfg"
      }
    ],
    "commits_messages": [
      "TDG: Correct Orcish Sorceress description\n\n[ci skip]",
      "TDG: Update Orcish Sorceress description\n\n[ci skip]",
      "TDG: Update Orcish Sorceress description\n\n[ci skip]"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10040"
  },
  {
    "number": 10033,
    "title": "PUA: Access only the right unit type ID attribute",
    "labels": [
      "Lua API"
    ],
    "body": "Fixes #10032.",
    "files": [
      {
        "filename": "data/modifications/pick_advance/main.lua"
      }
    ],
    "commits_messages": [
      "PUA: Access only the right unit type ID attribute"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10033"
  },
  {
    "number": 10054,
    "title": "Generalise log domain matching rules",
    "labels": [
      "Docs",
      "Command Line"
    ],
    "body": "Previously, `--log-debug='*'` would not match all domains. Similarly, `conf*` would not be a correct pattern, etc.\r\n\r\nWith this change, special handling of top-level domains is removed. For example, the `config` domain will be matched by `conf*`.\r\n\r\nAll domains can be matched by the magic string `all` as before, or by using `*`.\r\n\r\nBasic manual testing was performed for this PR:\r\n\r\n* broken domain patterns that do not match anything result in an error, as expected.\r\n\r\n* patterns `all` and `*` were tested.\r\n\r\n* specifying `conf*` correctly enables the config domain.\r\n\r\n* specifying `gui/*` does not enable the config domain.\r\n\r\n* patterns containing a comma (delimiter) are handled \"correctly\", that is, individual components are understood and processed separately. For example, `--log-debug='gui/*,conf*'` would enable debug logging for everything in the `gui` domain and `config` (as it's the only domain that matches `conf*`).\r\n\r\nFixes https://github.com/wesnoth/wesnoth/issues/10052",
    "files": [
      {
        "filename": "doc/man/wesnoth.6"
      },
      {
        "filename": "src/log.cpp"
      }
    ],
    "commits_messages": [
      "Generalise log domain matching rules\n\nPreviously, `--log-debug='*'` would not match all domains.\nSimilarly, `conf*` would not be a correct pattern, etc.\n\nWith this change, special handling of top-level domains is removed.\nFor example, the config domain will not be matched by `conf*`.\n\nAll domains can be matched by the magic string \"all\" as before,\nor by using `*`.\n\nBasic manual testing was performed for this PR:\n\n* broken domain patterns that do not match anything\nresult in an error, as expected.\n\n* patterns containing a comma (delimiter)\nare handled \"correctly\", that is, individual components\nare understood and processed separately.\n\n* patterns \"all\" and \"*\" were tested.\n\n* specifying \"conf*\" correctly enables the config domain.\n\n* specifying \"gui/*\" does not enable the config domain.\n\nFixes https://github.com/wesnoth/wesnoth/issues/10052",
      "Update the logging information in the man page"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10054"
  },
  {
    "number": 10043,
    "title": "TSG help.cfg: improve translatability of \"ranged attack\" help message",
    "labels": [
      "Campaign TSG"
    ],
    "body": "As pointed out by @Wedge009 / @stevecotton in #9682, this string may need to be translated differently depending on the type of unit being attacked.\r\n\r\nAlso removes the message when attacking a Thief - Rogues (which IIRC are the only thief-line unit you fight in this campaign) have a ranged attack.",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_help.cfg"
      }
    ],
    "commits_messages": [
      "Update sg_help.cfg",
      "Update sg_help.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10043"
  },
  {
    "number": 10041,
    "title": "rich label: support setting table bgcolors from definition",
    "labels": [
      "UI",
      "Help",
      "Schema"
    ],
    "body": "Adds a `[colors]` tag under `[rich_label_definition]`. This allows associating color values with names which can later be accessed from Help Markup (for now just from `<table><row bgcolor=...>`).\r\nUses this functionality to improve Help Browser table's  appearance.\r\n![Screenshot from 2025-03-17 17-29-01](https://github.com/user-attachments/assets/f208c46e-dddf-4d6b-b32f-768bcef342a9)\r\n![Screenshot from 2025-03-17 17-29-08](https://github.com/user-attachments/assets/07b3a11f-7f88-4661-be3e-94968ac9f4ee)\r\n",
    "files": [
      {
        "filename": "data/gui/themes/default/widgets/rich_label_default.cfg"
      },
      {
        "filename": "data/schema/gui/widget_definitions.cfg"
      },
      {
        "filename": "src/gui/widgets/rich_label.cpp"
      },
      {
        "filename": "src/gui/widgets/rich_label.hpp"
      },
      {
        "filename": "src/help/help_topic_generators.cpp"
      }
    ],
    "commits_messages": [
      "rich label: support setting table bgcolors from definition"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10041"
  },
  {
    "number": 10038,
    "title": "Make sure formula symbol tables get deleted properly",
    "labels": [
      "Units",
      "Lua API",
      "WFL"
    ],
    "body": null,
    "files": [
      {
        "filename": "src/formula/formula.cpp"
      },
      {
        "filename": "src/formula/formula.hpp"
      },
      {
        "filename": "src/scripting/lua_formula_bridge.cpp"
      },
      {
        "filename": "src/scripting/lua_formula_bridge.hpp"
      },
      {
        "filename": "src/side_filter.cpp"
      },
      {
        "filename": "src/units/abilities.cpp"
      },
      {
        "filename": "src/units/attack_type.cpp"
      },
      {
        "filename": "src/units/filter.cpp"
      }
    ],
    "commits_messages": [
      "Make sure formula symbol tables get deleted properly"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10038"
  },
  {
    "number": 10014,
    "title": "HttT S19c: Fix and improve drake spawn algorithm",
    "labels": [
      "Campaign HttT"
    ],
    "body": "The current version has been bugged since 701a52d in 2010. The intention of the change back then was to make level X drakes always spawn in X turns. However, whenever level 3 is randomly rolled on turn n, instead of spawning the unit on turn n+2 as intended, another random roll starts on turn n+1 to reset the previous roll. This results in much fewer level 3 drake spawns (intended=25%, actual=8%) and empty drake nests for too long (in theory, a nest can be empty forever if 3 gets rolled again and again).\r\n\r\nAlso, in the current version, only 3 Drake Clasher line drakes (lvl 1 Drake Clasher, lvl 2 Drake Thrasher, lvl 2 Drake Arbiter) don\u2019t appear in this scenario out of all 17 drakes in the game, but there is no reason to exclude them. Now that a drake campaign, Winds of Fate, is added to the mainline, having a chance to introduce all drake units in HttT probably makes sense, too.\r\n\r\nTo fix the spawning rate and to introduce all drake units, the following changes are made:\r\n\r\n1. The current version has 9 drake nests of the same nature. The fixed version has 2 different types of drake nests: melee drake nests (`name=drake_bases_melee`) and ranged drake nests (`name=drake_bases`). In 2 melee drake nests, only lvl 1 ~ 3 Drake Clasher line drakes spawn because they are the only drakes that don\u2019t have ranged attacks. In 8 ranged drake nests, all the other lvl 1 ~ 3 drakes spawn. The decision to separate the nests was made because a simpler solution of spawning all drakes from all nests had an issue during experiments; players can easily avoid nests whenever melee drakes spawn because these non-flying melee drakes are extremely slow and can\u2019t move far. \r\n\r\n2. Related to the change above, some map terrains are changed. A water village is turned into a drake nest, so the total number of villages remains the same. By placing 2 melee drake nests near the cave with enough fords around, it is difficult for players to ignore them, especially when they are surrounded by mountains that merfolks can\u2019t reach. Terrains outside the picture below are unchanged.\r\n\r\n![HttT-19c-current-vs-fixed-50%](https://github.com/user-attachments/assets/cfc03c3f-d7b3-4d2f-8ae2-395cad96e0e2)\r\n\r\n3. The current version seems to be lvl 1 : 2 : 3 = 31% : 62% : 8% in theory although the original intention is 25% : 50% : 25%. The fixed version is 40% : 40% : 20%. The chance of lvl 1 spawns is increased to mitigate the difficulty change due to having many more lvl 3 spawns. The same algorithm is used for both drake base types.\r\n\r\nReplays are attached:\r\n[Orek-v1180-19c-HttT-The Cliffs of Thoria replay.gz](https://github.com/user-attachments/files/19145140/Orek-v1180-19c-HttT-The.Cliffs.of.Thoria.replay.gz)\r\n[Orek-v1182-19c-fixedversion-HttT-The Cliffs of Thoria replay.gz](https://github.com/user-attachments/files/19145139/Orek-v1182-19c-fixedversion-HttT-The.Cliffs.of.Thoria.replay.gz)\r\n\r\nlvl 1: 2: 3 = 34% : 66% : 7% (current version, 1.18.0, close to theory)\r\nlvl 1: 2: 3 = 38% : 34% : 28% (fixed version, 1.18.2, higher lvl 3 than theory)\r\n\r\nI\u2019m not a WML expert, so I appreciate it if someone could check the fixed code. I didn't find any errors in my test play in 1.18.2 above, but there may be some edge cases that I didn't notice. Also, I\u2019m not trying to push my own agenda or anything, so any other fix ideas are very welcome.",
    "files": [
      {
        "filename": "data/campaigns/Heir_To_The_Throne/maps/19c_Cliffs_of_Thoria.map"
      },
      {
        "filename": "data/campaigns/Heir_To_The_Throne/scenarios/19c_Cliffs_of_Thoria.cfg"
      }
    ],
    "commits_messages": [
      "Drake spawn fix\n\nDrake spawn algorithm is fixed and improved. A drake nest is added to the map. Drake nests are separated into 2 types.",
      "Fix indentation"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10014"
  },
  {
    "number": 10036,
    "title": "Move TDG's spells to a separate file + bug fix",
    "labels": [
      "Campaign TDG"
    ],
    "body": "This pull request separates TDG's magic system and its spells, making it easier to create your own sets. I also fixed a bug with spell unlocking that I reported to @Dalas121 last year.\r\n\r\nNow I create small PRs that don't change anything globally, but are the basis for future improvements. Unfortunately, I don't have enough free time to update everything at once.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/skill_set.lua"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/spellcasting.lua"
      }
    ],
    "commits_messages": [
      "separate spells + unlock_spell fix",
      "shorten lua part",
      "indentation fix",
      "indentation fix + some improvements",
      "move locked indicator",
      "fix typo"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10036"
  },
  {
    "number": 9682,
    "title": "The South Guard: add Dalas's tutorial revision to mainline",
    "labels": [
      "Graphics",
      "Audio",
      "Units",
      "Schema",
      "Terrain",
      "Achievements",
      "Campaign AToTB",
      "Campaign EI",
      "Campaign TSG",
      "Campaign Tutorial"
    ],
    "body": "It's time. This PR replaces the current TSG with my TSG tutorial revision from the addon server.\r\n\r\nThis also ~~removes the existing tutorial~~ de-emphasizes the existing tutorial, though a similar \"tutorial\" will still be available in the upcoming \"Asheviere's Dogs\" campaign, as bonus scenarios aimed at nostalgic veterans.\r\n\r\n.\r\n\r\n~~I have not yet run wmlindent. As noted in #1397, wmlindent cannot handle more than one closer on the same line, which causes issues in this campaign. For example, wmlindent fails to properly indent this example macro:! EDIT [example removed]~~ \r\n\r\nSpeaking of macros: My campaigns make heavy use of space-shortening macros, like `{FILTER()}` or `{THEN()}` For me, these make the WML easier to read, bugfix, and maintain - but I realize these are unusual for mainline.\r\n\r\nIt's possible, if tedious, for me to remove them from TSG. But, they're absolutely essential for the more-complex TDG and HttT (my upcoming revision), and I'll have no chance of maintaining these campaigns without these simplifying macros - and a refactor of this scale would likely introduce countless bugs.\r\n\r\n.\r\n\r\nTSG and my other beginner-oriented reworks show floating \"Miss\" text when an attack misses - I noticed this was a common point of confusion for new players. As mentioned in #9461, I think this would work better as a core preference.\r\n\r\nThe rain/snow effects used in TSG are also used in other revisions of mine. Once we figure out how to handle resources in #9669, I'll need to move the rain/snow effects out of TSG and into a core resource.\r\n\r\nI do have a localization.xcf file prepared for the new bigmap, and will be adding it to `wesnoth/resources` after this PR.\r\n\r\n\"Captain Mari\" still needs a portrait; the plan is to commission one from LordBob (based on his WIP female fencers) alongside some story art and a young Asheviere portrait, once his Dunefolk portraits are finished.\r\n\r\nTSG is the first of several campaign revisions/additions planned for 1.20. I recognize this will be a major burden on translators, and that some revised campaign translations won't be finished in time for 1.20 (if ever...). TSG is the only campaign that I consider a priority to translate, as it's a tutorial aimed at beginners.\r\n\r\nEveryone's welcome to comment on dialogue - I'm sure there're typos and issues that need to be fixed, and I still need to add more po notes - but I may not respond to dialogue-related reviews if I broadly disagree or feel they're bikeshedding.\r\n",
    "files": [
      {
        "filename": "copyrights.csv"
      },
      {
        "filename": "data/campaigns/Eastern_Invasion/achievements.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/ART_LICENSE.txt"
      },
      {
        "filename": "data/campaigns/The_South_Guard/_main.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/achievements.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/campaign_image.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/horseman-commander-attack.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/horseman-commander-defend.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/horseman-commander-moving.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/horseman-commander.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/junior-commander-attack.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/junior-commander-defend.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/junior-commander-moving.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/junior-commander.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/mounted-general-defend.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/mounted-general-lance-1.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/mounted-general-lance-2.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/mounted-general-lance.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/mounted-general-moving.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/deoran/mounted-general.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/flag/SG-flag-1.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/flag/SG-flag-2.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/flag/SG-flag-3.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/flag/SG-flag-4.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/flag/SG-flag-icon.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/halo/fire-aura-small.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/icons/banner2.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/icons/banner3.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/icons/planb.png"
      },
      {
        "filename": "data/campaigns/The_South_Guard/images/maps/l10n/de/tsg--overlay.webp"
      }
    ],
    "commits_messages": [
      "Initial commit",
      "Update achievements.cfg",
      "TSG metadata test",
      "Update copyrights.csv",
      "copyrights.csv - add md5",
      "Update copyrights.csv",
      "TSG metadata test v2",
      "Set metadata for .webp images",
      "PNG metadata test",
      "png metadata",
      "png metadata re-test",
      "png metadata v2",
      "png metadata v3",
      "png metadata v4",
      "png metadata v5",
      "Merge branch 'wesnoth:master' into add-tsg-to-mainline",
      "Split [then][/then] onto separate lines to fix translations",
      "Merge branch 'add-tsg-to-mainline' of https://github.com/Dalas121/wesnothDalas into add-tsg-to-mainline",
      "Update 01_Born_to_the_Banner.cfg",
      "test fixing translation issues",
      "Update 02x_Westin.cfg",
      "more translations stuff",
      "remove BR macro",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update 04_Choice_in_the_Fog.cfg",
      "Update sg_utils.cfg",
      "more translations updates",
      "aftter running wmlindent (plus manual fixes)",
      "re-add tutorial campaign"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9682"
  },
  {
    "number": 10042,
    "title": "WFL/Formula: use a unique_ptr for the managed instance",
    "labels": [
      "WFL"
    ],
    "body": "Turns out we can use a unique_ptr after all, we just need to define the dtor out-of-line once function_symbol_table is a complete type.\r\n\r\nAlso adds a move ctor and assignment operator. This is necessary since the unique_ptr makes the class non-copyable, and also fixes a case in unit_filter_attribute_literal where a move was attempted but no move ctor provided.",
    "files": [
      {
        "filename": "src/formula/formula.cpp"
      },
      {
        "filename": "src/formula/formula.hpp"
      }
    ],
    "commits_messages": [
      "WFL/Formula: use a unique_ptr for the managed instance\n\nTurns out we can use a unique_ptr after all, we just need to define the dtor out-of-line once function_symbol_table is a complete type.\n\nAlso adds a move ctor and assignment operator. This is necessary since the unique_ptr makes the class non-copyable, and also fixes a case in unit_filter_attribute_literal where a move was attempted but no move ctor provided."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10042"
  },
  {
    "number": 10015,
    "title": "Improve scons/ python files code style standards",
    "labels": [
      "Building",
      "SCons"
    ],
    "body": "Addresses files in #9988 \r\n\r\nCan keep PR open till all files have been addressed.",
    "files": [
      {
        "filename": "scons/install.py"
      }
    ],
    "commits_messages": [
      "Remove unused imports, adjusted styling and naming conventions",
      "Add f strings for better readability",
      "remove f strings and add back FS import",
      "adjut line length for readability",
      "add back explicit references for imports",
      "import * from scons.scripts",
      "change function naming back to original"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10015"
  },
  {
    "number": 9819,
    "title": "Add queue-like functionality to the multiplayer lobby",
    "labels": [
      "MP",
      "UI",
      "Schema"
    ],
    "body": "This allows defining an [mp_queue] tag which contains [game] tags describing how to show the game in the lobby and what settings the game should use.\r\n\r\nFunctionally this adds an entry per [game] into the Matchmaking section of the MP lobby:\r\n* If a player clicks Join and there are no previously created games from this \"queue\" that are open, then the server instead responds telling the client to create the game. The game is created directly using the settings defined in its [game] tag, so for the player it looks like they clicked join and then go straight to the MP staging screen.\r\n* If a player clicks Join and there is an open game created from this \"queue\", then the server instead responds telling the client the actual ID of the game to join and the client then joins that game just as if they had clicked Join on a normal game.\r\n\r\n---\r\n\r\nThis is very very very WIP - there are probably at least a couple dozen blocker problems to fix/address, not least of which is that it doesn't actually go directly to the MP staging screen yet (it sets all the settings on the game creation screen but the player still needs to click the Create button). However the core functionality does essentially work (at least locally), so I'm opening this to see if this is a reasonable approach given Wesnoth's client/server architecture or alternatively if it's so flawed that it's not worth spending more time on.\r\n\r\nAnd yes, I know this is not actually a queue. If anyone has an alternative that's both short and descriptive for a regular player, feel free to suggest it.",
    "files": [
      {
        "filename": "data/_main.cfg"
      },
      {
        "filename": "data/game_presets.cfg"
      },
      {
        "filename": "data/schema/game_config.cfg"
      },
      {
        "filename": "src/game_initialization/connect_engine.cpp"
      },
      {
        "filename": "src/game_initialization/create_engine.cpp"
      },
      {
        "filename": "src/game_initialization/create_engine.hpp"
      },
      {
        "filename": "src/game_initialization/depcheck.cpp"
      },
      {
        "filename": "src/game_initialization/depcheck.hpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.cpp"
      },
      {
        "filename": "src/game_initialization/lobby_data.hpp"
      },
      {
        "filename": "src/game_initialization/lobby_info.cpp"
      },
      {
        "filename": "src/game_initialization/multiplayer.cpp"
      },
      {
        "filename": "src/game_initialization/playcampaign.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/lobby.hpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.cpp"
      },
      {
        "filename": "src/gui/dialogs/multiplayer/mp_create_game.hpp"
      },
      {
        "filename": "src/server/wesnothd/game.cpp"
      },
      {
        "filename": "src/server/wesnothd/game.hpp"
      },
      {
        "filename": "src/server/wesnothd/server.cpp"
      }
    ],
    "commits_messages": [
      "Add queue-like functionality to the multiplayer lobby\n\nThis allows defining an [mp_queue] tag which contains [game] tags describing how to show the game in the lobby and what settings the game should use.\n\nFunctionally this adds an entry per [game] into the Matchmaking section of the MP lobby:\n* If a player clicks Join and there are no previously created games from this \"queue\" that are open, then the server instead responds telling the client to create the game. The game is created directly using the settings defined in its [game] tag, so for the player it looks like they clicked join and then go straight to the MP staging screen.\n* If a player clicks Join and there is an open game created from this \"queue\", then the server instead responds telling the client the actual ID of the game to join and the client then joins that game just as if they had clicked Join on a normal game.",
      "fix some issues\n\ngot rid of duplicate attributes in queue game definition\nfixed the map preview and dimensions not populating in the lobby\nclicking join now skips the game creation screen\nfixed finding the scenario and era specified in the queue game",
      "CI fixes",
      "properly mark the game as a queue game\n\nput the created game under the correct tab in the lobby",
      "last fixups\n\nalso support multiple game queues",
      "pass the value around instead of using a static field",
      "address review comments",
      "fix a couple crashes",
      "git add -A",
      "whitespace",
      "ci",
      "ci",
      "ci",
      ".",
      ".",
      "."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9819"
  },
  {
    "number": 10035,
    "title": "Delete spacer in TDG's spellcasting dialog",
    "labels": [
      "Campaign TDG"
    ],
    "body": "This is my first in a series of PRs that will gradually replace the current TDG's magic system with a better and more developer-friendly version, which is currently used in CtL, as it was agreed with @Dalas121 \r\n\r\nThis PR removes a spacer that was significantly increasing the width of the spellcasting dialog in the new interface 1.19 due to the increased font size of title_text\r\n\r\n**Before**\r\n![1285](https://github.com/user-attachments/assets/b74985f8-46d0-400b-b765-30b97125eaa8)\r\n\r\n\r\n**After**\r\n![image4445465342](https://github.com/user-attachments/assets/afd21cab-fd79-4406-8f27-c8d2acc6d95a)\r\n",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/lua/spellcasting.lua"
      }
    ],
    "commits_messages": [
      "spacer fix"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10035"
  },
  {
    "number": 10011,
    "title": "Styling changes for readability",
    "labels": [
      "Building"
    ],
    "body": "All the changes should be strictly styling changes to be more like other python files that are found in the project.  I didn't adjust any lines based off of line length because of the note about no min line length from the coding style guide on the website. ",
    "files": [
      {
        "filename": "add_source_file"
      }
    ],
    "commits_messages": [
      "Add files via upload"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10011"
  },
  {
    "number": 9985,
    "title": "Android: hardcode landscape (right) orientation",
    "labels": [
      "Packaging",
      "Android"
    ],
    "body": "Added 1 line for landscape orientation, at line 77, the following: _android:screenOrientation=\"landscape\"_\r\nThis instructs Android to always have landscape orientation (to right side of screen)",
    "files": [
      {
        "filename": "packaging/android/app/src/main/AndroidManifest.xml"
      }
    ],
    "commits_messages": [
      "Added android:screenOrientation=\"landscape\" at line 77 of AndroidManifest.xml to hardcode landscape (right) orientation.\n\nThe change is the following: android:screenOrientation=\"landscape\". This instructs Android to always have landscape orientation (to right side of screen)",
      "Avoid crash in Android by hardcoding it to use landscape rotation",
      "Revert: Remove changes from incorrect AndroidManifest.xml",
      "Android: hardcode landscape (right) orientation\n\nRemoved a trailing > typo.",
      "Android: hardcode landscape (right) orientation\n\nProper closing tags and inclusion of of screenorientation field at WesnothActivity"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9985"
  },
  {
    "number": 10025,
    "title": "Use the alternative Troll Hero profile as a profile for the Great Troll",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "I think it is a waste not to use a unique portrait for Great Troll when there is a possibility.",
    "files": [
      {
        "filename": "data/core/units/trolls/Great.cfg"
      }
    ],
    "commits_messages": [
      "Use the alternative Troll Hero profile as a profile for the Great Troll\n\nI think it is a waste not to use a unique portrait for Great Troll when there is a possibility.",
      "Use the alternative Troll Hero profile as a profile for the Great Troll\n\nI think it is a waste not to use a unique portrait for Great Troll when there is a possibility.",
      "Update Great.cfg",
      "Rename troll-great.webp to troll-hero-alt.webp"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10025"
  },
  {
    "number": 9979,
    "title": "Add various terrain type subtables",
    "labels": [
      "Lua API",
      "Help",
      "Terrain"
    ],
    "body": "Resolves #9969.\r\nThese expose `terrain_type::mvt_type()` and `terrain_type::def_type()` as `mvt_alias` and `def_alias` subtables (array) to `wesnoth.terrain_types` table, which have the same meaning as mentioned in [TerrainWML](https://wiki.wesnoth.org/TerrainWML).\r\n\r\n(Note: no way to figure out whether it is a `best of` or `worst of` for the latter two yet, because it's a bit too involved, but may be done in future.)",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/help/help_topic_generators.cpp"
      },
      {
        "filename": "src/scripting/game_lua_kernel.cpp"
      },
      {
        "filename": "utils/emmylua/wesnoth.lua"
      }
    ],
    "commits_messages": [
      "help topic generator: cleanup, move special notes to separate function",
      "wesnoth.terrain_types: add mvt_alias and def_alias\n\nthese expose `terrain_type::mvt_type()` and ``terrain_type::def_type()` respectively.\n(#9969)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9979"
  },
  {
    "number": 10026,
    "title": "EI S14: undefine GOLD_PICKUP macro",
    "labels": [
      "Campaign EI"
    ],
    "body": "Closes #10024",
    "files": [
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/14_The_Drowned_Plains.cfg"
      }
    ],
    "commits_messages": [
      "Update 14_The_Drowned_Plains.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10026"
  },
  {
    "number": 10008,
    "title": "#9540 simple sprite shadow fix",
    "labels": [
      "Graphics",
      "Units"
    ],
    "body": "First time contribution so please contact me if I do not follow standard procedure. Fixes #9540\r\n\r\nSimple sprite fixes to non-consistent shadows for Horseman and Lancer. This may have been caused by using dark mode in editor as the shadows are indistinguishable. Switching to light mode reveals the inconsistencies and the appropriate changes have been made. I have also checked all Horseman and Lancer sprites and no further issues with shadow can be seen.\r\n",
    "files": [
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-1.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-2.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-3.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-4.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/horseman/horseman-ne-breeze-5.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-1.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-2.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-3.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-4.png"
      },
      {
        "filename": "data/core/images/units/human-loyalists/lancer/lancer-breeze-5.png"
      },
      {
        "filename": "data/core/images/units/human-peasants/peasant-attack2-s.png"
      },
      {
        "filename": "data/core/images/units/human-peasants/peasant-attack3-s.png"
      }
    ],
    "commits_messages": [
      "Fix shadow inconsistencies in Lancer/Horseman breeze and peasant attack frames"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10008"
  },
  {
    "number": 10018,
    "title": "[1.18] Fix failure to build on current versions of MSVC",
    "labels": [
      "Windows",
      "Building"
    ],
    "body": "A recent change in an upstream library must've resulted in an indirect inclusion of `<chrono>` disappearing:\r\n\r\n```\r\nD:\\wesnoth-1.18\\src\\log.cpp(429): error C2039: 'high_resolution_clock': is not a member of 'std::chrono'\r\n```\r\n\r\nWhatever the case may be, adding one of our own fixes this and poses no issue on other platforms.\r\n\r\n(Not needed in the dev branch since the same include was already added by commit 2d765118ed48a976b102c5b296a8062d0846922a.)",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "src/log.cpp"
      }
    ],
    "commits_messages": [
      "Fix failure to build on current versions of MSVC\n\nA recent change in an upstream library must've resulted in an indirect\ninclusion of <chrono> disappearing:\n\n  D:\\wesnoth-1.18\\src\\log.cpp(429): error C2039: 'high_resolution_clock': is not a member of 'std::chrono'\n\nWhatever the case may be, adding one of our own fixes this and poses no\nissue on other platforms.\n\n(Not needed in the dev branch since the same include was already added\nby commit 2d765118ed48a976b102c5b296a8062d0846922a.)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10018"
  },
  {
    "number": 10019,
    "title": "Fix prefs call in backport",
    "labels": [],
    "body": null,
    "files": [
      {
        "filename": "src/game_launcher.cpp"
      }
    ],
    "commits_messages": [
      "Fix prefs call in backport",
      "Apply suggestions from code review"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10019"
  },
  {
    "number": 9990,
    "title": "Adding the [have_side] tag",
    "labels": [
      "Unit Tests",
      "UI",
      "Units",
      "Lua API",
      "Schema",
      "Campaign THoT"
    ],
    "body": "Solving #9936 \r\nNot sure if it is the right find into which to had the code.",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/lua/wml-conditionals.lua"
      },
      {
        "filename": "data/schema/core/conditionalwml.cfg"
      }
    ],
    "commits_messages": [
      "Adding the [have_side] tag",
      "Updated changelog",
      "Update have_side branch to latest master",
      "Merge branch 'master' into have_side",
      "Merge branch 'master' into have_side",
      "Added a count argument similar to [have_unit] tag. Added to schema",
      "Removing a whitespace"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9990"
  },
  {
    "number": 10007,
    "title": "canvas: draw circle using cairo",
    "labels": [
      "Graphics",
      "UI"
    ],
    "body": "The circle shape in canvas is now drawn antialiased using cairo.\r\n\r\n![Screenshot from 2025-03-09 18-52-27](https://github.com/user-attachments/assets/d9319b72-15e1-43fb-9cb3-463f17ff9174)",
    "files": [
      {
        "filename": "data/gui/themes/celes/widgets/toggle_button_radio.cfg"
      },
      {
        "filename": "images/buttons/modern/dot.png"
      },
      {
        "filename": "images/buttons/modern/radiobox-pressed.png"
      },
      {
        "filename": "images/buttons/modern/radiobox.png"
      },
      {
        "filename": "src/draw.cpp"
      },
      {
        "filename": "src/draw.hpp"
      },
      {
        "filename": "src/font/cairo.hpp"
      },
      {
        "filename": "src/gui/core/canvas.cpp"
      }
    ],
    "commits_messages": [
      "canvas: draw circle using cairo\n\nthe circle is now antialiased using cairo."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10007"
  },
  {
    "number": 10017,
    "title": "TDG S06: clarify scenario objectives",
    "labels": [
      "Campaign TDG"
    ],
    "body": "TDG S06 requires the player to both rescue Asheviere and also survive until turns run out.\r\n\r\nWith this commit, re-show objectives after rescuing Asheviere, and strikethrough the completed ones.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/06_Ring_of_Swords.cfg"
      }
    ],
    "commits_messages": [
      "TDG S06: clarify scenario objectives\n\nTDG S06 requires the player to both rescue Asheviere and also survive until turns run out.\r\n\r\nWith this commit, re-show objectives after rescuing Asheviere, and strikethrough the completed ones.",
      "Update 06_Ring_of_Swords.cfg",
      "Fix whitespace"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10017"
  },
  {
    "number": 9947,
    "title": "AToTB S3 Map: Aesthetic Revision",
    "labels": [
      "Campaign AToTB"
    ],
    "body": "@Dalas121 Hope I have at least slightly improved this, though the revision is much smaller than most of my previous ones.\r\n\r\nCurrent Map:\r\n\r\n![atotb-s3-old](https://github.com/user-attachments/assets/101ab4a9-f236-4bd7-9801-39bf33ae8622)\r\n\r\nProposed map:\r\n\r\n![atotb-s3-new](https://github.com/user-attachments/assets/82371bec-2603-4258-a495-d84e085b0883)",
    "files": [
      {
        "filename": "data/campaigns/Two_Brothers/maps/03_Guarded_Castle.map"
      }
    ],
    "commits_messages": [
      "AToTB S3 Map: Aesthetic Revision"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9947"
  },
  {
    "number": 9994,
    "title": "Fix some indentation and make CI abort if wmlindent errors",
    "labels": [
      "CI",
      "Campaign TSG"
    ],
    "body": "Indentation was fixed by adding a newline to constructs with excessive density and running wmlindent again. While the constructs were not particularly readable it wouldn't hurt if wmlindent would cope a bit better.",
    "files": [
      {
        "filename": ".github/workflows/ci-main.yml"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/03_Vale_of_Tears.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/04_Choice_in_the_Fog.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06a_Vengeance.cfg"
      },
      {
        "filename": "data/campaigns/The_South_Guard/scenarios/06b_The_Tides_of_War.cfg"
      },
      {
        "filename": "utils/CI/fix_whitespace.sh"
      }
    ],
    "commits_messages": [
      "Fix some indentation and make CI abort if wmlindent errors\n\nIndentation was fixed by adding a newline to constructs with excessive density\nand running wmlindent again. While the constructs were not particularly\nreadable it wouldn't hurt if wmlindent would cope a bit better."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9994"
  },
  {
    "number": 9984,
    "title": "help browser: add search functionality",
    "labels": [
      "UI",
      "Help"
    ],
    "body": "Resolves #4450.\r\n\r\n- [x] Does not work with topics generated by a help topic generator for some reason.\r\n- [ ] ~~Add \"Search contents\" functionality.~~ (Might be done in a future PR)\r\n\r\n![Screenshot from 2025-03-03 22-48-43](https://github.com/user-attachments/assets/e5d6e7ce-655f-428f-80a8-057e27168687)\r\n",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/gui/themes/default/dialogs/help_browser.cfg"
      },
      {
        "filename": "src/gui/dialogs/help_browser.cpp"
      },
      {
        "filename": "src/gui/dialogs/help_browser.hpp"
      }
    ],
    "commits_messages": [
      "help browser: add search functionality"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9984"
  },
  {
    "number": 10004,
    "title": "TSG: sg_help.cfg: use correct variable call",
    "labels": [
      "Campaign TSG"
    ],
    "body": "closes #10003",
    "files": [
      {
        "filename": "data/campaigns/The_South_Guard/utils/sg_help.cfg"
      }
    ],
    "commits_messages": [
      "TSG: sg_help.cfg: use correct variable call\n\ncloses #10003"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/10004"
  },
  {
    "number": 9970,
    "title": "Add `[unit]dismissable` and `[unit]block_dismiss_message`",
    "labels": [
      "Unit Tests",
      "UI",
      "WML",
      "Units",
      "Schema"
    ],
    "body": "Resolves #8964.\r\n\r\nAdds `dismissable` and `block_dismiss_message` keys to `[unit]`\r\nUsed in conjunction with `Dismiss` button on Unit Recall Dialog. If `dismissable` is false, the unit cannot be dismissed using the `Dismiss` button in the Unit Recall dialog, and doing so will show the `block_dismiss_message` if provided, else will show a default hardcoded message.",
    "files": [
      {
        "filename": "changelog.md"
      },
      {
        "filename": "data/schema/units/single.cfg"
      },
      {
        "filename": "data/test/scenarios/manual_tests/scenario-test.cfg"
      },
      {
        "filename": "src/gui/dialogs/units_dialog.cpp"
      },
      {
        "filename": "src/units/unit.cpp"
      },
      {
        "filename": "src/units/unit.hpp"
      }
    ],
    "commits_messages": [
      "unit: add `dismissable` and `block_dismiss_message`\n\nUsed in conjunction with `Dismiss` button on Unit Recall Dialog."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9970"
  },
  {
    "number": 9992,
    "title": "THoT-S3: make AI sides smarter",
    "labels": [
      "Enhancement",
      "Campaign THoT"
    ],
    "body": "- Side 2 will be less reckless and more defensive\r\n- Side 3 will avoid making stupid moves, like placing units on water for easy kills\r\n\r\nPlayers have mentioned they are disappointed in AI allies in this scenario not performing as well as they expect them too.",
    "files": [
      {
        "filename": "data/campaigns/The_Hammer_of_Thursagan/scenarios/03_Strange_Allies.cfg"
      }
    ],
    "commits_messages": [
      "THoT-S3: make AI sides smarter\n\n- Side 2 will be less reckless and more defensive\n- Side 3 will avoid making stupid moves, like placing units on water for easy kills"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9992"
  },
  {
    "number": 9974,
    "title": "GUI2: harden theme definition parsing",
    "labels": [
      "UI"
    ],
    "body": "- Ensure current_gui is a valid iterator after calling init(). It should match default_gui\r\n- Ensure current_gui is always set to guis.end() if the requested theme isn't found in switch_theme(). It's initialized as such in gui_definition.cpp, but we shouldn't rely on that always being the case, especially in a function that changes it.\r\n- Only create one schema validator for all themes. Previously, it would have been created anew for each addon with a custom theme.\r\n- Add explicit exception handling for an invalid schema path or invalid gui2 entry point\r\n- Add explicit warning for addon themes with the id \"default\"\r\n- Catch `wml_exception` when creating gui_definition objects for all themes (previously, this was only caught for add-on themes)\r\n- Adjust error messages\r\n- Fix duplicate theme errors when reloading cache (addresses one part of #9781). GUI2 definition changes now take effect without the need to restart the entire game. A cache reload is sufficient.\r\n- Use `_main.cfg` for core theme entry points\r\n- Include macros at global core GUI2 score instead of only in the default theme (they were always available to both themes, this just makes that clearer)",
    "files": [
      {
        "filename": "data/gui/_main.cfg"
      },
      {
        "filename": "data/gui/themes/celes/_main.cfg.cfg"
      },
      {
        "filename": "data/gui/themes/default/_main.cfg.cfg"
      },
      {
        "filename": "src/gui/gui.cpp"
      },
      {
        "filename": "src/gui/gui.hpp"
      },
      {
        "filename": "src/serialization/parser.cpp"
      },
      {
        "filename": "src/serialization/parser.hpp"
      }
    ],
    "commits_messages": [
      "GUI2: harden theme definition parsing\n\n- Ensure current_gui is a valid iterator after calling init(). It should match default_gui\n- Ensure current_gui is always set to guis.end() if the requested theme isn't found in switch_theme(). It's initialized as such in gui_definition.cpp, but we shouldn't rely on that always being the case, especially in a function that changes it.\n- Only create one schema validator for all themes. Previously, it would have been created anew for each addon with a custom theme.\n- Add explicit exception handling for an invalid schema path\n- Add explicit warning for addon themes with the id \"default\"\n- Catch `wml_exception` when creating gui_definition objects for core themes (previously, this was only caught for add-on themes)\n- Fix duplicate theme errors when reloading cache (addresses one part of #9781)\n- Use `_main.cfg` for core theme entry points\n- Include macros at global core GUI2 score instead of only in the default theme (they were always available to both themes, this just makes that clearer)",
      "adjustments",
      "fixup",
      "let's leave these as nullopt"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9974"
  },
  {
    "number": 3653,
    "title": "Port the help browser to GUI2",
    "labels": [
      "macOS",
      "MP",
      "UI",
      "Editor",
      "Building",
      "Help",
      "Schema"
    ],
    "body": "Reopening #994 as a new PR because GitHub won't let me actually reopen the old one.\r\n\r\nThis is a rebase which adds a bunch of commits from @Vultraz from the previous master branch. There were a bunch of conflicts, so these added commits may not be entirely what _should_ be on this branch.",
    "files": [
      {
        "filename": "data/core/editor/help.cfg"
      },
      {
        "filename": "data/core/help.cfg"
      },
      {
        "filename": "data/gui/macros/_initial.cfg"
      },
      {
        "filename": "data/gui/themes/default/widget/label_default.cfg"
      },
      {
        "filename": "data/gui/themes/default/widget/rich_label_default.cfg"
      },
      {
        "filename": "data/gui/themes/default/widget/toggle_button_help_topic.cfg"
      },
      {
        "filename": "data/gui/themes/default/window/help_browser.cfg"
      },
      {
        "filename": "data/multiplayer/factions/drakes-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/drakes-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/dunefolk-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/dunefolk-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/knalgans-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/knalgans-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/loyalists-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/loyalists-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/northerners-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/northerners-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/rebels-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/rebels-default.cfg"
      },
      {
        "filename": "data/multiplayer/factions/undead-aoh.cfg"
      },
      {
        "filename": "data/multiplayer/factions/undead-default.cfg"
      },
      {
        "filename": "data/schema/gui/generic.cfg"
      },
      {
        "filename": "data/schema/gui/widget_instances.cfg"
      },
      {
        "filename": "data/schema/types/gui.cfg"
      },
      {
        "filename": "projectfiles/CodeBlocks/tests.cbp"
      },
      {
        "filename": "projectfiles/Xcode/The Battle for Wesnoth.xcodeproj/project.pbxproj"
      },
      {
        "filename": "source_lists/boost_unit_tests"
      },
      {
        "filename": "source_lists/wesnoth"
      },
      {
        "filename": "src/font/text.cpp"
      },
      {
        "filename": "src/font/text.hpp"
      }
    ],
    "commits_messages": [
      "Help Browser: Actually show the correct topics with the correct icons\n\nThis also fixes the lag when opening help and makes the topic text appear.\n(The topic text is not parsed at the moment, though.)",
      "Help Viewer: Show topics with generated text",
      "Help: That parameter isn't really needed",
      "Help Browser: improved layout stability and added next/back buttons (non-functional, of course)",
      "Help Viewer: Parse help markup to Pango markup... mostly.\n\nThe help parser now outputs a config rather than a vector of strings of\nwhich some should be taken literally and others parsed as WML.",
      "Help Browser: implemented viewing of sub-sections/topics",
      "Moved new help entry point to a common location",
      "Help Browser: Implement history",
      "Fix GUI1 help topics not showing",
      "Help Browser: properly implement toggling by clicking the book icons",
      "Help Browser: Fix back button being visible when dialog opens",
      "Help Browser: Show topic title",
      "Help Browser: Don't double-list a section's root topic",
      "Help Browser: Support arbitrary initial topic\n\nHidden topics still untested.",
      "Help Browser: fixup topic title layout",
      "Help Browser: removed help topic padding",
      "Some build fixups to reflect changes since the help commits were originally made",
      "Help: removed code to show old GUI1 help browser\n\nAttempting to launch it crashes the game (probably to do with a null video surface),\nand since it's being replaced there's no point in restoring it to functionality.\n\nThe implementation details (help_menu, etc) have been left for now. Will remove soon.\n\nThis also means the GUI2 help browser is shown by default now.",
      "Removed GUI1 Help interface code\n\nNot needed anymore since we're moving to GUI2 for this dialog.",
      "various rich_label bugfixes",
      "help browser changes\n\n1. back/forward button functionality\n2. some ui adjustments\n3. use rich_label",
      "convert help_topic_generator to new markup (partial)",
      "help text adjustments to new markup (partial)",
      "new definitions for label and new font size macros",
      "rich label bugfixes",
      "Rewrite the help markup parser.\n\nIt is now roughly a superset of Pango and supports the following new features\n* XML character entities, including decimal and hex entities, common named entities (apos, quot, lt, gt, amp), and even unrecognized named entities\n* Nesting tags within each other (new-style only)\n* Attributes without a value",
      "Help markup parser: Fix some issues with auto-closed tags",
      "Help markup parser: Avoid UB and unused param when checking closing tag",
      "rich label: fix broken tables and reorganize code",
      "insert paragraph breaks correctly"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/3653"
  },
  {
    "number": 9975,
    "title": "CI: run boost unit tests on a release build only",
    "labels": [],
    "body": "The debug CI build is consistently the last CI job to finish, usually behind even the Windows and Mac jobs.",
    "files": [
      {
        "filename": ".github/workflows/ci-main.yml"
      }
    ],
    "commits_messages": [
      "CI: run boost unit tests on a release build only\n\nThe debug CI build is consistently the last CI job to finish, usually behind even the Windows and Mac jobs."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9975"
  },
  {
    "number": 9957,
    "title": "Editor Adjustments",
    "labels": [
      "UI",
      "Editor",
      "Input"
    ],
    "body": "Resolves #9956.\r\n\r\nA new \"Convert to Scenario\" option added to \"File\" menu to allow converting the currently active map to a scenario has been added.\r\n\r\n(Can be squash-merged)",
    "files": [
      {
        "filename": "data/core/editor/help.cfg"
      },
      {
        "filename": "data/themes/editor.cfg"
      },
      {
        "filename": "src/editor/controller/editor_controller.cpp"
      },
      {
        "filename": "src/editor/map/context_manager.cpp"
      },
      {
        "filename": "src/editor/map/context_manager.hpp"
      },
      {
        "filename": "src/hotkey/hotkey_command.cpp"
      },
      {
        "filename": "src/hotkey/hotkey_command.hpp"
      }
    ],
    "commits_messages": [
      "map editor: add a \"Convert to Scenario\" option",
      "update help: Save As Scenario -> Convert to Scenario",
      "map/scenario editor: add enough sides based on starting positions on map"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9957"
  },
  {
    "number": 9966,
    "title": "Eastern Invasion S11",
    "labels": [
      "Prose",
      "Campaign EI"
    ],
    "body": "Improvement upon 7e461ae2f52c28c37a41016e92776c30a806ce5a.\r\n\r\n[ci_skip]",
    "files": [
      {
        "filename": "data/campaigns/Eastern_Invasion/scenarios/11_Captured.cfg"
      }
    ],
    "commits_messages": [
      "EI S11: Improvement upon 7e461ae2f52c28c37a41016e92776c30a806ce5a.\n\n[ci_skip]"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9966"
  },
  {
    "number": 9961,
    "title": "Note that iOS/Android versions are currently unmaintained in readme",
    "labels": [
      "Docs"
    ],
    "body": "I am aware Wesnoth is being ported to android, but this is not yet finished and not the version linked here.",
    "files": [
      {
        "filename": "README.md"
      }
    ],
    "commits_messages": [
      "Note that iOS/Android versions are currently unmaintained in readme",
      "Use soliton\u2019s suggestion\n\nCo-authored-by: Gunter Labes <soliton@wesnoth.org>",
      "Update README.md"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9961"
  },
  {
    "number": 9963,
    "title": "Update Firebomb Ant and Grand Dragonfly XP",
    "labels": [
      "Units"
    ],
    "body": "These are L2 units with no L3 advancement, but have 80xp for some reason. This PR changes them to the more standard 100xp.",
    "files": [
      {
        "filename": "data/core/units/monsters/Ant_Firebomb.cfg"
      },
      {
        "filename": "data/core/units/monsters/Dragonfly_Grand.cfg"
      }
    ],
    "commits_messages": [
      "Update Dragonfly_Grand.cfg",
      "Update Ant_Firebomb.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9963"
  },
  {
    "number": 9301,
    "title": "Fixes unit moving during attack selection screen",
    "labels": [
      "macOS",
      "Graphics",
      "MP",
      "Unit Tests",
      "UI",
      "Editor",
      "Units",
      "Lua API",
      "Building",
      "WFL",
      "Help",
      "Schema",
      "Campaign DW"
    ],
    "body": "### Goal of the PR\r\n- Resolves #8728.\r\n### How does the PR work?\r\n- By keeping the unit place not changed, and deal with the logic that a unit must stand beside the other in order to launch an attack.\r\n### Does it resolve any reported issue?\r\n- #8728\r\n### If not a bug fix, why is this PR needed? What use cases does it solve?\r\n- This is a bug fix.\r\n\r\n## To do\r\n\r\nAdjust possibly missed related method. If the ranged attack units(which can attack from 2 or more hexes away) come into being, more changes need to take place for backward compat.\r\n\r\nThis PR is Ready for Review.\r\n\r\n## How to test\r\nCompile and run, see the test video I uploaded, or see changes in the src.",
    "files": [
      {
        "filename": "src/gui/dialogs/attack_predictions.cpp"
      },
      {
        "filename": "src/gui/dialogs/attack_predictions.hpp"
      },
      {
        "filename": "src/gui/dialogs/unit_attack.cpp"
      },
      {
        "filename": "src/gui/dialogs/unit_attack.hpp"
      },
      {
        "filename": "src/mouse_events.cpp"
      },
      {
        "filename": "src/mouse_events.hpp"
      }
    ],
    "commits_messages": [
      "Squashed and Fix the unit teleport issue by moving code to mouse_event"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9301"
  },
  {
    "number": 9951,
    "title": "Add map dimension info",
    "labels": [
      "CI"
    ],
    "body": "Always generate a comment even if image upload failed and add API response for easier debugging.",
    "files": [
      {
        "filename": ".github/workflows/map-diff.yml"
      }
    ],
    "commits_messages": [
      "Add map dimension info\n\nAlways generate a comment even if image upload failed and add API response for easier debugging."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9951"
  },
  {
    "number": 9945,
    "title": "Saurian Juvenile",
    "labels": [
      "Graphics",
      "Units",
      "Campaign TDG"
    ],
    "body": "Updating the sprites for the saurian juveline for TDG. Colorset of the Saurians respect the ColorMap of the Saurians with some exceptions in the clothing.\r\n\r\nI created 4 Saurian Juveline for TDG, cause TDG had 4 Saurian Juveline.\r\nI also gave them a bobbing animation like a Saurian.\r\nexif metadata is added.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/civilian/saurian1.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/civilian/saurian2.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/civilian/saurian3.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/civilian/saurian4.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile-bob1.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile-bob2.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile-bob3.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile-bob4.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile-bob5.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile-bob6.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack-bob1.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack-bob2.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack-bob3.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack-bob4.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack-bob5.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack-bob6.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_backpack.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked-bob1.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked-bob2.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked-bob3.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked-bob4.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked-bob5.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked-bob6.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_cloaked.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_devotee-bob1.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_devotee-bob2.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_devotee-bob3.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_devotee-bob4.png"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/images/units/saurian-juvenile/juvenile_devotee-bob5.png"
      }
    ],
    "commits_messages": [
      "Saurian Juvenile\n\nUpdating the sprites for the saurian juveline for TDG.\nColorset of the Saurians respect the ColorMap of the Saurians with some exceptions in the clothing.",
      "Delete data/campaigns/The_Deceivers_Gambit/scenarios/08_Ruins_of_Saurgrath.cfg.bak\n\nThis data was added accidentally.",
      "Juvenile PR fix\n\nFix via wmlindent",
      "Update 08_Ruins_of_Saurgrath.cfg",
      "Update 08_Ruins_of_Saurgrath.cfg",
      "Update 08_Ruins_of_Saurgrath.cfg\n\nAdded in the old style like soliton- comment.",
      "Update 08_Ruins_of_Saurgrath.cfg\n\nFix start_time and base_score",
      "Update 08_Ruins_of_Saurgrath.cfg",
      "Update Saurian_Juvenile.cfg",
      "Update 08_Ruins_of_Saurgrath.cfg",
      "Update 08_Ruins_of_Saurgrath.cfg\n\nNow it should like the original."
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9945"
  },
  {
    "number": 9944,
    "title": "help: link base and overlay terrains in terrain help pages (#9456)",
    "labels": [
      "UI",
      "Help",
      "Terrain"
    ],
    "body": "Resolves #9456 by linking the help pages for Base and Overlay terrain for composite terrains.\r\n\r\n![Screenshot from 2025-02-23 16-20-28](https://github.com/user-attachments/assets/a5957dc7-4ed5-490d-800f-7c1e8c42655c)\r\n",
    "files": [
      {
        "filename": "src/gui/dialogs/help_browser.cpp"
      },
      {
        "filename": "src/help/help_topic_generators.cpp"
      },
      {
        "filename": "src/terrain/terrain.hpp"
      }
    ],
    "commits_messages": [
      "help: link base and overlay terrains in terrain help pages (#9456)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9944"
  },
  {
    "number": 9897,
    "title": "Only attempt to load .cfg scenarios in MP lobby",
    "labels": [
      "MP Lobby"
    ],
    "body": "The built-in editor only allows saving to `.cfg` files. Even the editor only tries to load `.cfg`, `.map`, or `.mask` files.\r\n\r\nhttps://github.com/wesnoth/wesnoth/blob/c5c7674cf5e079113e918126ab9a038f1e434951/src/editor/map/map_context.cpp#L198-L204\r\n\r\nSo it makes sense to me to only attempt to load .cfg files when the MP lobby tries to find user scenarios.\r\n\r\nCloses #4363",
    "files": [
      {
        "filename": "src/game_initialization/create_engine.cpp"
      }
    ],
    "commits_messages": [
      "Only attempt to load .cfg scenarios (closes #4363)"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9897"
  },
  {
    "number": 9955,
    "title": "lua api: expose male/female names for races",
    "labels": [
      "Lua API"
    ],
    "body": "Resolves #9954.",
    "files": [
      {
        "filename": "src/scripting/lua_race.cpp"
      }
    ],
    "commits_messages": [
      "lua api: expose male/female names for races"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9955"
  },
  {
    "number": 9953,
    "title": "TDG: remove silent raven speed reduction, and use TRAIT_SLOW instead",
    "labels": [
      "Campaign TDG"
    ],
    "body": "TDG gives Delfador access to a loyal raven/dire raven/war harbinger. Currently, the speed for this unit is capped at 6, to prevent it from being overly-powerful when compared with other options.\r\n\r\nrevolting_peasant pointed out that this speed cap makes the raven's stats inconsistent with the numbers in \"view unit type\". To resolve that, this PR replaces the speed cap with {TRAIT_SLOW}.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      }
    ],
    "commits_messages": [
      "Update spellcasting.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9953"
  },
  {
    "number": 9374,
    "title": "fixup #8766",
    "labels": [
      "Campaign DW"
    ],
    "body": "This fixes a small dialogue issue introduced with PR #8766 ",
    "files": [
      {
        "filename": "data/campaigns/Dead_Water/scenarios/09_The_Mage.cfg"
      }
    ],
    "commits_messages": [
      "Merge pull request #2 from wesnoth/master\n\nUpdate to upstream",
      "fixup 96a66f65a7f9eaec223ad728343ff9926b040393"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9374"
  },
  {
    "number": 9949,
    "title": "Bump min Boost version to 1.70",
    "labels": [
      "Building",
      "SCons",
      "CMake"
    ],
    "body": null,
    "files": [
      {
        "filename": "CMakeLists.txt"
      },
      {
        "filename": "INSTALL.md"
      },
      {
        "filename": "SConstruct"
      },
      {
        "filename": "changelog.md"
      }
    ],
    "commits_messages": [
      "Bump min Boost version to 1.70"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9949"
  },
  {
    "number": 9408,
    "title": "World Conquest: Remove hard coded trainer indices",
    "labels": [
      "Campaign WC"
    ],
    "body": "Intended as a bug fix for: https://github.com/wesnoth/wesnoth/issues/9372\r\n\r\nRemoved hard-coded indices. Bonus points route through get_trainer so they should work as normal. This primarily updates training.list_available. References to the \"Among\" list_available parameter were also removed. The dark training was updated to not be visible on the invest screen as is default. The modding readme was updated to include this new functionality.\r\n\r\nEdit: I am working on testing this more extensively with friends, locally, in the meantime.",
    "files": [
      {
        "filename": "data/campaigns/World_Conquest/Modding.md"
      },
      {
        "filename": "data/campaigns/World_Conquest/lua/game_mechanics/invest/invest.lua"
      },
      {
        "filename": "data/campaigns/World_Conquest/lua/game_mechanics/training.lua"
      },
      {
        "filename": "data/campaigns/World_Conquest/resources/data/training.cfg"
      }
    ],
    "commits_messages": [
      "Remove hard coded incices\n\nRemoved hard coded indices. Bonus goes through get_trainer so they should work as normal.",
      "Update training.lua\n\nRemoved comments",
      "Update training.cfg\n\nRemoved upper case F to be lower case per normal .cfg coding standards",
      "Update Modding.md\n\nUpdated casing and modding readme comment for clarity.",
      "Update Modding.md\n\nRestoring [grade] base bracket.",
      "Update training.lua\n\nRemove spaces for tabs for linting purposes",
      "Update Modding.md\n\nchanging false to \"no\" per WML best practice",
      "Update training.cfg\n\nchanging false to \"no\" per WML best practice",
      "Update training.lua",
      "Tested working version of code\n\n\"yes\" as a string did not work correctly and since there are already \"false\" examples in this code, reverting.",
      "Update Modding.md",
      "Bugfixing - Manual Invest\n\nFlipped false to true to properly hide \"Dark\" training",
      "Merge branch 'WC_Trainers_Fix_9372' of https://github.com/richardalbee/wesnoth into WC_Trainers_Fix_9372"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9408"
  },
  {
    "number": 9914,
    "title": "THoT S7 Map: Aesthetic Revision",
    "labels": [
      "Campaign THoT"
    ],
    "body": "@Dalas121 This is the last aesthetic revision for a THoT Map I'll make, for Scenario 7. Like Scenario 1, this was intended to have an underground keep for Kal Kartha. Castle tiles for the orcs have been moved around, but there are the same number of them in total. The coordinates used in the scenario file stay the same due direction in which the map is expanded in, so it only requires map changes. I also added a changelog entry for all my THoT map revisions, so I hope this can be merged before 1.19.9.\r\n\r\nRKT gave some very useful feedback for this one. Thank you very much!\r\n\r\nCurrent Map:\r\n\r\n![07_Unrevised](https://github.com/user-attachments/assets/ed2eff4a-ac75-4e12-a623-38e3310c0602)\r\n\r\nProposed Map:\r\n\r\n![07_Revision_2](https://github.com/user-attachments/assets/d81bdb4e-9f7d-4136-a982-132d8c22d973)",
    "files": [
      {
        "filename": "changelog_entries/thot_maps.md"
      },
      {
        "filename": "data/campaigns/The_Hammer_of_Thursagan/maps/07_The_Siege_of_Kal_Kartha.map"
      }
    ],
    "commits_messages": [
      "THoT S7 Map: Aesthetic Revision",
      "Add changelog entry for THoT Map Changes"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9914"
  },
  {
    "number": 9859,
    "title": "Change zookeeper to former maintainer of TRoW",
    "labels": [
      "Campaign TRoW"
    ],
    "body": "@ln-zookeeper has not committed to TRoW since 2018.",
    "files": [
      {
        "filename": "data/campaigns/The_Rise_Of_Wesnoth/_main.cfg"
      }
    ],
    "commits_messages": [
      "Change zookeeper to former maintainer of TRoW\n\nNo contributions to TRoW since 2018"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9859"
  },
  {
    "number": 9857,
    "title": "Change Fabi/Fendrin to former maintainer of LoW",
    "labels": [
      "Campaign LoW"
    ],
    "body": "No commits to LoW since 2016 from @fendrin or Fabian M\u00fcller (not sure who this reffers to, but neither of these accounts have contributed in a very long time).",
    "files": [
      {
        "filename": "data/campaigns/Legend_of_Wesmere/_main.cfg"
      }
    ],
    "commits_messages": [
      "Change Fabi/Fendrin to former maintainer of LoW\n\nNo contributions since 2016"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9857"
  },
  {
    "number": 9856,
    "title": "Change zookeeper to former maintainer of HttT",
    "labels": [
      "Campaign HttT"
    ],
    "body": "@ln-zookeeper Hasn\u2019t commited to HttT since 2018. I haven\u2019t removed them from HttT\u2019s credits, but I have replaced \u201ccurrent maintainer\u201d with \u201cformer maintainer\u201d, which is more accurate.",
    "files": [
      {
        "filename": "data/campaigns/Heir_To_The_Throne/_main.cfg"
      }
    ],
    "commits_messages": [
      "Change zookeeper to former maintainer of HttT\n\nNo contributions to HttT since 2018"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9856"
  },
  {
    "number": 9866,
    "title": "Green Isle Encyclopedia Tweaks",
    "labels": [
      "Prose",
      "Help"
    ],
    "body": "Some small tweaks to the Green Isle section of the encyclopedia I recently added.\r\n\r\n@Dalas121 Needs your review",
    "files": [
      {
        "filename": "data/core/encyclopedia/geography.cfg"
      }
    ],
    "commits_messages": [
      "Tweaks to encyclopedia Green Isle section",
      "Tweak Oldwood description",
      "Tweaks based on Wedge\u2019s suggestions",
      "Remove somewhat"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9866"
  },
  {
    "number": 9941,
    "title": "TDG: some S00 onboarding improvements",
    "labels": [
      "Campaign TDG"
    ],
    "body": "Based on: https://forums.wesnoth.org/viewtopic.php?p=696551#p696551\r\n\r\nMakes the \"_Delfador does not use XP to level-up_\" message less likely to appear in the first scenario, and elaborates on how delfador _does_ level-up.",
    "files": [
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/scenarios/00_Graduation.cfg"
      },
      {
        "filename": "data/campaigns/The_Deceivers_Gambit/utils/spellcasting.cfg"
      }
    ],
    "commits_messages": [
      "Update spellcasting.cfg",
      "Update 00_Graduation.cfg",
      "Update 00_Graduation.cfg",
      "Update spellcasting.cfg",
      "Update spellcasting.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9941"
  },
  {
    "number": 9939,
    "title": "Improve Galleon Unit Description",
    "labels": [
      "Units"
    ],
    "body": "I remade the Galleon unit description. The detail on their origin in the Green Isle in new, but their appearance in TRoW would suggest this.",
    "files": [
      {
        "filename": "data/core/units/boats/Galleon.cfg"
      }
    ],
    "commits_messages": [
      "Improve Galleon Unit Description",
      "Add Wedge/Vultraz suggestions",
      "Update Galleon.cfg"
    ],
    "url": "https://github.com/wesnoth/wesnoth/pull/9939"
  }
]